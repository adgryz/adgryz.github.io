{"version":3,"sources":["components/AlarmWarning.js","Routes.js","scenes/SignIn/services/api.js","scenes/Administration/services/api.js","AppDataProvider.js","components/AppBar.js","components/Nav.js","components/Layout.js","components/Authentication.js","components/Loading.js","components/MainLoading.js","scenes/SignIn/SignIn.js","scenes/Administration/AdministrationDataProvider.js","components/CRUDs/CrudList.js","scenes/Administration/scenes/Users/UsersList.js","scenes/Administration/scenes/Buildings/BuildingsList.js","scenes/Administration/scenes/Indicators/formConfig.js","scenes/Administration/scenes/Indicators/IndicatorsForm.js","components/CRUDs/TextField.js","scenes/Administration/scenes/Users/UserForm.js","components/CRUDs/SelectField.js","scenes/Administration/scenes/Buildings/BuildingForm.js","scenes/Administration/scenes/CommonModal.js","scenes/Administration/index.js","scenes/Administration/Administration.js","scenes/Analysis/constants.js","scenes/Analysis/AnalysisDataProvider.js","components/MathParser.js","components/MultiCheckboxGroup.js","utils/formaters.js","scenes/Analysis/components/MeasurementsPicker.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/utils/constants.js","components/Charts/utils/chartTypes.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/utils/types.js","scenes/Analysis/components/DataInputForm.js","scenes/Analysis/components/StyledDrawer.js","scenes/Analysis/components/SetupList.js","sleep.js","scenes/Analysis/services/api.js","components/DisabledInput.js","components/BuildingSelect.js","components/FormItemWrapper.js","scenes/Analysis/components/StyledForm.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/Dialogs/LoadDataDialog.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/MenuElements/LoadData.js","components/ColorSelect.js","components/VisibilitySwitch.js","scenes/Analysis/components/AxisSelect.js","scenes/Analysis/components/PathSelect.js","utils/Subscriber.js","utils/delayed.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/Dialogs/UseDataDialog.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/MenuElements/UseData.js","scenes/Analysis/components/AxisSideSelect.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/Dialogs/AxisDialog.js","scenes/Analysis/components/SelectxKey.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/Dialogs/XAxisDialog.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/Dialogs/EditSettingsDialog.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/MenuElements/ConfigChart.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/utils/defaults.js","scenes/Analysis/scenes/ChartCreate/ChartSetup/index.js","components/Charts/utils/filters.js","components/Charts/utils/calculate.js","components/Charts/RegresionSummary.js","components/Charts/CustomXAxis.js","components/Charts/CustomYAxis.js","components/Charts/CustomTooltip.js","components/Charts/CustomLegend.js","components/Charts/CustomLimit.js","components/Charts/Common.js","components/Charts/LineChart.js","components/Charts/CustomArea.js","scenes/Analysis/scenes/ChartCreate/NoChartReason.js","scenes/Analysis/scenes/ChartCreate/ChartCreate.js","scenes/Analysis/scenes/ChartCreate/index.js","scenes/Analysis/components/ChartSelect.js","scenes/Analysis/scenes/ChartTypeSelect.js","scenes/Analysis/Analysis.js","scenes/Analysis/index.js","scenes/Dashboard/components/CardValue.js","scenes/Dashboard/components/AnnualData.js","scenes/Dashboard/components/CommunityCompare.js","scenes/Dashboard/components/TimeSection.js","scenes/Dashboard/DashboardDataProvider.js","scenes/Dashboard/scenes/BuildingDetails.js","components/Charts/BarChart.js","components/Charts/PieChart.js","components/CustomChart.js","scenes/Dashboard/components/ChartCard.js","scenes/Dashboard/scenes/chartConfig/day.js","scenes/Dashboard/scenes/chartConfig/week.js","utils/dictionaries/energyUsageAreas.js","utils/dictionaries/index.js","scenes/Dashboard/components/GainTip.js","scenes/Dashboard/scenes/chartConfig/month.js","scenes/Dashboard/scenes/chartConfig/year.js","scenes/Dashboard/scenes/chartConfig/index.js","scenes/Dashboard/scenes/Charts.js","scenes/Dashboard/components/TimeSelect.js","scenes/Dashboard/components/InlineValue.js","scenes/Dashboard/components/CurrentData.js","scenes/Dashboard/services/api.js","scenes/Dashboard/scenes/TopBar.js","scenes/Dashboard/Dashboard.js","scenes/Dashboard/index.js","scenes/Reports/services/api.js","components/PeriodSelect.js","scenes/Reports/scenes/ReportConfig.js","scenes/Reports/scenes/ConfirmLoad.js","scenes/Reports/components/Page.js","scenes/Reports/components/PageHeading.js","scenes/Reports/components/ReportNavigation.js","scenes/Reports/components/ChartHolder.js","scenes/Reports/scenes/chartsConfig.js","scenes/Reports/components/Conclusion.js","scenes/Reports/scenes/BuildingReport.js","scenes/Reports/components/FrontPage.js","scenes/Reports/scenes/Summary.js","scenes/Reports/scenes/ReportGeneration.js","scenes/Reports/components/Section.js","scenes/Reports/components/StickySection.js","scenes/Reports/scenes/ReportDownload.js","scenes/Reports/scenes/Generation.js","scenes/Reports/index.js","scenes/Reports/Reports.js","scenes/Reports/ReportsDataProvider.js","scenes/ReportsGenerator/components/ChartHolder.js","scenes/ReportsGenerator/scenes/reportConfig.js","components/Charts/AreaChart.js","scenes/ReportsGenerator/scenes/AreaExample.js","components/Charts/ScatteredChart.js","scenes/ReportsGenerator/scenes/ScatteredExample.js","scenes/ReportsGenerator/scenes/BuildingReport.js","scenes/ReportsGenerator/services/api.js","scenes/ReportsGenerator/ReportsGenerator.js","scenes/ReportsGenerator/index.js","scenes/Alarms/services/const.js","scenes/Alarms/services/alarms.js","scenes/Alarms/services/allUsersAlarms.js","scenes/Alarms/AlarmsDataProvider.js","scenes/Alarms/components/AlarmsTable.js","scenes/Alarms/scenes/AlarmsSettings.js","scenes/Alarms/scenes/AdminAlarms.js","scenes/Alarms/scenes/UserAlarms.js","scenes/Alarms/index.js","scenes/Alarms/Alarms.js","scenes/Db/services/api.js","scenes/Db/DbDataProvider.js","scenes/Db/scenes/Buildings/BuildingsList.js","scenes/Db/scenes/HookUps/HookUpsList.js","scenes/Db/scenes/Invoices/InvoicesList.js","scenes/Db/scenes/DataExport/DataExport.js","components/CRUDs/NumberField.js","scenes/Db/scenes/Buildings/BuildingForm.js","scenes/Db/scenes/HookUps/HookUpForm.js","scenes/Db/scenes/Invoices/InvoiceForm.js","scenes/Db/scenes/CommonModal.js","scenes/Db/index.js","scenes/Db/Db.js","App.js","index.js"],"names":["withRouter","_ref","history","react_default","a","createElement","style","padding","background","display","alignItems","es_icon","type","color","fontSize","marginRight","es_button","onClick","push","postSignIn","Object","asyncToGenerator","regenerator_default","mark","_callee","email","password","resp","wrap","_context","prev","next","axios","post","login","sent","abrupt","stop","_x","_x2","apply","this","arguments","getEnums","_ref2","_callee2","_context2","get","getUsers","postNewUser","user","postUserUpdate","_ref3","_callee3","_context3","put","concat","id","postUserRemoval","_ref4","_callee4","userId","_context4","delete","_x3","getBuildings","_ref5","_callee5","_context5","postNewBuilding","_ref6","_callee6","building","_context6","_x4","postBuildingUpdate","_ref7","_callee7","_context7","_x5","postBuildingRemoval","_ref8","_callee8","buildingId","_context8","_x6","fakeBuildings","name","measurements","fakeCommunities","buildings","AppContext","React","createContext","AppDataProvider","appBaseData","children","_useState","useState","_useState2","slicedToArray","isLoading","setIsLoading","startAsyncTask","finishAsyncTask","_useState3","Boolean","localStorage","getItem","_useState4","isSignedIn","setIsSignedIn","_useState5","_useState6","setBuildings","_useState7","_useState8","communities","setCommunities","_useState9","_useState10","setEmail","_useState11","_useState12","setUserId","_useState13","_useState14","anyActiveAlarms","setAnyActiveAlarms","_useState15","_useState16","isAdmin","setIsAdmin","_useState17","_useState18","appHeader","setAppHeader","_useState19","_useState20","weatherStationName","setWeatherStationName","_useState21","_useState22","enums","setEnums","submitLogin","err","data","token","to","notification","error","message","status","setItem","defaults","headers","common","Authorization","getBaseData","success","reportEmail","roleId","buildingsResp","_ref9","enumErr","enumsResp","console","useEffect","log","state","Provider","value","Bar","styled","div","_templateObject","Title","h1","_templateObject2","LeftGroup","_templateObject3","MonitorTitle","_templateObject4","CenterGroup","_templateObject5","RightGroup","_templateObject6","AppBar","_useContext","useContext","components_AlarmWarning","removeItem","Container","nav","Nav_templateObject","Nav","menu","mode","defaultSelectedKeys","Item","key","Link","disabled","Main","Layout_templateObject","AppContent","Layout_templateObject2","View","Layout_templateObject3","Layout","components_AppBar","components_Nav","Authentication","react","Redirect","Spinner","Loading_templateObject","CubeMove","keyframes","Loading_templateObject2","CubeCss","css","Loading_templateObject3","CubeOne","Loading_templateObject4","CubeTwo","Loading_templateObject5","Loading","size","Layer","MainLoading_templateObject","MainLoading","components_Loading","Form","form","SignIn_templateObject","SignIn_templateObject2","Subtitle","h2","SignIn_templateObject3","StyledInput","Input","SignIn_templateObject4","StyledButton","Button","SignIn_templateObject5","SignIn","setFormEmail","setFormPassword","SignIn_Title","placeholder","onChange","e","target","length","AdministrationContext","AdministrationDataProvider","users","setUsers","currentId","setCurrentId","setMode","kind","setKind","isModalVisible","setIsModalVisible","getIndexById","findIndex","entry","_fetchUsers","_fetchBuildings","fetchBuildings","createBuilding","newBuilding","toConsumableArray","updateBuilding","updatedBuilding","newBuildings","deleteBuilding","BuildingToDelete","deleteIndex","splice","fetchUsers","createUser","newUser","objectSpread","updateUser","updatedUser","newUsers","deleteUser","userToDelete","currentConfig","currentEntry","find","CrudList","items","addText","onRead","onUpdate","onDelete","onCreate","list","itemLayout","locale","emptyText","dataSource","renderItem","item","actions","Meta","title","description","icon","float","UsersList","showUsersModal","CRUDs_CrudList","map","contactPerson","contactPhone","BuildingsList","showBuildingsModal","fullName","street","city","formConfig","categoryName","indicators","label","unit","minmax","Indicator","isEditing","inputs","Fragment","input_number","margin","min","max","fontWeight","marginLeft","IndicatorsForm","_ref$indicatorsData","indicatorsData","setIsEditing","btnLabel","tabs","defaultActiveKey","category","TabPane","tab","field","IndicatorsForm_Indicator","marginTop","CrudInput","editable","rest","objectWithoutProperties","es_input","assign","tag","pointerEvents","width","formItemLayout","labelCol","xs","span","sm","wrapperCol","TextField","formData","es_form","TextField_CrudInput","ROLES","DeleteContainer","UserForm_templateObject","UserForm","initialState","actionLabel","onCancel","onAction","_ref$removeMode","removeMode","address","createMode","setFormData","isPasswordValid","setIsPasswordValid","passwordRegexp","textProps","fieldName","defineProperty","CRUDs_TextField","Password","newValue","test","es_checkbox","checked","isValid","Option","Select","SelectField","options","es_select","BuildingForm","shortName","postOffice","hasMetersInstalled","CRUDs_SelectField","categoryId","buildingTypes","filter","justifyContent","CommonModal","closeModal","undefined","userModalConfigs","createUsers","header","component","Users_UserForm","readUsers","updateUsers","deleteUsers","buildingModalConfigs","createBuildings","Buildings_BuildingForm","readBuildings","updateBuildings","deleteBuildings","currentModalConfig","ModalComponent","modal","visible","footer","cancelText","Administration","Users_UsersList","Buildings_BuildingsList","Indicators_IndicatorsForm","scenes_CommonModal","PHASES","freeze","FETCHING","INITIAL","CREATE","EDIT","initialAnalysisState","phase","chartType","loadedData","AnalysisContext","AnalysisDataProvider","set","_this","setState","setPhase","setChartType","props","Component","TYPES","NORMAL","UPPER","LOWER","typesConverter","_typesConverter","str","esm_extends","getBracketExpr","pos","indexOf","start","slice","end","getFirstChart","splitChartConverter","splitter","result","_str$split","split","_str$split2","toArray","first","string","forEach","fun","_fun","startsWith","supConverter","subConverter","MathParser","conv","nResult","_unused","mathTextConverter","defaultRender","MultiCheckboxGroup","_ref$options","_ref$value","allowAll","allowSearch","filterOption","_ref$renderItem","filterValue","changeFilter","onCheck","event","filteredOptions","filteredEnabled","_filteredEnabled$redu","reduce","opt","isIn","checkedAll","checkedAny","reducer","includes","MultiCheckBox","Header","indeterminate","all","difference","uniq","allowClear","CheckboxGroup","MultiCheckboxGroup_templateObject","MultiCheckboxGroup_templateObject2","MultiCheckboxGroup_templateObject3","MultiCheckboxGroup_templateObject4","formatDate","timestamp","moment","unix","format","formatHour","formatDateTime","isFilledString","formatNumber","num","_ref$position","position","parseFloat","toFixed","Math","round","pow","removePolish","replace","measurementsConfig","require","getMeasurementLabel","getMeasurementUnit","inputValue","option","toLowerCase","MeasurementsPicker","_ref4$disabledValues","disabledValues","empty","HeaderItem","MeasurementsPicker_templateObject","MeasurementsPicker_templateObject2","MODES","MeasurementsPicker_templateObject3","Transfer","MeasurementsPicker_templateObject4","LOAD","extractDataSource","path","extractEntry","generateDataSource","measurement","generateDataDescription","generateDataSourcesSet","fields","m","NOT_LOADED_DATA_REASONS","AXISKEY","NOAXISDATA","formatReason","reason","_NOT_LOADED_DATA_REAS","formatReasonSymbol","_NOT_LOADED_DATA_REAS2","getDisableReason","xKey","_extractEntry","_extractEntry2","usedKey","load","settingsType","PropTypes","isRequired","showTitle","bool","showLegend","stopInteractive","stopAnimation","horizontalGrid","verticalGrid","xFormatter","func","yFormatter","limitType","axis","dashSpacing","number","dashLength","lineColor","lineWidth","withDescriptionType","showDescription","withIdType","withXKeyType","defaultAxisType","useDefault","oneOf","xAxisType","withTime","datesNumber","yAxisType","showAxis","side","rangeFrom","oneOfType","rangeTo","rangeSpan","usedDataType","dashed","chartConfigType","settings","shape","limits","arrayOf","xAxis","yAxises","ConfigType","EditDataType","community","periodType","DataType","time","EditUsedDataType","showRegresion","dotted","UsedDataType","show","DataInputForm_templateObject","StyledDrawer","StyledDrawer_StyledDrawer","bodyStyle","flex","Drawer","StyledDrawer_templateObject","SetupList","SetupList_templateObject","SetupAdd","StyledSetupAdd","StyledSetupDescription","SetupList_templateObject2","SetupList_templateObject3","ButtonForList","StyledButtonForList","SetupList_templateObject4","sleep","Promise","resolve","setTimeout","GenerateData","keys","_ref2$dataSets","dataSets","_ref2$day","day","_ref2$add","add","_ref2$start","_ref2$type","dbegin","random","begin","i","DataSetLabel","_ref$from","from","_ref$to","_ref$wavePeriod","wavePeriod","_ref$waveScale","waveScale","_ref$rand","rand","_ref$dataSets","generated","sin","PI","RandomSerie","val","getLineChartData","request","DisabledInput","DisabledInput_DisabledInput","DisabledInput_templateObject","communityFormatter","buildingsWithCommunities","buildingDefaultFilterOption","input","isLeaf","child","BuildingSelect","selectedCommunity","usedCommunities","StyledCommonSelect","StyledIcon","StyledTreeSelect","showSearch","treeDefaultExpandAll","notFoundContent","image","Empty","PRESENTED_IMAGE_SIMPLE","filterTreeNode","treeData","selectable","defaultFilterOption","CommunitySelect","StyledSelect","BuildingSelect_Option","Icon","BuildingSelect_templateObject","BuildingSelect_templateObject2","BuildingSelect_templateObject3","TreeSelect","BuildingSelect_templateObject4","validate","showSuccess","required","rules","isNull","isNil","onSuccess","isArray","validateStatus","help","errorMessage","_React$cloneElement","_ref2$valueKey","valueKey","_ref2$rules","triggered","isEdit","disableOnEdit","fetching","disableOnFetching","_triggered","setTrigger","onBlur","Children","only","validateFun","v","_wrappedOnChange","wrappedOnChange","StyledItem","cloneElement","propTypes","FormItemWrapper_templateObject","hasIcon","StyledFrom","StyledForm_templateObject","FormInner","StyledForm_templateObject2","FormFooter","StyledForm_templateObject3","RangePicker","DatePicker","isDateAfter","date","isBefore","LoadDataForm","editedData","onClose","loadData","updateData","now","setTriggered","_value","setValue","formSettings","updateWithValid","update","getBuildingDescription","c","onReset","genDefaultData","onSubmit","toValidate","preventDefault","periods","element","setupSettings","formatter","layout","hideRequiredMark","FormItemWrapper","BuildingSelect_CommunitySelect","BuildingSelect_BuildingSelect","default","LoadDataDialog_PeriodSelect","extractPeriodSettings","htmlType","PeriodSelect","LoadDataDialog_Option","clone","subtract","days3","week","weeks2","month","months3","year","userDefined","disabledDate","values","startOf","endOf","newData","updateNewData","object","LoadData","openedDialog","getIndex","onCloseDialog","openDialogLoad","openDialogEdit","newIndex","_this$props","toString","updateLoadedData","_this$props2","Error","zipped","zipWith","b","canRemove","usedData","config","removeData","_this$props3","_this$props4","_this2","_this$props5","DataInputForm","SetupList_ButtonForList","SetupList_SetupAdd","placement","LoadDataDialog","ColorSelect","colors","ColorSelect_Option","ColorSelectColor","ColorSelect_templateObject","VisibilitySwitch","VisibilitySwitch_VisibilitySwitch","VisibilitySwitch_templateObject","AxisSelect_Option","tree_select","dropdownStyle","maxHeight","overflow","Subscriber","classCallCheck","subscribe","callback","unSubCallback","subscribed","unsubscribe","DelayedRenderer","possibleConstructorReturn","getPrototypeOf","call","waiting","renderedProps","passed","subscriber","Subscripter","awaitDelay","updateAsyncProps","delay","defaultProps","DelayedExecution","_this3","renderedValue","prevProps","_this4","executeDelayedUpdate","canceled","_this5","selfUpdate","withDelayedUpdate","Element","_ref4$delay","delayed_DelayedExecution","DelayedInput","UseDataForm","axisData","defaultAxisData","handleAxisData","PathSelect","AxisSelect","changedFields","UseData","changeShow","UseData_Details","UseDataDialog","StyledDetails","UseData_templateObject","StyledSwitch","UseData_templateObject2","DetailsTitle","UseData_templateObject3","StyledWaringTip","UseData_templateObject4","_NOT_LOADED_DATA_REAS3","formatReasonColor","Details","tooltip","es_switch","AxisSideSelect","AxisSideSelect_Option","AxisForm","AxisDialog_DelayedInput","es_row","gutter","col","editedAxis","SelectxKey","addMeasurements","SelectxKey_StyledSelect","SelectxKey_Option","StyledOption","StyledPlaceholder","theme","warning","Warning","SelectxKey_templateObject","SelectxKey_templateObject2","SelectxKey_templateObject3","SelectxKey_templateObject4","XAxisForm","XAxisDialog_DelayedInput","className","step","precision","EditSettingsForm","EditSettingsDialog_DelayedInput","ConfigChart","openedDialogSettings","openedDialogXAxis","openedDialogYAxis","onCloseDialogSettings","onCloseDialogXAxis","onCloseDialogYAxis","openDialogSettings","openDialogXAxis","openDialogYAxis","addAxis","newAxis","ncofig","nAxises","updateAxis","used","removeAxis","axisId","updateSettings","newSettings","updateXAxis","_this$props6","ConfigChartSection","EditSettingsDialog","XAxisDialog","AxisDialog","ConfigChart_templateObject","defaultChartConfig","nextColorsPallete","alreadyUsed","possible","counter","pallete","sortBy","getUsedData","idx","colorPallete","Panel","Collapse","getActiveStatus","isActiveUsedData","isActiveChartConfig","ChartSetup","changeActiveKey","newActiveKey","activeKey","containsDataSource","fid","filteredOld","allNew","loaded","toAdd","newUsedData","chartConfig","updateUsedData","updateChartConfig","_getActiveStatus","updateActiveKeys","removeActiveKeys","activeStatus","prevActiveStatus","union","_getActiveStatus2","StyledChartSetup","collapse","bordered","MenuElements_LoadData","MenuElements_UseData","MenuElements_ConfigChart","ChartSetup_templateObject","getAllDataFromKey","dataFromAxis","dataFromLimits","dataFromAreas","areas","hasLeftAxis","hasRightAxis","dataFromXAxis","isTimeChart","autoRanges","limit","calculateSpan","power","scope","logRange","floor","log10","calculatePower","digit","minTick","maxTick","ceil","minValue","maxValue","formatRange","auto","Number","getRangeFromData","getTicks","range","dateTicks","_getRangeFromData","duration","diff","asHours","asDays","isNaN","iter","isAfter","domainMin","domainMax","ticks","normalizeInput","chartRangesFromConfig","autoRangeSpan","autoRangeFrom","autoRangeTo","_getRangeFromData2","mem","regresion","yKey","R2","_regresionData","n","_data$reduce","d","sx","sy","rx2","ry2","rxy","regresionData","ss","generateRegresionKey","addRegresionValues","nData","_ref10","_ref11","dataSet","k","filterDataByKeys","_used$regresion","regKey","RegresionSummary","ranges","isTime","calculate","nb","StyledRegresionSummary","RegresionValue","RegresionSummary_Title","Value","msInHour","toExponential","formatUnit","yUnit","topUnit","lowerUnit","timeUnit","RegresionSummary_templateObject","RegresionSummary_templateObject2","RegresionSummary_templateObject3","RegresionSummary_templateObject4","defaultPadding","left","right","DefaultAxis","dataKey","es6","tickMargin","stroke","height","xAxisHeight","CustomXAxis_CustomXLabel","CustomTimeAxis","_ref2$hasLeft","hasLeft","_ref2$hasRight","hasRight","tickFormatter","allowDataOverflow","tick","CustomXAxis_CustomizedTimeTick","interval","domain","defaultTickFormatter","CustomXAxis","CustomXLabel","_props$viewBox","viewBox","x","y","ny","transform","StyledLabel","StyledLabelInner","StyledLabelTransform","CustomizedTimeTick","textAnchor","payload","nx","calculateMiss","dataFormatter","dy","fill","PureComponent","CustomXAxis_templateObject","CustomXAxis_templateObject2","CustomXAxis_templateObject3","CustomYAxis","dataSpread","_chartRangesFromConfi","yAxisId","hide","orientation","calculateAxisWidth","CustomYAxis_CustomYLabel","CustomYLabel","CustomYAxis_StyledLabel","CustomYAxis_StyledLabelInner","StyledLabelInnerRotate","CustomYAxis_templateObject","CustomYAxis_templateObject2","CustomYAxis_templateObject3","CustomTooltip","active","simpleFormatter","mainFormatter","StyledTooltip","MainLabel","Table","Property","Feature","FeatureValue","PieTooltip","_ref2$dataFormatter","CustomTooltip_templateObject","CustomTooltip_templateObject2","CustomTooltip_templateObject3","CustomTooltip_templateObject4","CustomTooltip_templateObject5","CustomTooltip_templateObject6","CustomLegend","LegendTick","verticalAlign","CustomLegend_templateObject","CustomLimit","ifOverflow","strokeDasharray","strokeWidth","StyledChart","Common_templateObject","Common_templateObject2","ChartTitle","Common_templateObject3","RegresionContainer","Common_templateObject4","regresionPosition","xAxisRanges","dataWithReg","Common_Container","top","content","horizontal","vertical","prop","isAnimationActive","yAxis","area","opacity","y1","y2","fillOpacity","CustomArea","CustomLine","lineId","legendType","regresionSettings","any","activeDot","connectNulls","dot","NoChartReason","disableReason","noAxisData","asKey","canShow","canShowData","onlyXkey","NoChartReason_StyledDescription","Tip","NoChartReason_NoChartReason","NoChartReason_templateObject","StyledDescription","count","NoChartReason_templateObject2","filterLoadedData","usedKeys","ks","mergeData","merged","array","obj","nKeys","updateKeys","sorted","final","last","pop","ChartCreate","mapSetupToChart","xAxisMapper","other","_chartConfig","_usedData","_data","mapSetupResult","StyledChartCreate","SetupMenu","ChartCreate_ChartSetup","ChartPresentation","ChartContainer","ChartPlacement","LineChart","ChartCreate_templateObject","ChartCreate_templateObject2","ChartCreate_templateObject3","ChartCreate_templateObject4","ChartCreate_templateObject5","ChartSelect","setType","ChartSelect_ChartSelect","MainTitle","ChartsToSelect","selectConfig","text","ChartSelect_ChartOption","onSelect","Description","ChartSelect_Title","ChartOption","Charts","ChartType","ChartSelect_StyledIcon","IconDescription","ChartSelect_templateObject","ChartSelect_templateObject2","ChartSelect_templateObject3","ChartSelect_templateObject4","ChartSelect_templateObject5","ChartSelect_templateObject6","_templateObject7","_templateObject8","_templateObject9","ChartTypeSelect","setError","ChartTypeSelect_ChartTypeSelect","TypeSelection","Next","StyledNextButton","ChartTypeSelect_templateObject","ChartTypeSelect_templateObject2","ChartTypeSelect_templateObject3","ChartTypeSelect_templateObject4","Analysis","Analysis_templateObject","_PHASES$FETCHING$PHAS","Analysis_Analysis","scenes_ChartCreate","CardValue","loading","card","CardValue_CardValue","Label","CardValue_Value","spin","CardValue_templateObject","CardValue_templateObject2","CardValue_templateObject3","AnnualData","buildingData","getData","valueFormatter","getValue","BuildingData","elements","MyRow","renderElement","AnnualData_templateObject","AnnualData_templateObject2","CommunityCompare","CommunityCompare_CommunityCompare","InnerContent","CommunityCompare_templateObject","CommunityCompare_templateObject2","TimeSection","startTime","TimeSection_TimeSection","TimeSection_templateObject","initialDashboardState","currentBuildingId","currentTime","DashboardContext","getBuildingPosition","DashboardDataProvider","getBuilding","currentBuilding","finished","getCurrentTime","setCurrentTime","setCurrentBuilding","startFetching","nbuildings","endFetching","startFetchingActual","endFetchingActual","startFetchingData","endFetchingData","startFetchingTime","timeKey","endFetchingTime","depricateData","depricateHourData","depricateDailyData","BuildingDetails","fetchingData","BuildingDetails_BuildingDetails","compare","BuildingDetails_templateObject","extra","CustomBar","isFront","Extra","maxBarSize","BarChart_templateObject","customLabel","cx","cy","midAngle","outerRadius","percent","RADIAN","cos","mx","my","ex","ey","r","shortcut","CustomInner","innerContent","innerRadius","percentage","parseInt","R","FullDiv","InnerDiv","PieChart_templateObject","PieChart_templateObject2","getColor","colorMapper","prepareData","descriptionMapper","shortcutMapper","showEmpty","showTooltip","_ref6$innerRadius","_ref6$outerRadius","StyledPieChart","CustomTooltip_PieTooltip","startAngle","endAngle","minAngle","PieChart_CustomInner","PieChart_templateObject3","CHART_TYPES","LINE_CHART","BAR_CHART","PIE_CHART","CustomChart","_CHART_TYPES$LINE_CHA","Chart","BarChart","PieChart","ChartCard","spread","ChartCard_ChartCard","StyledCard","StyledTitle","headStyle","textAlign","ChartCard_templateObject","ChartCard_templateObject2","Card","ChartCard_templateObject3","dayConfig","heatPowerConsumption","electricityPowerConsumption","OZEPowerProduction","temperatures","co2","humidity","limitMin","limitMax","barProps","minTickGap","weekConfig","totalConsumption","OZEProduction","energyUsageAreas","mainCooling","mainVentilation","mainLight","cwu","co","dictionaries","GainTip","gain","calculateGain","GainTip_GainTip","IconContainer","Up","Down","DataContainer","GainTip_templateObject","GainTip_templateObject2","GainTip_templateObject3","GainTip_templateObject4","GainTip_templateObject5","mapUsageAreaDescription","Dictionaries","mapUsageAreaShortcut","monthConfig","dailyHeatConsumption","dailyElectricityConsumption","comparedConsumption","heatingCurve","addRegresionBoundary","spreadRegresion","dailyOZEProduction","yearConfig","monthlyHeatConsumption","monthlyElectricityConsumption","monthlyOZEProduction","chartDivisions","enableHidden","scenes_Charts","fetchingTime","shouldHideChart","currentElements","Charts_Charts","row","Row","idx2","Charts_Cell","passedChartConfig","Cell","StyledCell","Charts_templateObject","Charts_templateObject2","Charts_templateObject3","TimeSelect","TimeSelect_TimeSelect","es_radio","Group","buttonStyle","timeTabs","StyledRadioButton","Radio","TimeSelect_templateObject","TimeSelect_templateObject2","InlineValue","InlineValue_InlineValue","InlineValue_Label","InlineValue_Value","Unit","InlineValue_templateObject","InlineValue_templateObject2","InlineValue_templateObject3","InlineValue_templateObject4","CurrentData","WrappedCurrentData","WeatherStation","CurrentData_CurrentData","CurrentData_MyRow","PM10","good","bad","PM25","renderPMElement","pm","CurrentData_StyledInlineValue","colorPMConfig","medium","StyledInlineValue","isGood","borderRadius","textShadow","CurrentData_templateObject","CurrentData_templateObject2","CurrentData_templateObject3","CurrentData_templateObject4","current","getBuildingData","getBuildingActual","getBuildingTime","TopBar","updateTime","fetchBuildingTime","selected","fetchBuildingActual","fetchBuildingData","_fetchBuildingActual","_fetchBuildingData","_fetchBuildingTime","_useContext2","fetchingActual","currentData","TopBar_TopBar","BuildingSelectContainer","TimeSelectContainer","CurrentDataContainer","TopBar_templateObject","TopBar_templateObject2","TopBar_templateObject3","TopBar_templateObject4","secondsToMidnight","mmt","Dashboard","Dashboard_templateObject","DashboardInner","Dashboard_templateObject2","ChartsContainer","Dashboard_templateObject3","dailyInterval","setDailyInterval","actualInterval","setInterval","_resetHourData","resetHourData","dailyStart","resetDailyData","clearInterval","clearTimeout","warn","Dashboard_Dashboard","_resetDailyData","report","getReportData","fake","fakeData","chartsData","MonthPicker","components_PeriodSelect","_ref$formRules","formRules","isSameOrAfter","_onChange","second","PeriodSelect_PeriodSelect","PeriodSelect_Description","PeriodSelect_templateObject","PeriodSelect_templateObject2","ReportConfig","_ref$config","_community","setCommunity","_period","setPeriod","period","ReportConfigForm","TopSelectItem","CommunityContainer","com","per","ButtonContainer","ReportConfig_templateObject","ReportConfig_templateObject2","ReportConfig_templateObject3","ReportConfig_templateObject4","ConfirmLoad","onOk","Page_templateObject","PageHeading","PageHeading_PageHeading","StyledHref","href","PageHeading_templateObject","PageHeading_templateObject2","ReportNavigation","Page","NavigationSection","CustomLink","ReportLinks","ReportNavigation_ReportLink","genReportLink","ol","ReportNavigation_templateObject","ReportNavigation_templateObject2","ReportNavigation_templateObject3","StyledReportLink","li","ReportNavigation_templateObject4","ReportLink","ChartHolder_templateObject","CHART_SIZES","SMALL","MEDIUM","BIG","sizes","_sizes","defaultSize","ChartHolderItem","ChartHolder_templateObject2","chartSize","Conclusion","_ref$comment","comment","refId","changeValue","StyledConclusion","UsedInput","TextArea","autosize","ResultValue","Conclusion_templateObject","Conclusion_templateObject2","Conclusion_templateObject3","BuildingReport","_ref$comments","comments","ChartHolder","BuildingReport_WrappedChart","WrappedChart","FrontPage","author","StyledFrontPage","FrontPage_Title","Logo","src","alt","FrontPage_templateObject","FrontPage_templateObject2","FrontPage_templateObject3","Summary","summary","ReportGeneration","printRef","StyledReportGeneration","ReportInner","ReportContent","ref","ReportGeneration_templateObject","ReportGeneration_templateObject2","ReportGeneration_templateObject3","Section_templateObject","StyledSection","Section_templateObject2","Section_Title","StickySection","isSticky","StyledStickySection","components_Section","StickySection_ButtonContainer","StickySection_templateObject","StickySection_templateObject2","ReportDownload","_date","setDate","_author","setAuthor","ReportDowloadForm","ReportDownload_TopSelectItem","InputContainer","aut","ReportDownload_DelayedInput","date_picker","ReportDownload_ButtonContainer","react_to_print_lib_default","trigger","ReportDownload_templateObject","ReportDownload_templateObject2","ReportDownload_templateObject3","ReportDownload_templateObject4","Generation","reportConfig","setReportConfig","reportData","setReportData","reportComments","setReportComments","reloadAlert","setReloadAlert","useRef","_loadData","StyledGeneration","react_sticky_lib","relative","zIndex","StickyContainer","Generation_templateObject","Reports","initialReportsState","reports","ReportsContext","ReportsDataProvider","components_ChartHolder_templateObject","ChartHolder_sizes","components_ChartHolder_templateObject2","_settings$stackData","stackData","areaId","stackId","exampleConfig","Date","getTime","AreaExample","StyledExample","AreaChart","Array","dailyWaterConsumption","AreaExample_templateObject","descriptionId","radius","CustomDot","exampleData","len","temperature","ScatteredExample","ScatteredExample_StyledExample","ScatteredChart","ScatteredExample_templateObject","ChartHolder_ChartHolderItem","scenes_BuildingReport","StyledReport","BuildingReport_TestElement","components_ChartHolder","scenes_BuildingReport_WrappedChart","TestElement","BuildingReport_templateObject","StyledReportsGenerator","ReportsGenerator_templateObject","ReportsGenerator","params","match","quarter","passedId","ALARM_TYPES","userAlarmsTable","alarmType","treshold","offTime","getActiveAlarms","alarms","getAlarmsHistory","allUsersAlarmsHistory","getAllUsersActiveAlarms","getAllUsersAlarmsHistory","fakeSettings","isWatched","getAllUsersAlarmsSettings","postChangeSettingTreshold","postToggleIsSettingWatched","_x7","_x8","AlarmsContext","activeAlarms","setActiveAlarms","alarmsHistory","setAlarmsHistory","allUsersActiveAlarms","setAllUsersActiveAlarms","setAllUsersAlarmsHistory","allUsersAlarmsSettings","setAllUsersAlarmsSettings","_fetchActiveAlarms","_fetchAlarmsHistory","_fetchAllUsersActiveAlarms","_fetchAllUsersAlarmsHistory","_fetchAllUsersAlarmsSettings","fetchActiveAlarms","fetchAlarmsHistory","fetchAllUsersActiveAlarms","fetchAllUsersAlarmsHistory","fetchAllUsersAlarmsSettings","toggleIsSettingWatched","changeSettingTreshold","baseColumns","dataIndex","filters","onFilter","record","defaultSortOrder","sorter","render","columnsWithUsers","historyColumns","activeAlarmsColumns","alert","AlarmsTable","isHistory","initial","columns","table","pagination","SettingsList","changeTreshold","toggleIsWatched","setting","AlarmsSettings","allUsers","allBuildings","selectedUser","setSelectedUser","selectedBuilding","setSelectedBuilding","userOptions","AlarmsSettings_Option","buildingOptions","AlarmsSettings_SettingsList","AdminAlarms","components_AlarmsTable","scenes_AlarmsSettings","changeTreshol","UserAlarms","Alarms","scenes_AdminAlarms","scenes_UserAlarms","getHookUps","postNewHookUp","hookUp","postHookUpUpdate","postHookUpRemoval","hookUpId","getInvoices","postNewInvoice","invoice","postInvoiceUpdate","postInvoiceRemoval","invoiceId","DbContext","DbDataProvider","hookUps","setHookUps","invoices","setInvoices","_fetchHookUps","_fetchInvoices","fetchHookUps","fetchInvoices","createHookUp","newHookUps","updateHookUp","updatedHookUps","deleteHookUp","newHookUpss","createInvoice","newInvoices","updateInvoice","updatedInvoices","newInvoicess","deleteInvoice","HookUpsList","showHookUpsModal","hookUpTypes","InvoicesList","showInvoicesModal","getMonth","getFullYear","monthlyUsage","DataExport","buildingsDatas","buildingsIds","setBuildingsIds","DataExport_Option","buildingDataOptions","invoiceOptions","startDate","setStartDate","endDate","setEndDate","isFormValid","DataExport_MonthPicker","newStartDate","valueOf","newEndDate","toISOString","CrudInputNumber","NumberField","NumberField_CrudInputNumber","Tabs","postalCode","yearOfConstruction","modernisationDescription","hasThermostaticValves","cubature","mainElectricityHookUpPower","mainHeatHookUpPower","coolingType","lightingType","ventilationType","heatingSourceType","heatingEnergyCarrierType","renewableEnergySourceType","domesticHotWaterSourceType","adminProps","adminTab","userProps","userTab","overflowY","CRUDs_NumberField","coolingTypes","lightingTypes","ventilationTypes","heatingSourceTypes","heatingEnergyCarrierTypes","renewableEnergySourceTypes","domesticHotWaterSourceTypes","HookUpForm","tariff","orderedPower","onChangeValue","InvoiceForm","InvoiceForm_MonthPicker","scenes_Buildings_BuildingForm","hookUpModalConfigs","createHookUps","HookUps_HookUpForm","readHookUps","updateHookUps","deleteHookUps","invoiceModalConfigs","createInvoices","Invoices_InvoiceForm","readInvoices","updateInvoices","deleteInvoices","Db","scenes_Buildings_BuildingsList","HookUps_HookUpsList","Invoices_InvoicesList","scenes_DataExport_DataExport","Db_scenes_CommonModal","StyledApp","App_templateObject","App","locale_provider","pl_PL","Switch","Route","exact","src_AppDataProvider","Dashboard_DashboardDataProvider","Administration_AdministrationDataProvider","components_MainLoading","scenes_SignIn_SignIn","components_Authentication","components_Layout","scenes_Dashboard","scenes_Administration","Analysis_AnalysisDataProvider","scenes_Analysis","AlarmsDataProvider","scenes_Alarms","Reports_ReportsDataProvider","scenes_Reports","Db_DbDataProvider","scenes_Db","baseURL","process","GlobalStyle","createGlobalStyle","src_templateObject","reset","renderApp","app","BrowserRouter","src_App","ReactDOM","document","getElementById","then"],"mappings":"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","file":"static/js/main.6a2c7f76.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Icon, Button } from 'antd';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport { AlarmsRoute } from '../Routes';\r\n\r\nconst AlarmWarning = ({ history }) => {\r\n  const navigateToAlarms = () => history.push(AlarmsRoute);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 12,\r\n        background: '#f5222d',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n      }}\r\n    >\r\n      <Icon\r\n        type=\"alert\"\r\n        style={{ color: 'white', fontSize: 30, marginRight: 10 }}\r\n      />\r\n      <Button type=\"danger\" onClick={navigateToAlarms}>\r\n        Idż do alarmów\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(AlarmWarning);\r\n","export const AdministrationRoute = '/administration';\r\nexport const AlarmsRoute = '/alarms';\r\nexport const BenchmarksRoute = '/benchmarks';\r\nexport const DashboardRoute = '/dashboard';\r\nexport const DataAnalyticsRoute = '/data-analytics';\r\nexport const DbRoute = '/data';\r\nexport const HelpRoute = '/help';\r\nexport const ReportsRoute = '/reports';\r\nexport const SignInRoute = '/signin';\r\nexport const ReportsGeneratorRoute = '/reports-generator';\r\n","import axios from 'axios';\r\n\r\nexport const postSignIn = async (email, password) => {\r\n  const resp = await axios.post('/Account/login', {\r\n    login: email,\r\n    password,\r\n  });\r\n  return resp;\r\n};\r\n\r\nexport const getEnums = async () => {\r\n  const resp = await axios.get('/Enums');\r\n  return resp;\r\n};\r\n","import axios from 'axios';\r\n\r\nexport const getUsers = async () => {\r\n  const resp = await axios.get('/Users');\r\n  return resp;\r\n};\r\nexport const postNewUser = async user => {\r\n  await axios.post('/Account/register', user);\r\n};\r\nexport const postUserUpdate = async user => {\r\n  await axios.put(`/Users/${user.id}`, user);\r\n};\r\nexport const postUserRemoval = async userId => {\r\n  await axios.delete(`/Users/${userId}`, {});\r\n};\r\n\r\nexport const getBuildings = async () => {\r\n  const resp = await axios.get('/Buildings');\r\n  return resp;\r\n};\r\nexport const postNewBuilding = async building => {\r\n  await axios.post('/Buildings', building);\r\n};\r\nexport const postBuildingUpdate = async building => {\r\n  await axios.put(`/Buildings/${building.id}`, building);\r\n};\r\nexport const postBuildingRemoval = async buildingId => {\r\n  await axios.delete(`/Buildings/${buildingId}`, {});\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport to from 'await-to-js';\r\nimport { notification } from 'antd';\r\nimport { postSignIn, getEnums } from './scenes/SignIn/services/api';\r\nimport { getBuildings } from './scenes/Administration/services/api';\r\n\r\nconst fakeBuildings = [\r\n  {\r\n    id: 1,\r\n    name: 'SP nr 17',\r\n    measurements: ['temperature', 'co2', 'humidity', 'electricity', 'hotWater'],\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'Muzeum Kultury',\r\n    measurements: ['temperature', 'co2', 'humidity'],\r\n  },\r\n  {\r\n    id: 44,\r\n    name: 'Dom seniora',\r\n    measurements: ['electricity', 'hotWater'],\r\n  },\r\n];\r\n\r\nconst fakeCommunities = [\r\n  { id: 1, name: 'Gmina Ćmiłów', buildings: [1, 2] },\r\n  { id: 2, name: 'Gmina Poręb', buildings: [44] },\r\n];\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nconst AppDataProvider = ({ appBaseData, children }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const startAsyncTask = () => setIsLoading(true);\r\n  const finishAsyncTask = () => setIsLoading(false);\r\n  const [isSignedIn, setIsSignedIn] = useState(\r\n    Boolean(localStorage.getItem('user-token')),\r\n  );\r\n  const [buildings, setBuildings] = useState(fakeBuildings);\r\n  const [communities, setCommunities] = useState(fakeCommunities);\r\n  const [email, setEmail] = useState();\r\n  const [userId, setUserId] = useState();\r\n  const [anyActiveAlarms, setAnyActiveAlarms] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [appHeader, setAppHeader] = useState();\r\n  const [weatherStationName, setWeatherStationName] = useState();\r\n  const [enums, setEnums] = useState();\r\n\r\n  const submitLogin = async (email, password) => {\r\n    startAsyncTask();\r\n    const [err, resp] = await to(postSignIn(email, password));\r\n    if (err) {\r\n      notification.error({ message: 'Nie udało się zalogować' });\r\n      finishAsyncTask();\r\n      return;\r\n    }\r\n    const { data, status } = resp;\r\n    if (status === 200) {\r\n      const token = data.token;\r\n      localStorage.setItem('user-token', token);\r\n      axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n      getBaseData();\r\n      notification.success({ message: 'Pomyślnie zalogowano' });\r\n      setEmail(data.reportEmail);\r\n      setUserId(data.login);\r\n      setIsAdmin(data.roleId === 1);\r\n      setAnyActiveAlarms(data.anyActiveAlarms || true);\r\n      setAppHeader(data.appHeader);\r\n      setWeatherStationName(data.weatherStationName);\r\n    }\r\n    finishAsyncTask();\r\n  };\r\n\r\n  const getBaseData = async () => {\r\n    const [err, buildingsResp] = await to(getBuildings());\r\n    if (err) console.err('Get buildings eroor: ', err);\r\n    const [enumErr, enumsResp] = await to(getEnums());\r\n    if (enumErr) console.err('Get enums eroor: ', enumErr);\r\n\r\n    // FIX ME MATEUSZ MICHALEWSKI :)\r\n    buildingsResp.data = [\r\n      {\r\n        id: 1,\r\n        name: 'SP nr 17',\r\n        measurements: [\r\n          'temperature',\r\n          'co2',\r\n          'humidity',\r\n          'electricity',\r\n          'hotWater',\r\n        ],\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Muzeum Kultury',\r\n        measurements: ['temperature', 'co2', 'humidity'],\r\n      },\r\n      {\r\n        id: 44,\r\n        name: 'Dom seniora',\r\n        measurements: ['electricity', 'hotWater'],\r\n      },\r\n    ];\r\n    setBuildings(buildingsResp.data);\r\n    setEnums(enumsResp.data);\r\n    setIsSignedIn(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (appBaseData) {\r\n      const { buildings, enums, appHeader } = appBaseData;\r\n      console.log(appBaseData, 'xd');\r\n      setBuildings(buildings);\r\n      setEnums(enums);\r\n      setAppHeader(appHeader);\r\n      setIsAdmin(true);\r\n    }\r\n  }, [appBaseData]);\r\n\r\n  const state = {\r\n    isSignedIn,\r\n    isAdmin,\r\n    isLoading,\r\n    email,\r\n    userId,\r\n    anyActiveAlarms,\r\n    weatherStationName,\r\n    appHeader,\r\n    buildings,\r\n    communities,\r\n    enums,\r\n    startAsyncTask,\r\n    finishAsyncTask,\r\n    setIsSignedIn,\r\n    setEmail,\r\n    setUserId,\r\n    setBuildings,\r\n    setCommunities,\r\n    setAnyActiveAlarms,\r\n    setIsAdmin,\r\n    submitLogin,\r\n  };\r\n\r\n  return <AppContext.Provider value={state}>{children}</AppContext.Provider>;\r\n};\r\n\r\nexport { AppContext };\r\nexport default AppDataProvider;\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from 'antd';\r\n\r\nimport AlarmsWarning from './AlarmWarning';\r\nimport { AppContext } from '../AppDataProvider';\r\n\r\nconst AppBar = () => {\r\n  const { setIsSignedIn, appHeader, anyActiveAlarms } = useContext(AppContext);\r\n\r\n  return (\r\n    <Bar>\r\n      <LeftGroup>\r\n        <Title>KAPE</Title>\r\n      </LeftGroup>\r\n      <CenterGroup>\r\n        <MonitorTitle>{appHeader}</MonitorTitle>\r\n      </CenterGroup>\r\n      <RightGroup>\r\n        {anyActiveAlarms && <AlarmsWarning />}\r\n        <Button onClick={logOut}>wyloguj</Button>\r\n      </RightGroup>\r\n    </Bar>\r\n  );\r\n\r\n  function logOut() {\r\n    setIsSignedIn(false);\r\n    localStorage.removeItem('user-token');\r\n  }\r\n};\r\n\r\nconst Bar = styled.div`\r\n  display: flex;\r\n  background: #1890ff;\r\n  justify-content: space-between;\r\n  padding: 10px 0;\r\n  height: 56px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 30px;\r\n  margin: 0 80px 0 15px;\r\n`;\r\n\r\nconst LeftGroup = styled.div`\r\n  margin-left: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst MonitorTitle = styled.div`\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nconst CenterGroup = styled.div`\r\n  margin: 0 25px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst RightGroup = styled.div`\r\n  margin-right: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport default AppBar;\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Icon, Menu } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {\r\n  AdministrationRoute,\r\n  AlarmsRoute,\r\n  BenchmarksRoute,\r\n  DashboardRoute,\r\n  DataAnalyticsRoute,\r\n  DbRoute,\r\n  HelpRoute,\r\n  ReportsRoute,\r\n} from '../Routes';\r\n\r\nimport { AppContext } from '../AppDataProvider';\r\n\r\nconst Nav = () => {\r\n  const { isAdmin } = useContext(AppContext);\r\n\r\n  return (\r\n    <Container>\r\n      <Menu mode=\"inline\" defaultSelectedKeys={[DashboardRoute]}>\r\n        <Menu.Item key={DashboardRoute}>\r\n          <Link to={DashboardRoute}>\r\n            <Icon type=\"dashboard\" />\r\n            Pulpit\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key={AlarmsRoute}>\r\n          <Link to={AlarmsRoute}>\r\n            <Icon type=\"bell\" />\r\n            Alarmy\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key={DataAnalyticsRoute}>\r\n          <Link to={DataAnalyticsRoute}>\r\n            <Icon type=\"dot-chart\" />\r\n            Analiza Danych\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item disabled key={BenchmarksRoute}>\r\n          <Icon type=\"fund\" />\r\n          Porównanie\r\n        </Menu.Item>\r\n        <Menu.Item key={ReportsRoute}>\r\n          <Link to={ReportsRoute}>\r\n            <Icon type=\"file-pdf\" />\r\n            Raporty\r\n          </Link>\r\n        </Menu.Item>\r\n        <Menu.Item key={DbRoute}>\r\n          <Link to={DbRoute}>\r\n            <Icon type=\"database\" />\r\n            Baza Danych\r\n          </Link>\r\n        </Menu.Item>\r\n        {isAdmin && (\r\n          <Menu.Item key={AdministrationRoute}>\r\n            <Link to={AdministrationRoute}>\r\n              <Icon type=\"setting\" />\r\n              Administacja\r\n            </Link>\r\n          </Menu.Item>\r\n        )}\r\n        <Menu.Item key={HelpRoute}>\r\n          <Icon type=\"question-circle\" />\r\n          Pomoc\r\n        </Menu.Item>\r\n      </Menu>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.nav`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: -8px;\r\n  flex: 0 0 168px;\r\n  max-width: 168px;\r\n`;\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport AppBar from './AppBar';\r\n\r\nimport Nav from './Nav';\r\n\r\nconst Layout = ({ children }) => {\r\n  return (\r\n    <Main>\r\n      <AppBar />\r\n      <AppContent>\r\n        <Nav />\r\n        <View>{children}</View>\r\n      </AppContent>\r\n    </Main>\r\n  );\r\n};\r\n\r\nconst Main = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n`;\r\n\r\nconst AppContent = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  position: relative;\r\n  width: 100vw;\r\n`;\r\n\r\nconst View = styled.div`\r\n  flex: 1;\r\n  position: relative;\r\n  height: 100%;\r\n`;\r\n\r\nexport default Layout;\r\n","import React, { useContext, Fragment } from 'react';\r\nimport { Redirect } from 'react-router';\r\n\r\nimport { AppContext } from '../AppDataProvider';\r\nimport { SignInRoute } from '../Routes';\r\n\r\nconst Authentication = ({ children }) => {\r\n  const { isSignedIn } = useContext(AppContext);\r\n  return isSignedIn ? (\r\n    <Fragment>{children}</Fragment>\r\n  ) : (\r\n    <Redirect to={SignInRoute} />\r\n  );\r\n};\r\n\r\nexport default Authentication;\r\n","import React from 'react';\r\nimport styled, { css, keyframes } from 'styled-components';\r\n\r\nconst Loading = ({size, color}) => (\r\n  <Spinner>\r\n    <CubeOne color={color}/>\r\n    <CubeTwo color={color}/>\r\n  </Spinner>\r\n);\r\n\r\nconst Spinner = styled.div`\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 72px;\r\n  height: 72px;\r\n  position: relative;\r\n`;\r\n\r\nconst CubeMove = keyframes`\r\n  25% { \r\n    transform: translateX(42px) rotate(-90deg) scale(0.5);\r\n  } 50% { \r\n    transform: translateX(42px) translateY(42px) rotate(-179deg);\r\n  } 50.1% { \r\n    transform: translateX(42px) translateY(42px) rotate(-180deg);\r\n  } 75% { \r\n    transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\r\n  } 100% { \r\n    transform: rotate(-360deg);\r\n  }\r\n`;\r\n\r\nconst CubeCss = css`\r\n  background-color: white;\r\n  width: 30px;\r\n  height: 30px;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  animation: ${CubeMove} 1.8s infinite ease-in-out;\r\n`;\r\n\r\nconst CubeOne = styled.div`\r\n  ${CubeCss}\r\n  ${({color}) => color && `background-color: ${color}`}\r\n`;\r\n\r\nconst CubeTwo = styled.div`\r\n  ${CubeCss}\r\n  ${({color}) => color && `background-color: ${color}`}\r\n  animation-delay: -0.9s;\r\n`;\r\n\r\nexport default Loading;\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { AppContext } from '../AppDataProvider';\r\nimport Loading from './Loading';\r\n\r\nconst MainLoading = () => {\r\n  const { isLoading } = useContext(AppContext);\r\n  return isLoading ? (\r\n    <Layer>\r\n      <Loading />\r\n    </Layer>\r\n  ) : null;\r\n};\r\n\r\nconst Layer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 9999;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #1890ff;\r\n  opacity: 0.5;\r\n`;\r\n\r\nexport default MainLoading;\r\n","import React, { useContext, useState } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport { Input, Button } from 'antd';\r\n\r\nimport { AppContext } from '../../AppDataProvider';\r\nimport { DashboardRoute } from '../../Routes';\r\n\r\nconst SignIn = () => {\r\n  const { isSignedIn, isLoading, submitLogin } = useContext(AppContext);\r\n  const [email, setFormEmail] = useState('');\r\n  const [password, setFormPassword] = useState('');\r\n\r\n  return isSignedIn ? (\r\n    <Redirect to={DashboardRoute} />\r\n  ) : (\r\n    <Form>\r\n      <Title>KAPE</Title>\r\n      <Subtitle>monitor zużycia energii</Subtitle>\r\n      <StyledInput\r\n        placeholder=\"Email\"\r\n        value={email}\r\n        onChange={e => setFormEmail(e.target.value)}\r\n      />\r\n      <StyledInput\r\n        placeholder=\"Hasło\"\r\n        type=\"password\"\r\n        value={password}\r\n        onChange={e => setFormPassword(e.target.value)}\r\n      />\r\n      <StyledButton\r\n        disabled={!isFormValid() || isLoading}\r\n        onClick={() => submitLogin(email, password)}\r\n      >\r\n        Zaloguj\r\n      </StyledButton>\r\n    </Form>\r\n  );\r\n\r\n  function isFormValid() {\r\n    return email.length > 0 && password.length > 0;\r\n  }\r\n};\r\n\r\nconst Form = styled.form`\r\n  width: 600px;\r\n  display: flex;\r\n  position: absolute;\r\n  top: 35%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 50px;\r\n  box-shadow: 5px 5px 15px 0px rgba(0, 0, 0, 0.2);\r\n  border-radius: 2px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  margin-bottom: 0px;\r\n`;\r\n\r\nconst Subtitle = styled.h2`\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #1890ff;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst StyledInput = styled(Input)`\r\n  margin: 10px !important;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  margin-top: 15px;\r\n`;\r\n\r\nexport default SignIn;\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport { AppContext } from '../../AppDataProvider';\r\nimport {\r\n  getBuildings,\r\n  postNewBuilding,\r\n  postBuildingUpdate,\r\n  postBuildingRemoval,\r\n  getUsers,\r\n  postNewUser,\r\n  postUserUpdate,\r\n  postUserRemoval,\r\n} from './services/api';\r\n\r\nconst AdministrationContext = React.createContext({});\r\n\r\nconst AdministrationDataProvider = ({ children }) => {\r\n  const { startAsyncTask, finishAsyncTask } = useContext(AppContext);\r\n\r\n  const [buildings, setBuildings] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const [currentId, setCurrentId] = useState(null);\r\n  const [mode, setMode] = useState(null);\r\n  const [kind, setKind] = useState(null);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const getCurrentEntry = () => {\r\n    const data = kind === 'Users' ? users : buildings;\r\n    const currentEntry = data.find(entry => entry.id === currentId);\r\n    return currentEntry;\r\n  };\r\n  const getIndexById = id => {\r\n    const data = kind === 'Users' ? users : buildings;\r\n    const index = data.findIndex(entry => entry.id === id);\r\n    return index;\r\n  };\r\n\r\n  async function fetchUsers() {\r\n    startAsyncTask();\r\n    const { data } = await getUsers();\r\n    finishAsyncTask();\r\n    setUsers(data);\r\n  }\r\n  function createUser(newUser) {\r\n    postNewUser({ ...newUser });\r\n    setUsers([...users, newUser]);\r\n  }\r\n  function updateUser(updatedUser) {\r\n    postUserUpdate(updatedUser);\r\n    const newUsers = [...users];\r\n    const updateIndex = getIndexById(updatedUser.id);\r\n    newUsers[updateIndex] = updatedUser;\r\n    setUsers(newUsers);\r\n  }\r\n  function deleteUser(userToDelete) {\r\n    postUserRemoval(userToDelete.id);\r\n    const newUsers = [...users];\r\n    const deleteIndex = getIndexById(userToDelete.id);\r\n    newUsers.splice(deleteIndex, 1);\r\n    setUsers(newUsers);\r\n  }\r\n\r\n  async function fetchBuildings() {\r\n    startAsyncTask();\r\n    const { data } = await getBuildings();\r\n    finishAsyncTask();\r\n    setBuildings(data);\r\n  }\r\n  function createBuilding(newBuilding) {\r\n    postNewBuilding(newBuilding);\r\n    setBuildings([...buildings, newBuilding]);\r\n  }\r\n  function updateBuilding(updatedBuilding) {\r\n    postBuildingUpdate(updatedBuilding);\r\n    const newBuildings = [...buildings];\r\n    const updateIndex = getIndexById(updatedBuilding.id);\r\n    newBuildings[updateIndex] = updatedBuilding;\r\n    setBuildings(newBuildings);\r\n  }\r\n  function deleteBuilding(BuildingToDelete) {\r\n    postBuildingRemoval(BuildingToDelete.id);\r\n    const newBuildings = [...buildings];\r\n    const deleteIndex = getIndexById(BuildingToDelete.id);\r\n    newBuildings.splice(deleteIndex, 1);\r\n    setBuildings(newBuildings);\r\n  }\r\n\r\n  const state = {\r\n    buildings,\r\n    fetchBuildings,\r\n    createBuilding,\r\n    updateBuilding,\r\n    deleteBuilding,\r\n\r\n    users,\r\n    fetchUsers,\r\n    createUser,\r\n    updateUser,\r\n    deleteUser,\r\n\r\n    mode,\r\n    setMode,\r\n    kind,\r\n    setKind,\r\n    currentConfig: `${mode}${kind}`,\r\n\r\n    setCurrentId,\r\n    currentEntry: getCurrentEntry(),\r\n\r\n    isModalVisible,\r\n    setIsModalVisible,\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AdministrationContext.Provider value={state}>\r\n        {children}\r\n      </AdministrationContext.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { AdministrationContext };\r\nexport default AdministrationDataProvider;\r\n","import React from 'react';\r\nimport { List, Button } from 'antd';\r\n\r\nconst CrudList = ({ items, addText, onRead, onUpdate, onDelete, onCreate }) => {\r\n  return (\r\n    <div>\r\n      <List\r\n        itemLayout=\"horizontal\"\r\n        locale={{ emptyText: 'Brak Danych' }}\r\n        dataSource={items}\r\n        renderItem={item => (\r\n          <List.Item\r\n            key={item.id}\r\n            actions={[\r\n              <span onClick={() => onRead(item.id)}>szczegóły</span>,\r\n              <span onClick={() => onUpdate(item.id)}>edytuj</span>,\r\n              onDelete && <span onClick={() => onDelete(item.id)}>usuń</span>,\r\n            ]}\r\n          >\r\n            <List.Item.Meta title={item.name} description={item.description} />\r\n          </List.Item>\r\n        )}\r\n      />\r\n      {addText && (\r\n        <Button\r\n          type=\"primary\"\r\n          icon=\"plus\"\r\n          onClick={onCreate}\r\n          style={{ float: 'right' }}\r\n        >\r\n          {addText}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CrudList;\r\n","import React, { useContext } from 'react';\r\n\r\nimport CrudList from '../../../../components/CRUDs/CrudList';\r\nimport { AdministrationContext } from '../../AdministrationDataProvider';\r\n\r\nconst UsersList = () => {\r\n  const {\r\n    users,\r\n    setCurrentId,\r\n    setMode,\r\n    setKind,\r\n    setIsModalVisible,\r\n  } = useContext(AdministrationContext);\r\n\r\n  const showUsersModal = id => {\r\n    setIsModalVisible(true);\r\n    setCurrentId(id);\r\n    setKind('Users');\r\n  };\r\n\r\n  const handleCreateUser = () => {\r\n    showUsersModal();\r\n    setMode('create');\r\n  };\r\n\r\n  const handleReadUser = id => {\r\n    showUsersModal(id);\r\n    setMode('read');\r\n  };\r\n\r\n  const handleUpdateUser = id => {\r\n    showUsersModal(id);\r\n    setMode('update');\r\n  };\r\n\r\n  const handleDeleteUser = id => {\r\n    showUsersModal(id);\r\n    setMode('delete');\r\n  };\r\n\r\n  return (\r\n    <CrudList\r\n      items={users.map(user => ({\r\n        description: `Kontakt: ${user.contactPerson} - ${user.contactPhone}`,\r\n        ...user,\r\n      }))}\r\n      addText=\"Dodaj użytkownika\"\r\n      onCreate={handleCreateUser}\r\n      onRead={handleReadUser}\r\n      onUpdate={handleUpdateUser}\r\n      onDelete={handleDeleteUser}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React, { useContext } from 'react';\r\n\r\nimport CrudList from '../../../../components/CRUDs/CrudList';\r\nimport { AdministrationContext } from '../../AdministrationDataProvider';\r\n\r\nconst BuildingsList = () => {\r\n  const {\r\n    buildings,\r\n    setCurrentId,\r\n    setMode,\r\n    setKind,\r\n    setIsModalVisible,\r\n  } = useContext(AdministrationContext);\r\n\r\n  const showBuildingsModal = id => {\r\n    setIsModalVisible(true);\r\n    setCurrentId(id);\r\n    setKind('Buildings');\r\n  };\r\n\r\n  const handleCreateBuilding = () => {\r\n    showBuildingsModal();\r\n    setMode('create');\r\n  };\r\n\r\n  const handleReadBuilding = id => {\r\n    showBuildingsModal(id);\r\n    setMode('read');\r\n  };\r\n\r\n  const handleUpdateBuilding = id => {\r\n    showBuildingsModal(id);\r\n    setMode('update');\r\n  };\r\n\r\n  const handleDeleteBuilding = id => {\r\n    showBuildingsModal(id);\r\n    setMode('delete');\r\n  };\r\n\r\n  return (\r\n    <CrudList\r\n      items={buildings.map(building => ({\r\n        name: building.fullName,\r\n        description: `${building.street}, ${building.city}`,\r\n        id: building.id,\r\n      }))}\r\n      addText=\"Dodaj obiekt\"\r\n      onCreate={handleCreateBuilding}\r\n      onRead={handleReadBuilding}\r\n      onUpdate={handleUpdateBuilding}\r\n      onDelete={handleDeleteBuilding}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BuildingsList;\r\n","export const formConfig = [\r\n  {\r\n    categoryName: 'Wskaźniki emisji',\r\n    indicators: [\r\n      {\r\n        label: 'Wskaźnik emisji dla energii elektrycznej z sieci',\r\n        unit: 't/kWh',\r\n      },\r\n      {\r\n        label: 'Wskaźnik emisji dla ciepła z sieci',\r\n        unit: 't/kWh',\r\n      },\r\n\r\n      {\r\n        label: 'Wskaźnik emisji dla gazu',\r\n        unit: 't/kWh',\r\n      },\r\n      {\r\n        label: 'Wskaźnik emisji dla oleju opałowego',\r\n        unit: 't/kWh',\r\n      },\r\n      {\r\n        label: 'Wskaźnik emisji dla węgla kamienneg',\r\n        unit: 't/kWh',\r\n      },\r\n      {\r\n        label: 'Wskaźnik emisji dla biomasy',\r\n        unit: 't/kWh',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    categoryName: 'Progi do wykresów na pulpicie',\r\n    indicators: [\r\n      {\r\n        label: 'Wilgotność',\r\n        unit: '%',\r\n        minmax: true,\r\n      },\r\n      {\r\n        label: 'Stężenie CO2',\r\n        unit: 'ppm',\r\n        minmax: true,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    categoryName: 'Przedziały dla Pmów',\r\n    indicators: [\r\n      {\r\n        label: 'PM10',\r\n        unit: 'µg/m3',\r\n        minmax: true,\r\n        color: 'green',\r\n      },\r\n      {\r\n        label: 'PM10',\r\n        unit: 'µg/m3',\r\n        minmax: true,\r\n        color: 'orange',\r\n      },\r\n      {\r\n        label: 'PM10',\r\n        unit: 'µg/m3',\r\n        minmax: true,\r\n        color: 'red',\r\n      },\r\n      {\r\n        label: 'PM 2,5',\r\n        unit: 'µg/m3',\r\n        minmax: true,\r\n        color: 'green',\r\n      },\r\n      {\r\n        label: 'PM 2,5',\r\n        unit: 'µg/m3',\r\n        minmax: true,\r\n        color: 'orange',\r\n      },\r\n      {\r\n        label: 'PM 2,5',\r\n        unit: 'µg/m3',\r\n        minmax: true,\r\n        color: 'red',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    categoryName: 'Inne',\r\n    indicators: [\r\n      {\r\n        label: 'Uniwersalna liczba stopniodni',\r\n        unit: '',\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import React, { useState } from 'react';\r\nimport { InputNumber, Tabs, Button } from 'antd';\r\n\r\nimport { formConfig } from './formConfig';\r\n\r\nconst IndicatorsForm = ({ indicatorsData = [] }) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  const btnLabel = isEditing ? 'Zapisz' : 'Edytuj';\r\n  return (\r\n    <div>\r\n      <Tabs defaultActiveKey={formConfig[0].categoryName}>\r\n        {formConfig.map(category => (\r\n          <Tabs.TabPane tab={category.categoryName} key={category.categoryName}>\r\n            {category.indicators.map(\r\n              ({ label, unit, field, color, minmax }) => (\r\n                <Indicator\r\n                  isEditing={isEditing}\r\n                  label={label}\r\n                  value={indicatorsData[field]}\r\n                  minmax={minmax}\r\n                  color={color}\r\n                  unit={unit}\r\n                />\r\n              ),\r\n            )}\r\n          </Tabs.TabPane>\r\n        ))}\r\n      </Tabs>\r\n      <Button\r\n        type=\"primary\"\r\n        style={{ margin: 'auto', marginTop: 30 }}\r\n        onClick={() => setIsEditing(prev => !prev)}\r\n      >\r\n        {btnLabel}\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Indicator = ({ label, unit, color, minmax, value, isEditing }) => {\r\n  const inputs = minmax ? (\r\n    <>\r\n      <InputNumber\r\n        disabled={!isEditing}\r\n        style={{ margin: 10 }}\r\n        value={value ? value.min : ''}\r\n      />\r\n      <span>min</span>\r\n      <InputNumber\r\n        disabled={!isEditing}\r\n        style={{ margin: 10 }}\r\n        value={value ? value.max : ''}\r\n      />\r\n      <span>max</span>\r\n    </>\r\n  ) : (\r\n    <InputNumber disabled={!isEditing} style={{ margin: 10 }} value={value} />\r\n  );\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n      }}\r\n    >\r\n      <div\r\n        style={{ marginRight: 30, fontWeight: 'bold', color: color || 'black' }}\r\n      >\r\n        {label}\r\n      </div>\r\n      {inputs}\r\n      <div style={{ marginLeft: 20, fontWeight: 'bold' }}>{unit}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IndicatorsForm;\r\n","import React from 'react';\r\nimport { Input, Tag, Form } from 'antd';\r\n\r\nconst TextField = ({ name, label, formData, onChange, editable }) => {\r\n  return (\r\n    <Form.Item {...formItemLayout} label={label}>\r\n      <CrudInput\r\n        value={formData[name]}\r\n        onChange={e => onChange(name, e)}\r\n        editable={editable}\r\n      />\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nconst CrudInput = ({ value, onChange, editable, ...rest }) => {\r\n  return editable ? (\r\n    <Input value={value} onChange={onChange} {...rest} />\r\n  ) : (\r\n    <Tag style={{ pointerEvents: 'none', width: '100%' }} {...rest}>\r\n      {value || 'brak'}\r\n    </Tag>\r\n  );\r\n};\r\n\r\nexport const formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 8 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 16 },\r\n  },\r\n};\r\n\r\nexport default TextField;\r\n","import React, { useState } from 'react';\r\nimport { Input, Button, Form, Checkbox } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nimport TextField, {\r\n  formItemLayout,\r\n} from '../../../../components/CRUDs/TextField';\r\n\r\nconst ROLES = {\r\n  USER: 2,\r\n  PROVIDER: 3,\r\n};\r\n\r\nconst UserForm = ({\r\n  editable,\r\n  initialState,\r\n  actionLabel,\r\n  onCancel,\r\n  onAction,\r\n  removeMode = false,\r\n}) => {\r\n  const data = initialState || {\r\n    login: '',\r\n    name: '',\r\n    reportEmail: '',\r\n    contactPerson: '',\r\n    contactPhone: '',\r\n    address: '',\r\n    appHeader: '',\r\n    weatherStationName: '',\r\n    roleId: ROLES.USER,\r\n  };\r\n\r\n  const createMode = editable && !initialState;\r\n\r\n  const [formData, setFormData] = useState(data);\r\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\r\n\r\n  const onChange = (fieldName, e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const passwordRegexp = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/;\r\n\r\n  const handleAction = () => {\r\n    const isValid = passwordRegexp.test(formData.password);\r\n    setIsPasswordValid(isValid);\r\n    if (isValid || !createMode) {\r\n      onAction(formData);\r\n      onCancel();\r\n    }\r\n  };\r\n\r\n  const handleRoleCheck = e => {\r\n    const roleId = e.target.checked ? ROLES.PROVIDER : ROLES.USER;\r\n    setFormData({\r\n      ...formData,\r\n      roleId,\r\n    });\r\n  };\r\n\r\n  const handlePassword = e => {\r\n    const newValue = e.target.value;\r\n    setFormData({\r\n      ...formData,\r\n      password: newValue,\r\n    });\r\n    if (passwordRegexp.test(newValue)) {\r\n      setIsPasswordValid(true);\r\n    }\r\n  };\r\n\r\n  const textProps = {\r\n    editable,\r\n    formData,\r\n    onChange,\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {removeMode ? (\r\n        <div>Czy na pewno chcesz usunąć użytkownika ? </div>\r\n      ) : (\r\n        <React.Fragment>\r\n          <TextField {...textProps} name=\"login\" label=\"Login\" />\r\n          {createMode && (\r\n            <Form.Item {...formItemLayout} label=\"Hasło\">\r\n              <Input.Password\r\n                value={formData.password}\r\n                onChange={handlePassword}\r\n              />\r\n            </Form.Item>\r\n          )}\r\n          {!isPasswordValid && (\r\n            <div\r\n              style={{\r\n                margin: 5,\r\n                color: '#dd2222',\r\n                marginLeft: 25,\r\n                marginTop: -20,\r\n              }}\r\n            >\r\n              Hasło musi mieć co najmniej 6 znaków, małą literę, dużą literę i\r\n              cyfrę\r\n            </div>\r\n          )}\r\n          <TextField {...textProps} name=\"name\" label=\"Nazwa klienta\" />\r\n          <TextField {...textProps} name=\"reportEmail\" label=\"E-mail\" />\r\n          <TextField\r\n            {...textProps}\r\n            name=\"contactPerson\"\r\n            label=\"Osoba do kontaktu\"\r\n          />\r\n          <TextField {...textProps} name=\"contactPhone\" label=\"Telefon\" />\r\n          <TextField {...textProps} name=\"address\" label=\"Adres klienta\" />\r\n          <TextField\r\n            {...textProps}\r\n            name=\"appHeader\"\r\n            label=\"Nagłówek aplikacji\"\r\n          />\r\n          <TextField\r\n            {...textProps}\r\n            name=\"weatherStationName\"\r\n            label=\"Nazwa stacji pogodowej\"\r\n          />\r\n          <Checkbox\r\n            onChange={handleRoleCheck}\r\n            checked={formData.roleId === ROLES.PROVIDER}\r\n          >\r\n            Dostawca danych\r\n          </Checkbox>\r\n        </React.Fragment>\r\n      )}\r\n      <DeleteContainer>\r\n        <Button onClick={onCancel}>Anuluj</Button>\r\n        <Button type=\"primary\" onClick={handleAction}>\r\n          {actionLabel}\r\n        </Button>\r\n      </DeleteContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DeleteContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n  padding: 0 30px;\r\n`;\r\n\r\nexport default UserForm;\r\n","import React from 'react';\r\nimport { Select } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst SelectField = ({\r\n  value,\r\n  disabled,\r\n  items,\r\n  onChange,\r\n  placeholder,\r\n  label,\r\n}) => {\r\n  const options = items.map(item => (\r\n    <Option key={item.id} value={item.id}>\r\n      {label ? item[label] : item.name}\r\n    </Option>\r\n  ));\r\n\r\n  return (\r\n    <Select\r\n      style={{ width: '75%', margin: 20 }}\r\n      disabled={disabled}\r\n      value={value}\r\n      onChange={onChange}\r\n      placeholder={placeholder}\r\n    >\r\n      {options}\r\n    </Select>\r\n  );\r\n};\r\n\r\nexport default SelectField;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Button, Checkbox, Select } from 'antd';\r\n\r\nimport TextField from '../../../../components/CRUDs/TextField';\r\nimport SelectField from '../../../../components/CRUDs/SelectField';\r\nimport { AppContext } from '../../../../AppDataProvider';\r\nimport { AdministrationContext } from '../../AdministrationDataProvider';\r\n\r\nconst BuildingForm = ({\r\n  editable,\r\n  initialState,\r\n  actionLabel,\r\n  onCancel,\r\n  onAction,\r\n  removeMode = false,\r\n}) => {\r\n  const data = initialState || {\r\n    fullName: '',\r\n    shortName: '',\r\n    street: '',\r\n    city: '',\r\n    postOffice: '',\r\n    hasMetersInstalled: false,\r\n    category: 1,\r\n    userId: null,\r\n  };\r\n\r\n  const { enums } = useContext(AppContext);\r\n  const { users } = useContext(AdministrationContext);\r\n\r\n  const [formData, setFormData] = useState(data);\r\n\r\n  const onChange = (fieldName, e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleMetersCheck = e =>\r\n    setFormData({\r\n      ...formData,\r\n      hasMetersInstalled: e.target.checked,\r\n    });\r\n\r\n  const handleAction = () => {\r\n    onAction(formData);\r\n    onCancel();\r\n  };\r\n\r\n  const handleUserSelect = userId =>\r\n    setFormData({\r\n      ...formData,\r\n      userId,\r\n    });\r\n\r\n  const handleCategorySelect = categoryId =>\r\n    setFormData({\r\n      ...formData,\r\n      category: categoryId,\r\n    });\r\n\r\n  const textProps = {\r\n    editable,\r\n    onChange,\r\n    formData,\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {removeMode ? (\r\n        <div>Czy na pewno chcesz usunąć budynek ? </div>\r\n      ) : (\r\n        <>\r\n          <TextField {...textProps} name=\"fullName\" label=\"Pełna Nazwa\" />\r\n          <TextField {...textProps} name=\"shortName\" label=\"Skrót\" />\r\n          <TextField {...textProps} name=\"street\" label=\"Ulica\" />\r\n          <TextField {...textProps} name=\"city\" label=\"Miejscowość\" />\r\n          <TextField {...textProps} name=\"postalCode\" label=\"Kod pocztowy\" />\r\n          <TextField {...textProps} name=\"postOffice\" label=\"Poczta\" />\r\n          <Checkbox\r\n            onChange={handleMetersCheck}\r\n            checked={formData.hasMetersInstalled}\r\n            disabled={!editable}\r\n          >\r\n            Budynek opomiarowany\r\n          </Checkbox>\r\n          <SelectField\r\n            placeholder=\"Wybierz kategorię\"\r\n            onChange={handleCategorySelect}\r\n            disabled={!editable}\r\n            value={formData.category}\r\n            items={enums.buildingTypes}\r\n          />\r\n          <SelectField\r\n            placeholder=\"Wybierz użytkownika\"\r\n            onChange={handleUserSelect}\r\n            disabled={!editable}\r\n            value={formData.userId}\r\n            items={users.filter(user => user.roleId === 2)}\r\n          />\r\n        </>\r\n      )}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          marginTop: '20px',\r\n          padding: '0 30px',\r\n        }}\r\n      >\r\n        <Button onClick={onCancel}>Anuluj</Button>\r\n        <Button type=\"primary\" onClick={handleAction}>\r\n          {actionLabel}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BuildingForm;\r\n","import React, { useContext } from 'react';\r\nimport { Modal } from 'antd';\r\n\r\nimport { AdministrationContext } from '../AdministrationDataProvider';\r\nimport UserForm from './Users/UserForm';\r\nimport BuildingForm from './Buildings/BuildingForm';\r\n\r\nconst CommonModal = () => {\r\n  const {\r\n    // Buildings\r\n    createBuilding,\r\n    updateBuilding,\r\n    deleteBuilding,\r\n    // Users\r\n    createUser,\r\n    updateUser,\r\n    deleteUser,\r\n    // Rest\r\n    currentEntry,\r\n    setMode,\r\n    setKind,\r\n    currentConfig,\r\n    setIsModalVisible,\r\n    isModalVisible,\r\n  } = useContext(AdministrationContext);\r\n\r\n  const closeModal = () => {\r\n    setIsModalVisible(false);\r\n    setMode(undefined);\r\n    setKind(undefined);\r\n  };\r\n\r\n  const userModalConfigs = {\r\n    createUsers: {\r\n      header: 'Nowy Użytkownik',\r\n      component: () => (\r\n        <UserForm\r\n          editable\r\n          actionLabel=\"Stwórz\"\r\n          onAction={createUser}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    readUsers: {\r\n      header: 'Szczegoły Użytkownika',\r\n      component: () => (\r\n        <UserForm\r\n          actionLabel=\"Ok\"\r\n          initialState={currentEntry}\r\n          onAction={closeModal}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    updateUsers: {\r\n      header: 'Edytuj Użytkownika',\r\n      component: () => (\r\n        <UserForm\r\n          editable\r\n          actionLabel=\"Zapisz\"\r\n          initialState={currentEntry}\r\n          onAction={updateUser}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n      actionLabel: 'Zapisz',\r\n    },\r\n    deleteUsers: {\r\n      header: 'Usuń użytkownika',\r\n      component: () => (\r\n        <UserForm\r\n          removeMode\r\n          actionLabel=\"Usuń\"\r\n          initialState={currentEntry}\r\n          onAction={deleteUser}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n  };\r\n\r\n  const buildingModalConfigs = {\r\n    createBuildings: {\r\n      header: 'Nowy Obiekt',\r\n      component: () => (\r\n        <BuildingForm\r\n          editable\r\n          actionLabel=\"Stwórz\"\r\n          onAction={createBuilding}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    readBuildings: {\r\n      header: 'Szczegoły Obiektu',\r\n      component: () => (\r\n        <BuildingForm\r\n          actionLabel=\"Ok\"\r\n          initialState={currentEntry}\r\n          onAction={closeModal}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    updateBuildings: {\r\n      header: 'Edytuj Obiekt',\r\n      component: () => (\r\n        <BuildingForm\r\n          editable\r\n          actionLabel=\"Zapisz\"\r\n          initialState={currentEntry}\r\n          onAction={updateBuilding}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n      actionLabel: 'Zapisz',\r\n    },\r\n    deleteBuildings: {\r\n      header: 'Usuń Obiket',\r\n      component: () => (\r\n        <BuildingForm\r\n          removeMode\r\n          actionLabel=\"Usuń\"\r\n          initialState={currentEntry}\r\n          onAction={deleteBuilding}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n  };\r\n  const modalConfigs = {\r\n    ...userModalConfigs,\r\n    ...buildingModalConfigs,\r\n  };\r\n\r\n  const currentModalConfig = modalConfigs[currentConfig];\r\n  const ModalComponent = currentModalConfig\r\n    ? currentModalConfig.component\r\n    : null;\r\n\r\n  return currentModalConfig ? (\r\n    <Modal\r\n      title={currentModalConfig.header}\r\n      visible={isModalVisible}\r\n      footer={null}\r\n      onCancel={closeModal}\r\n      cancelText=\"Anuluj\"\r\n    >\r\n      <ModalComponent />\r\n    </Modal>\r\n  ) : null;\r\n};\r\n\r\nexport default CommonModal;\r\n","import Administration from './Administration';\r\n\r\nexport default Administration;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\n\r\nimport { AdministrationContext } from './AdministrationDataProvider';\r\n\r\nimport UsersList from './scenes/Users/UsersList';\r\nimport BuildingsList from './scenes/Buildings/BuildingsList';\r\nimport IndicatorsForm from './scenes/Indicators/IndicatorsForm';\r\nimport CommonModal from './scenes/CommonModal';\r\n\r\nconst Administration = () => {\r\n  const { fetchBuildings, fetchUsers } = useContext(AdministrationContext);\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchBuildings();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <Tabs defaultActiveKey=\"1\">\r\n        <Tabs.TabPane tab=\"Użytkownicy\" key=\"users\">\r\n          <UsersList />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Budynki\" key=\"buildings\">\r\n          <BuildingsList />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Wskaźniki\" key=\"indicators\">\r\n          <IndicatorsForm />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n      <CommonModal />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Administration;\r\n","export const PHASES = Object.freeze({\r\n    FETCHING: 'fetching',\r\n    INITIAL: 'initial',\r\n    CREATE: 'create',\r\n    EDIT: 'edit',\r\n});\r\n","import React, { Component } from 'react';\r\n\r\nimport { PHASES } from './constants';\r\n\r\nconst initialAnalysisState = {\r\n  phase: PHASES.CREATE,\r\n  chartType: null,\r\n  loadedData: {},\r\n};\r\n\r\nconst AnalysisContext = React.createContext({});\r\n\r\nclass AnalysisDataProvider extends Component {\r\n  set = field => value => this.setState(() => ({ [field]: value }));\r\n\r\n  setPhase = this.set('phase');\r\n\r\n  setChartType = (type) => {\r\n    this.setState(() => ({\r\n      phase: PHASES.CREATE,\r\n      chartType: type,\r\n    }))\r\n  }\r\n\r\n  state = {\r\n    ...initialAnalysisState,\r\n    setChartType: this.setChartType,\r\n    setPhase: this.setPhase,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <AnalysisContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </AnalysisContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport { AnalysisContext };\r\nexport default AnalysisDataProvider;\r\n","import React, { Fragment } from \"react\";\r\n\r\nconst TYPES = Object.freeze({\r\n  NORMAL: \"normal\",\r\n  UPPER: \"upper\",\r\n  LOWER: \"lower\",\r\n});\r\n\r\nconst typesConverter = {\r\n  [TYPES.NORMAL]: (str, { ...props }) => <span {...props}>{str}</span>,\r\n  [TYPES.UPPER]: (str, { ...props }) => <sup {...props}>{str}</sup>,\r\n  [TYPES.LOWER]: (str, { ...props }) => <sub {...props}>{str}</sub>,\r\n};\r\n\r\nconst getBracketExpr = str => {\r\n  const pos = str.indexOf(\"}\");\r\n  return {\r\n    start: str.slice(1, pos),\r\n    end: str.slice(pos + 1),\r\n  };\r\n};\r\n\r\nconst getFirstChart = str => ({\r\n  start: str.slice(0, 1),\r\n  end: str.slice(1),\r\n});\r\n\r\nconst splitChartConverter = (str, splitter, type) => {\r\n  const result = [];\r\n  const [first, ...rest] = str.split(splitter);\r\n  if (first.length) {\r\n    result.push({\r\n      type: TYPES.NORMAL,\r\n      string: first,\r\n    });\r\n  }\r\n  rest.forEach(e =>\r\n    (fun => {\r\n      const { start, end } = fun(e);\r\n      if (start.length) {\r\n        result.push({\r\n          type,\r\n          string: start,\r\n        });\r\n      }\r\n      if (end.length) {\r\n        result.push({\r\n          type: TYPES.NORMAL,\r\n          string: end,\r\n        });\r\n      }\r\n    })(e.startsWith(\"{\") ? getBracketExpr : getFirstChart),\r\n  );\r\n  return result;\r\n};\r\n\r\nconst supConverter = str => splitChartConverter(str, \"^\", TYPES.UPPER);\r\n\r\nconst subConverter = str => splitChartConverter(str, \"_\", TYPES.LOWER);\r\n\r\nconst mathTextConverter = str => {\r\n  try {\r\n    let result = [\r\n      {\r\n        type: TYPES.NORMAL,\r\n        string: str,\r\n      },\r\n    ];\r\n    const converters = [supConverter, subConverter];\r\n    converters.forEach(conv => {\r\n      let nResult = [];\r\n      result.forEach(({ type, string }) => {\r\n        if (type === TYPES.NORMAL) {\r\n          nResult = [...nResult, ...conv(string)];\r\n        } else {\r\n          nResult.push({\r\n            type,\r\n            string,\r\n          });\r\n        }\r\n      });\r\n      result = nResult;\r\n    });\r\n    return result.map(({ type, string }, key) =>\r\n      typesConverter[type](string, { key }),\r\n    );\r\n  } catch {\r\n    return str;\r\n  }\r\n};\r\n\r\nexport default ({ children, ...props }) => (\r\n  <Fragment {...props}>{mathTextConverter(children)}</Fragment>\r\n);\r\n","import React, {useState} from 'react'\r\nimport styled from 'styled-components';\r\nimport { difference, filter, uniq } from 'lodash';\r\n\r\nimport { Checkbox, Input } from 'antd';\r\n\r\nconst defaultRender = (e) => e;\r\n\r\nconst reducer = (prev, isIn) => ({\r\n    checkedAll: prev.checkedAll && isIn,\r\n    checkedAny: prev.checkedAny || isIn,\r\n});\r\n\r\nexport default ({\r\n    options = [],\r\n    value = [],\r\n    onChange,\r\n    allowAll,\r\n    allowSearch,\r\n    filterOption,\r\n    renderItem = defaultRender,\r\n}) => {\r\nconst [filterValue, changeFilter] = useState();\r\n\r\nconst onCheck = (event, key) => {\r\n    if(event.target.checked) {\r\n        onChange([...value, key]);\r\n    }\r\n    else {\r\n        onChange(filter(value, e => e !== key));\r\n    }\r\n}\r\n\r\nconst filteredOptions = filter(options,\r\n    e => !filterOption || !filterValue || filterValue === '' || filterOption(filterValue, e));\r\n\r\nconst filteredEnabled = filter(filteredOptions, e => !e.disabled);\r\n\r\nconst { checkedAll, checkedAny } = filteredEnabled.reduce(\r\n    (prev, opt) => reducer(prev, value.includes(opt.key)),\r\n    {\r\n        checkedAll: true,\r\n        checkedAny: false,\r\n    },\r\n);\r\n\r\nconst onCheckAll = () => {\r\n    const all = filteredEnabled.map(opt => opt.key)\r\n    if(checkedAll) {\r\n        onChange(difference(value, all));\r\n    }\r\n    else {\r\n        onChange(uniq([\r\n            ...all,\r\n            ...value,\r\n        ]));\r\n    }\r\n}\r\nreturn (\r\n    <MultiCheckBox>\r\n        {allowAll && (\r\n            <Header>\r\n                <Checkbox\r\n                    indeterminate={checkedAny && !checkedAll}\r\n                    onChange={onCheckAll}\r\n                    checked={checkedAll}\r\n                >\r\n                    Zaznacz wszystkie\r\n                </Checkbox>\r\n            </Header>)}\r\n        {allowSearch && (\r\n            <Header>\r\n                <Input\r\n                    placeholder=\"Wyszukaj\"\r\n                    value={filterValue}\r\n                    onChange={e => changeFilter(e.target.value)}\r\n                    allowClear\r\n\r\n                />\r\n            </Header>)}\r\n        <CheckboxGroup>\r\n            {filteredOptions.map(({key, ...props}) =>\r\n            <Item key={key}>\r\n                <Checkbox\r\n                    onChange={(event) => onCheck(event, key)}\r\n                    checked={value.includes(key)}\r\n                    {...props}\r\n                >\r\n                    {renderItem({key, ...props})}\r\n                </Checkbox>\r\n            </Item>)}\r\n        </CheckboxGroup>\r\n    </MultiCheckBox>);\r\n}\r\n\r\nconst MultiCheckBox = styled.div`\r\n    padding: 7px 15px;\r\n    border: 1px solid #E9E9E9;\r\n    border-radius: 4px;\r\n    .has-error & {\r\n        border-color: #f5222d;\r\n    }\r\n`;\r\n\r\nconst Header = styled.div`\r\n    border-bottom: 1px solid #E9E9E9;\r\n    padding: 8px 0 7px 0;\r\n`;\r\n\r\nconst CheckboxGroup = styled.div`\r\n    height: 160px;\r\n    overflow: auto;\r\n    ${Header} + & {\r\n        margin-top: 8px;\r\n    }\r\n`;\r\n\r\nconst Item = styled.div`\r\n    & + & {\r\n        margin-top: 8px;\r\n    }\r\n`;\r\n","import moment from \"moment\";\r\n\r\nexport const formatMonth = timestamp =>\r\n  moment.unix(timestamp / 1000).format(\"MMMM\");\r\nexport const formatDate = timestamp =>\r\n  moment.unix(timestamp / 1000).format(\"YYYY-MM-DD\");\r\nexport const formatHour = timestamp => moment.unix(timestamp / 1000).format(\"HH:mm\");\r\nexport const formatDateTime = timestamp =>\r\n  moment.unix(timestamp / 1000).format(\"YYYY-MM-DD HH:mm\");\r\n\r\nexport const isFilledString = str => str && str.length;\r\n\r\nexport const formatNumber = (num, {position = 0} = {}) => (\r\n  position < 0 ? parseFloat(num.toFixed(-position)) : Math.round(num / 10**position) * 10**position\r\n);\r\n\r\nexport const removePolish = str =>\r\nstr.replace(/ę/ig,'e').replace(/[żź]/ig,'z').replace(/ó/ig,'o').replace(/ł/ig,'l')\r\n  .replace(/ć/ig,'c').replace(/ś/ig,'s').replace(/ń/ig,'n').replace(/ą/ig,'a')\r\n  .replace(/Ę/ig,'E').replace(/[ŻŹ]/ig,'Z').replace(/Ó/ig,'O').replace(/Ł/ig,'L')\r\n  .replace(/Ć/ig,'C').replace(/Ś/ig,'S').replace(/Ń/ig,'N').replace(/Ą/ig,'A');\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { filter } from 'lodash';\r\nimport { Transfer, Empty } from 'antd';\r\n\r\nimport { AppContext } from '../../../AppDataProvider';\r\n\r\nimport MathParser from '../../../components/MathParser';\r\nimport MultiCheckboxGroup from '../../../components/MultiCheckboxGroup';\r\n\r\nimport { removePolish } from '../../../utils/formaters';\r\n\r\nconst measurementsConfig = require('./measurementsConfig.json');\r\n\r\nexport const getMeasurementLabel = (key) =>\r\n    measurementsConfig.measurements.find(e => e.key === key).label;\r\n\r\nexport const getMeasurementUnit = (key) =>\r\n    measurementsConfig.measurements.find(e => e.key === key).unit;\r\n\r\nconst filterOption = (inputValue, option) =>\r\n    removePolish(option.label.toLowerCase()).includes(removePolish(inputValue.toLowerCase()));\r\n\r\nexport const MeasurementsPickerTransfer = ({onChange, building, value, disabledValues = [], ...props}) => {\r\n    const { buildings } = useContext(AppContext);\r\n    const measurements = building &&\r\n        buildings.find(({id}) => id === building).measurements;\r\n    const dataSource = measurements && filter(measurementsConfig.measurements,\r\n        ({key}) => measurements.includes(key));\r\n\r\n    const [selectedKeys, setSelectedKeys] = useState();\r\n\r\n    useEffect(() => {\r\n        setSelectedKeys([]);\r\n    }, [building]);\r\n\r\n    const handleSelectChange = (sourceSelectedKeys, targetSelectedKeys) => {\r\n        setSelectedKeys([...sourceSelectedKeys, ...targetSelectedKeys]);\r\n    };\r\n    \r\n    return measurements ?\r\n    (<MeasurementsPicker>\r\n        <Header>\r\n            <HeaderItem>Potencjalne dane</HeaderItem>\r\n            <HeaderItem>Wybrane dane</HeaderItem>\r\n        </Header>\r\n        <StyledTransfer\r\n            dataSource={dataSource.map((e) => ({\r\n                ...e,\r\n                disabled: disabledValues.includes(e.key),\r\n            }))}\r\n            showSearch\r\n            filterOption={filterOption}\r\n            onChange={onChange}\r\n            onSelectChange={handleSelectChange}\r\n            render={item => <MathParser>{item.label}</MathParser>}\r\n            {...props}\r\n            targetKeys={value}\r\n            selectedKeys={selectedKeys}\r\n        />\r\n    </MeasurementsPicker>)\r\n    :\r\n    (<Empty\r\n        description={\r\n            <span>\r\n                Wybierz budynek by zobaczyć oprzyrządowane dane\r\n            </span>\r\n        }\r\n    />);\r\n}\r\n\r\nexport default ({onChange, building, value, disabledValues = [], ...props}) => {\r\n    const { buildings } = useContext(AppContext);\r\n    const measurements = building &&\r\n        buildings.find(({id}) => id === building).measurements;\r\n    const dataSource = measurements && filter(measurementsConfig.measurements,\r\n        ({key}) => measurements.includes(key));\r\n    \r\n    return measurements ?\r\n    (<MultiCheckboxGroup\r\n        options={dataSource.map((e) => ({\r\n            ...e,\r\n            disabled: disabledValues.includes(e.key),\r\n        }))}\r\n        onChange={onChange}\r\n        allowAll\r\n        allowSearch\r\n        filterOption={filterOption}\r\n        renderItem={item => <MathParser>{item.label}</MathParser>}\r\n        value={value}\r\n        {...props}\r\n    />)\r\n    :\r\n    (<Empty\r\n        description={\r\n            <span>\r\n                Wybierz budynek by zobaczyć oprzyrządowane dane\r\n            </span>\r\n        }\r\n    />);\r\n}\r\n\r\nconst MeasurementsPicker = styled.div``;\r\n\r\nconst HeaderItem = styled.div`\r\n    flex: 1;\r\n    text-align: center;\r\n`;\r\n\r\nconst Header = styled.div`\r\n    display: flex;\r\n    & ${HeaderItem}:first-child {\r\n        margin-right: 24px;\r\n    }\r\n    & ${HeaderItem}:last-child {\r\n        margin-left: 24px;\r\n    }\r\n    margin-bottom: 8px;\r\n    font-size: 0.9rem;\r\n`;\r\n\r\nconst StyledTransfer = styled(Transfer)`\r\n    display: flex;\r\n    align-items: center;\r\n    & .ant-transfer-list {\r\n        width: unset;\r\n        flex: 1 0 180px;\r\n    }\r\n`;\r\n","import { getMeasurementLabel } from \"../../../../components/MeasurementsPicker\";\r\n\r\nexport const MODES = Object.freeze({\r\n  EDIT: \"edit\",\r\n  LOAD: \"load\",\r\n});\r\n\r\nexport const extractDataSource = path => {\r\n  const tab = path.split(\"-\");\r\n  return tab[0];\r\n};\r\n\r\n// Zwraca (0)id, (1)measurement\r\nexport const extractEntry = path => {\r\n  return path.split(\"-\");\r\n}\r\n\r\nexport const generateDataSource = (id, measurement) => `${id}-${measurement}`;\r\n\r\nexport const generateDataDescription = (description, measurement) =>\r\n  `${description} - ${getMeasurementLabel(measurement)}`;\r\n\r\nexport const generateDataSourcesSet = ({id, fields}) =>\r\n  fields.measurements.map( m => ({\r\n    dataSource: generateDataSource(id, m),\r\n    description: generateDataDescription(fields.description, m),\r\n  }));\r\n\r\nexport const NOT_LOADED_DATA_REASONS = Object.freeze({\r\n  AXISKEY: 'axiskey',\r\n  NOAXISDATA: 'noaxisdata',\r\n});\r\n\r\nexport const formatReason = (reason) => ({\r\n  [NOT_LOADED_DATA_REASONS.AXISKEY]: 'Dane odłożone na osi X',\r\n  [NOT_LOADED_DATA_REASONS.NOAXISDATA]: 'Brak pobranych danych odpowiadających pomiarowi wartości z osi X',\r\n})[reason];\r\n\r\nexport const formatReasonSymbol = (reason) => ({\r\n  [NOT_LOADED_DATA_REASONS.AXISKEY]: 'check',\r\n  [NOT_LOADED_DATA_REASONS.NOAXISDATA]: 'warning',\r\n})[reason];\r\n\r\nexport const formatReasonColor = (reason) => ({\r\n  [NOT_LOADED_DATA_REASONS.AXISKEY]: '#52c41a',\r\n  [NOT_LOADED_DATA_REASONS.NOAXISDATA]: '#faad14',\r\n})[reason];\r\n\r\nexport const getDisableReason = (dataSource, loadedData, xKey) => {\r\n  const [id, usedKey] = extractEntry(dataSource);\r\n  const { fields } = loadedData.find(load => load.id === id);\r\n  if(xKey === usedKey) {\r\n    return NOT_LOADED_DATA_REASONS.AXISKEY;\r\n  }\r\n  if(![...fields.measurements, 'time'].includes(xKey)) {\r\n    return NOT_LOADED_DATA_REASONS.NOAXISDATA;\r\n  }\r\n  return null;\r\n}\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const settingsType = {\r\n    title: PropTypes.string.isRequired,\r\n    showTitle: PropTypes.bool.isRequired,\r\n    showLegend: PropTypes.bool.isRequired,\r\n    stopInteractive: PropTypes.bool.isRequired,\r\n    stopAnimation: PropTypes.bool.isRequired,\r\n    horizontalGrid: PropTypes.bool.isRequired,\r\n    verticalGrid: PropTypes.bool.isRequired,\r\n    xFormatter: PropTypes.func,\r\n    yFormatter: PropTypes.func,\r\n};\r\nexport const limitType = {\r\n    description: PropTypes.string,\r\n    axis: PropTypes.string.isRequired,\r\n    dashSpacing: PropTypes.number.isRequired,\r\n    dashLength: PropTypes.number.isRequired,\r\n    lineColor: PropTypes.string.isRequired,\r\n    lineWidth: PropTypes.number.isRequired,\r\n    value: PropTypes.number.isRequired,\r\n};\r\nexport const withDescriptionType = {\r\n    description: PropTypes.string.isRequired,\r\n    showDescription: PropTypes.bool.isRequired,\r\n};\r\nconst withIdType = {\r\n    id: PropTypes.string.isRequired,\r\n};\r\nconst withXKeyType = {\r\n    xKey: PropTypes.string.isRequired,\r\n};\r\nconst defaultAxisType = {\r\n    ...withDescriptionType,\r\n    color: PropTypes.string.isRequired,\r\n    useDefault: PropTypes.oneOf([true]),\r\n}\r\n\r\nexport const xAxisType = {\r\n    ...withDescriptionType,\r\n    withTime: PropTypes.bool.isRequired,\r\n    color: PropTypes.string.isRequired,\r\n    datesNumber: PropTypes.number.isRequired,\r\n};\r\nexport const yAxisType = {\r\n    ...withDescriptionType,\r\n    ...withIdType,\r\n    color: PropTypes.string.isRequired,\r\n    showAxis: PropTypes.bool.isRequired,\r\n    side: PropTypes.oneOf([\"left\", \"right\"]),\r\n    unit: PropTypes.string.isRequired,\r\n    rangeFrom: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\r\n        .isRequired,\r\n    rangeTo: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n    rangeSpan: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\r\n        .isRequired,\r\n};\r\nexport const usedDataType = {\r\n    description: PropTypes.string.isRequired,\r\n    ...withIdType,\r\n    axis: PropTypes.string.isRequired,\r\n    dashed: PropTypes.bool.isRequired,\r\n    dashSpacing: PropTypes.number,\r\n    dashLength: PropTypes.number,\r\n    dataSource: PropTypes.string.isRequired,\r\n    lineColor: PropTypes.string.isRequired,\r\n    lineWidth: PropTypes.number.isRequired,\r\n};\r\nexport const chartConfigType = {\r\n    settings: PropTypes.shape(settingsType).isRequired,\r\n    limits: PropTypes.arrayOf(PropTypes.shape(limitType)),\r\n    xAxis: PropTypes.oneOfType([\r\n        PropTypes.shape({\r\n            ...xAxisType,\r\n            ...withXKeyType,\r\n        }),\r\n        PropTypes.shape({\r\n            ...yAxisType,\r\n            ...withXKeyType,\r\n        }),\r\n        PropTypes.shape({\r\n            ...defaultAxisType,\r\n            ...withXKeyType,\r\n        }),\r\n    ]).isRequired,\r\n    yAxises: PropTypes.arrayOf(PropTypes.shape(yAxisType).isRequired).isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { withDescriptionType } from '../../../../../../components/Charts/utils/chartTypes';\r\n\r\nexport const xAxisType = Object.freeze({\r\n  ...withDescriptionType,\r\n  color: PropTypes.string.isRequired,\r\n  datesNumber: PropTypes.number,\r\n  withTime: PropTypes.bool,\r\n  xKey: PropTypes.string.isRequired,\r\n  unit: PropTypes.string,\r\n  rangeFrom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  rangeTo: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  rangeSpan: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n});\r\n\r\nexport const yAxisType = Object.freeze({\r\n  color: PropTypes.string.isRequired,\r\n  showAxis: true,\r\n  side: PropTypes.oneOf([\"left\", \"right\"]),\r\n  ...withDescriptionType,\r\n  unit: PropTypes.string,\r\n  rangeFrom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  rangeTo: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  rangeSpan: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n})\r\n\r\nexport const settingsType = Object.freeze({\r\n  title: PropTypes.string.isRequired,\r\n  showTitle: PropTypes.bool.isRequired,\r\n  showLegend: PropTypes.bool.isRequired,\r\n  horizontalGrid: PropTypes.bool.isRequired,\r\n  verticalGrid: PropTypes.bool.isRequired,\r\n})\r\n\r\nexport const ConfigType = Object.freeze({\r\n  settings: PropTypes.shape({...settingsType}).isRequired,\r\n  xAxis: PropTypes.shape({\r\n    ...xAxisType,\r\n  }).isRequired,\r\n  yAxises: PropTypes.arrayOf(PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    fields: PropTypes.shape({...yAxisType}).isRequired,\r\n  }).isRequired).isRequired,\r\n});\r\n\r\nexport const EditDataType = Object.freeze({\r\n  building: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  community: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  description: PropTypes.string.isRequired,\r\n  measurements: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  periodType: PropTypes.string.isRequired,\r\n});\r\n\r\nexport const DataType = Object.freeze({\r\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  fields: PropTypes.shape({...EditDataType}).isRequired,\r\n  data: PropTypes.arrayOf(PropTypes.shape({\r\n    time: PropTypes.number.isRequired,\r\n  })),\r\n});\r\n\r\nexport const EditUsedDataType = Object.freeze({\r\n  description: PropTypes.string.isRequired,\r\n  axis: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n  showRegresion: PropTypes.bool,\r\n  dotted: PropTypes.bool,\r\n  lineWidth: PropTypes.number,\r\n  lineColor: PropTypes.string.isRequired,\r\n  dashed: PropTypes.bool,\r\n  dashLength: PropTypes.number,\r\n  dashSpacing: PropTypes.number,\r\n});\r\n\r\nexport const UsedDataType = Object.freeze({\r\n  dataSource: PropTypes.string.isRequired,\r\n  fields: PropTypes.shape({...EditUsedDataType}).isRequired,\r\n  show: PropTypes.bool.isRequired,\r\n});\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n  transition: background 1s ease-in;\r\n  & .ant-list-item {\r\n    padding: 8px 0;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Drawer } from 'antd';\r\n\r\nexport default ({children, ...props}) =>\r\n    <StyledDrawer\r\n        bodyStyle={{flex: 1}}\r\n        {...props}\r\n    >\r\n        {children}\r\n    </StyledDrawer>\r\n\r\nconst StyledDrawer = styled(Drawer)`\r\n    & .ant-drawer-wrapper-body {\r\n        overflow: auto;\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"antd\";\r\n\r\nexport const SetupList = styled.div``;\r\n\r\nexport const SetupAdd = ({description, onClick, icon, ...props}) => (\r\n  <StyledSetupAdd>\r\n    <StyledSetupDescription>\r\n      <Button\r\n        type=\"primary\"\r\n        icon={icon}\r\n        onClick={onClick}\r\n        {...props}\r\n      >\r\n        {description}\r\n      </Button>\r\n    </StyledSetupDescription>\r\n  </StyledSetupAdd>\r\n)\r\n\r\nconst StyledSetupAdd = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  margin-top: 4px;\r\n  margin-right: 8px;\r\n`;\r\nconst StyledSetupDescription = styled.div`\r\n  font-weight: 500;\r\n  flex: 1;\r\n`;\r\n\r\nexport const ButtonForList = ({onClick, disabled, children, ...props}) =>\r\n  <StyledButtonForList disabled={disabled} onClick={disabled ? undefined : onClick} {...props}>{children}</StyledButtonForList>\r\n\r\nconst StyledButtonForList = styled.span`\r\n  cursor: ${({disabled}) => disabled ? \"default\" : \"pointer\"}\r\n  color: ${({disabled}) => disabled ? \"#999\" : \"#1890ff\"}\r\n  user-select: none;\r\n  &:hover {\r\n    text-decoration: ${({disabled}) => disabled ? \"none\" : \"underline\"}\r\n  }\r\n`;\r\n","function sleep(time) {\r\n  return new Promise(resolve => setTimeout(resolve, time));\r\n}\r\n\r\nexport default sleep;\r\n","import moment from 'moment';\r\n\r\nimport sleep from '../../../sleep';\r\n\r\n// generator\r\nconst RandomSerie = ({\r\n  from = 10,\r\n  to = 15,\r\n  wavePeriod = 1,\r\n  waveScale = 0,\r\n  rand = 0.2,\r\n  dataSets = 50,\r\n} = {}) => {\r\n  const result = [];\r\n  for (let i = 0; i < dataSets; i+=1) {\r\n    const generated =\r\n      from +\r\n      ((to - from) * i) / (dataSets - 1) +\r\n      Math.sin(((i / (dataSets - 1)) * 2 * Math.PI) / wavePeriod) * waveScale +\r\n      rand * Math.random();\r\n    result.push(parseFloat(generated.toFixed(2)));\r\n  }\r\n  return result;\r\n};\r\n\r\nconst DataSetLabel = ({\r\n  dataSets = 50,\r\n  day = null,\r\n  add = 4,\r\n  start = null,\r\n  type = \"hours\",\r\n} = {}) => {\r\n  const result = [];\r\n  const dbegin = day || Math.round(10 + 1 * Math.random());\r\n  const begin = moment(start || `2019-03-${dbegin}`);\r\n  for (let i = 0; i < dataSets; i+=1) {\r\n    result.push({\r\n      time: parseFloat(begin.format(\"x\")),\r\n    });\r\n    begin.add(add, type);\r\n  }\r\n  return result;\r\n};\r\n\r\nconst GenerateData = (keys) => {\r\n  const result = DataSetLabel();\r\n  keys.forEach(key => {\r\n    const data = RandomSerie();\r\n    data.forEach((val, i) => {\r\n      result[i][key] = val;\r\n    });\r\n  });\r\n  return result;\r\n}\r\n\r\nexport const getLineChartData = async (request) => {\r\n  await sleep(1500);\r\n  return {\r\n    status: 200,\r\n    data: GenerateData(request.measurements),\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Input } from 'antd';\r\n\r\nexport default ({children, ...props}) =>\r\n    <DisabledInput\r\n        {...props}\r\n        disabled\r\n    >\r\n        {children}\r\n    </DisabledInput>\r\n\r\nconst DisabledInput = styled(Input)`\r\n    &.ant-input[disabled] {\r\n        color: rgba(0, 0, 0, 0.65);\r\n        cursor: text;\r\n    }\r\n`;\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { filter } from 'lodash';\r\n\r\nimport { Icon, Select, Empty, TreeSelect } from 'antd';\r\n\r\nimport { AppContext } from '../AppDataProvider';\r\nimport { removePolish } from '../utils/formaters';\r\n\r\nconst Option = Select.Option;\r\n\r\n/*\r\n    Domyślana struktura danych:\r\n    communities: [{\r\n        id: id_gminy,\r\n        name: nazwa_gminy <- wyszukiwanie po niej\r\n        buildings: [] <- lista id budynków w gminie\r\n    }],\r\n    buildings: [{\r\n        id: id_budynku,\r\n        name: nazwa_budynku\r\n    }]\r\n*/\r\n\r\nconst communityFormatter = id => `community-${id}`;\r\n\r\nconst buildingsWithCommunities = (communities, buildings) =>\r\n    communities.map(community => ({\r\n        ...community,\r\n        buildings: community.buildings.map(id => buildings.find(e => e.id === id)),\r\n    }));\r\n\r\nconst buildingDefaultFilterOption = (input, option) =>\r\noption.props.isLeaf ?\r\n    removePolish(option.props.title.toLowerCase()).includes(removePolish(input.toLowerCase()))\r\n    :\r\n    option.props.children.reduce((prev, child) => prev || buildingDefaultFilterOption(input, child), false);\r\n\r\nexport const BuildingSelect = ({onChange, selectedCommunity, ...props}) => {\r\n    const {buildings, communities} = useContext(AppContext);\r\n    const usedCommunities = selectedCommunity ?\r\n        filter(communities, ({id}) => communityFormatter(id) === selectedCommunity)\r\n        :\r\n        communities;\r\n    return (\r\n        <StyledCommonSelect>\r\n            <StyledIcon \r\n                type=\"home\"\r\n            />\r\n            <StyledTreeSelect\r\n                showSearch\r\n                placeholder=\"Wybierz budynek\"\r\n                treeDefaultExpandAll\r\n                notFoundContent={\r\n                    <Empty description=\"Brak wyników\" image={Empty.PRESENTED_IMAGE_SIMPLE}/>\r\n                }\r\n                onChange={onChange}\r\n                filterTreeNode={buildingDefaultFilterOption}\r\n                treeData={buildingsWithCommunities(usedCommunities, buildings).map(e => ({\r\n                    title: e.name,\r\n                    isLeaf: false,\r\n                    value: communityFormatter(e.id),\r\n                    selectable: false,\r\n                    key: communityFormatter(e.id),\r\n                    children: e.buildings.map(({id, name}) => ({\r\n                        title: name,\r\n                        value: id,\r\n                        key: id,\r\n                        isLeaf: true,\r\n                    })),\r\n                }))}\r\n                {...props}\r\n            />\r\n        </StyledCommonSelect>\r\n    );\r\n}\r\n\r\nconst defaultFilterOption = (input, option) =>\r\n    removePolish(option.props.children.toLowerCase()).includes(removePolish(input.toLowerCase()));\r\n\r\nexport const CommunitySelect =  ({\r\n    onChange,\r\n    ...props\r\n}) => {\r\n    const {communities} = useContext(AppContext);\r\n    return (\r\n        <StyledCommonSelect>\r\n            <StyledIcon \r\n                type=\"compass\"\r\n            />\r\n            <StyledSelect\r\n                showSearch\r\n                placeholder=\"Wybierz gminę\"\r\n                notFoundContent={\r\n                    <Empty description=\"Brak wyników\" image={Empty.PRESENTED_IMAGE_SIMPLE}/>\r\n                }\r\n                onChange={onChange}\r\n                filterOption={defaultFilterOption}\r\n                {...props}\r\n            >\r\n                {communities.map(({id, name}) =>\r\n                    <Option\r\n                        key={communityFormatter(id)}\r\n                        value={communityFormatter(id)}\r\n                    >\r\n                        {name}\r\n                    </Option>,\r\n                )}\r\n            </StyledSelect>\r\n        </StyledCommonSelect>\r\n    );\r\n}\r\n\r\nconst StyledIcon = styled(Icon)`\r\n    font-size: 24px;\r\n    padding: 4px 12px 4px 0;\r\n    flex: 0;\r\n`;\r\n\r\nconst StyledSelect = styled(Select)`\r\n    flex: 1 1 216px;\r\n`;\r\n\r\nexport const StyledCommonSelect = styled.div`\r\n    width: 100%;\r\n    display: flex;\r\n`;\r\n\r\nconst StyledTreeSelect = styled(TreeSelect)`\r\n    width: 100%;\r\n    display: flex;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport PropTypes from 'prop-types';\r\nimport { isNil, isArray } from 'lodash';\r\nimport { Form } from 'antd';\r\n\r\nconst Item = Form.Item;\r\n\r\nexport const validate = ({\r\n    showSuccess,\r\n    required,\r\n    rules,\r\n    value,\r\n}) => {\r\n    const isNull = isNil(value) || value === '';\r\n    const onSuccess = showSuccess ? 'success' : undefined;\r\n    if(!required && isNull) {\r\n        return {};\r\n    }\r\n    if(required && (isNull || (isArray(value) && value.length === 0))) {\r\n        return {\r\n            validateStatus: 'error',\r\n            help: 'Podaj wymaganą wartość',\r\n        }\r\n    }\r\n    let isValid = true;\r\n    let errorMessage;\r\n    for(let i = 0; i < rules.length; i+=1) {\r\n        const result = rules[i].validate(value);\r\n        if(!result) {\r\n            errorMessage = rules[i].errorMessage || errorMessage;\r\n            isValid = false;\r\n            break;\r\n        }\r\n    }\r\n    return {\r\n        validateStatus: isValid ? onSuccess : 'error',\r\n        help: errorMessage,\r\n    };\r\n}\r\n\r\nexport default Object.assign(({\r\n    onChange,\r\n    value,\r\n    valueKey = 'value',\r\n    children,\r\n    rules = [],\r\n    triggered,\r\n    showSuccess,\r\n    required,\r\n    isEdit,\r\n    disableOnEdit,\r\n    fetching,\r\n    disableOnFetching,\r\n    ...props\r\n}) => {\r\n    const isNull = isNil(value) || value === '';\r\n    const [_triggered, setTrigger] = useState(triggered);\r\n\r\n    useEffect(() => {\r\n        setTrigger(triggered);\r\n    }, [triggered]);\r\n\r\n    const { onBlur } = children.props;\r\n    React.Children.only(children);\r\n    const wrappedBlur = (v) => {\r\n        if(onBlur) onBlur(v);\r\n        setTrigger(true);\r\n    }\r\n    const validateFun = (v) => validate({\r\n        showSuccess,\r\n        required,\r\n        rules,\r\n        value: v,\r\n    });\r\n    const _wrappedOnChange = (v) => {\r\n        onChange(v, validateFun(v).validateStatus !== 'error');\r\n    }\r\n    let wrappedOnChange = _wrappedOnChange;\r\n    if(children && children.type && children.type.name === \"Checkbox\") {\r\n        wrappedOnChange = (event) => _wrappedOnChange(event.target.checked);\r\n    }\r\n    if(children && children.type && children.type.name === \"Input\") {\r\n        wrappedOnChange = (event) => _wrappedOnChange(event.target.value);\r\n    }\r\n    return (<StyledItem\r\n        {...((!isNull || _triggered) && validateFun(value))}\r\n        {...props}\r\n        >\r\n        {React.cloneElement(\r\n            children,\r\n            {\r\n                onBlur: wrappedBlur,\r\n                [valueKey]: value,\r\n                onChange: wrappedOnChange,\r\n                disabled: (isEdit && disableOnEdit) || (fetching && disableOnFetching),\r\n            },\r\n        )}\r\n    </StyledItem>);\r\n},\r\n{\r\n    propTypes: {\r\n        rules: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                validate: PropTypes.func.isRequired,\r\n                errorMessage: PropTypes.string,\r\n            }),\r\n        ),\r\n        showSuccess: PropTypes.bool,\r\n    },\r\n});\r\n\r\nconst StyledItem = styled(Item)`\r\n    ${({hasIcon}) => hasIcon ? `.ant-form-explain {\r\n        padding-left: 36px;\r\n    }` : ''}\r\n`;\r\n","import styled from 'styled-components';\r\nimport { Form } from 'antd';\r\n\r\nexport const StyledFrom = styled(Form)`\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const FormInner = styled.div`\r\n    flex: 1\r\n`;\r\n\r\nexport const FormFooter = styled.div`\r\n    margin-top: auto;\r\n    border-top: 1px solid #e9e9e9;\r\n    padding: 16px 24px 0 24px;\r\n    text-align: right;\r\n    margin-left: -24px;\r\n    margin-right: -24px;\r\n`;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport moment from \"moment\";\r\nimport PropTypes from \"prop-types\";\r\nimport { filter } from \"lodash\";\r\nimport {\r\n  Button,\r\n  Select,\r\n  DatePicker,\r\n} from \"antd\";\r\n\r\nimport { AppContext } from \"../../../../../../AppDataProvider\";\r\n\r\nimport { getLineChartData } from '../../../../services/api';\r\n\r\nimport { MODES } from '../utils/constants';\r\n\r\nimport DisabledInput from \"../../../../../../components/DisabledInput\";\r\nimport { BuildingSelect, CommunitySelect} from \"../../../../../../components/BuildingSelect\";\r\nimport FormItemWrapper, { validate } from \"../../../../../../components/FormItemWrapper\";\r\nimport { FormFooter, FormInner, StyledFrom } from \"../../../../components/StyledForm\";\r\nimport MeasurementsPicker from \"../../../../components/MeasurementsPicker\";\r\n\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst isDateAfter = date => moment().isBefore(date);\r\n\r\nconst LoadDataForm = Object.assign((\r\n({mode, editedData, onClose, loadData, updateData, now}) => {\r\n  const isEdit = mode === MODES.EDIT;\r\n\r\n  const {buildings, communities, startAsyncTask, finishAsyncTask} = useContext(AppContext);\r\n\r\n  const [triggered, setTriggered] = useState(false);\r\n  const [_value, setValue] = useState(editedData);\r\n\r\n  const formSettings = {\r\n    isEdit,\r\n    triggered,\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(editedData);\r\n  }, [editedData]);\r\n\r\n  const updateWithValid = ((data, isValid) =>\r\n    isValid ? updateData({...editedData, ...data}): setValue({..._value, ...data}));\r\n\r\n  const update = (key) => ((data, isValid) => updateWithValid({[key]: data}, isValid));\r\n\r\n  const changeCommunity = (community, isValid) =>\r\n    updateWithValid({\r\n      community,\r\n      ...(community !== undefined && {\r\n        building: undefined,\r\n        measurements: undefined,\r\n      }),\r\n    }, isValid);\r\n\r\n  const changePeriodType = (periodType, isValid) =>\r\n    updateWithValid({\r\n      periodType,\r\n      ...(!_value[periodType] && {[periodType]: periods[periodType].default}),\r\n    }, isValid);\r\n\r\n  const getBuildingDescription = (building) => {\r\n    const community = communities.find(c => c.buildings.includes(building));\r\n    return community && `${community.name} - ${buildings.find(e => e.id === building).name}`;\r\n  }\r\n\r\n  const updateMeasurementsOnEdit = (value) =>\r\n    setValue({..._value, measurements: value});\r\n\r\n  const changeBuilding = (building, isValid) => {\r\n    updateWithValid({\r\n      building,\r\n      measurements: undefined,\r\n    }, isValid);\r\n  }\r\n\r\n  const onReset = () => {\r\n    setTriggered(false);\r\n    if(isEdit) {\r\n      setValue(editedData);\r\n    }\r\n    else {\r\n      updateData(genDefaultData());\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const toValidate = [\r\n      'building',\r\n      'periodType',\r\n      'measurements',\r\n    ]\r\n    if(_value.periodType && periods[_value.periodType].element) toValidate.push(_value.periodType);\r\n    const isValid = toValidate.map((key) => validate({\r\n      required: true,\r\n      value: _value[key],\r\n      rules: setupSettings[key] ? (setupSettings[key].rules || []) : [],\r\n    })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n    if(!isValid) {\r\n      setTriggered(true);\r\n    }\r\n    else {\r\n      const request = {\r\n        building: _value.building,\r\n        ...periods[_value.periodType].formatter(_value[_value.periodType], now),\r\n        measurements: isEdit ?\r\n          filter(_value.measurements, e => !editedData.measurements.includes(e))\r\n          : _value.measurements,\r\n      };\r\n      if(request.measurements.length) {\r\n        startAsyncTask();\r\n        const resp = await getLineChartData(request);\r\n        loadData({\r\n          fields: {\r\n            ..._value,\r\n            description: getBuildingDescription(_value.building),\r\n          },\r\n          data: resp.data,\r\n        });\r\n        finishAsyncTask();\r\n      }\r\n      onClose();\r\n      onReset();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledFrom\r\n      layout=\"vertical\"\r\n      hideRequiredMark={false}\r\n      onSubmit={onSubmit}\r\n    >\r\n      <FormInner>\r\n        <FormItemWrapper\r\n          value={_value.community}\r\n          onChange={changeCommunity}\r\n          {...formSettings}\r\n          {...setupSettings.community}\r\n        >\r\n            <CommunitySelect allowClear />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.building}\r\n          onChange={changeBuilding}\r\n          {...formSettings}\r\n          {...setupSettings.building}\r\n        >\r\n          <BuildingSelect\r\n            selectedCommunity={_value.community}\r\n          />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          label=\"Nazwa zestawu\"\r\n          value={getBuildingDescription(_value.building)}\r\n        >\r\n          <DisabledInput\r\n            placeholder=\"Wygenerowana nazwa zestawu\"\r\n          />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.periodType}\r\n          onChange={changePeriodType}\r\n          {...formSettings}\r\n          {...setupSettings.periodType}\r\n        >\r\n          <PeriodSelect />\r\n        </FormItemWrapper>\r\n        {(_value.periodType && periods[_value.periodType].element) &&\r\n          <FormItemWrapper\r\n            onChange={update(_value.periodType)}\r\n            value={_value[_value.periodType]}\r\n            {...extractPeriodSettings(periods[_value.periodType])}\r\n            {...formSettings}\r\n          >\r\n            {periods[_value.periodType].element()}\r\n          </FormItemWrapper>}\r\n        <FormItemWrapper\r\n          value={_value.measurements}\r\n          onChange={\r\n            isEdit ?\r\n            updateMeasurementsOnEdit\r\n            : update('measurements')\r\n          }\r\n          {...formSettings}\r\n          {...setupSettings.measurements}\r\n        >\r\n          <MeasurementsPicker\r\n            disabledValues={isEdit ? editedData.measurements : []}\r\n            building={_value.building}\r\n          />\r\n        </FormItemWrapper>\r\n      </FormInner>\r\n      <FormFooter>\r\n        <Button\r\n          onClick={onReset}\r\n          style={{ marginRight: 16 }}\r\n        >\r\n          Zresetuj\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={isEdit ? \"redo\" : \"plus\"}\r\n          htmlType=\"submit\"\r\n        >\r\n          {isEdit ? \"Aktualizuj\" : \"Dodaj dane\"}\r\n        </Button>\r\n      </FormFooter>\r\n    </StyledFrom>\r\n  );\r\n}),\r\n{\r\n  propTypes: {\r\n    mode: PropTypes.oneOf([MODES.EDIT, MODES.LOAD]).isRequired,\r\n    editedData: PropTypes.shape({\r\n      building: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    }),\r\n    onClose: PropTypes.func,\r\n    loadData: PropTypes.func,\r\n    updateData: PropTypes.func,\r\n  },\r\n});\r\n\r\nconst setupSettings = {\r\n  community: {\r\n    label: \"Wybór gminy\",\r\n    disableOnEdit: true,\r\n    hasIcon: true,\r\n  },\r\n  building: {\r\n    label: \"Wybór budynku\",\r\n    required: true,\r\n    disableOnEdit: true,\r\n    hasIcon: true,\r\n  },\r\n  periodType: {\r\n    label: \"Wybór zakresu danych\",\r\n    required: true,\r\n    disableOnEdit: true,\r\n  },\r\n  measurements: {\r\n    label: \"Wybór możliwych danych\",\r\n    required: true,\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length,\r\n        errorMessage: 'Wybierz min. 1 zestaw danych',\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nconst PeriodSelect = ({...props}) =>(\r\n  <Select placeholder=\"Rodzaj zakresu danych\" {...props}>\r\n    {Object.keys(periods).map(e => (\r\n      <Option key={e} value={e}>\r\n        {periods[e].description}\r\n      </Option>\r\n    ))}\r\n  </Select>\r\n);\r\n\r\nconst extractPeriodSettings = ({label, rules}) => ({\r\n  label,\r\n  rules,\r\n  required: true,\r\n  disableOnEdit: true,\r\n});\r\n\r\nconst periods = {\r\n  day: {\r\n    description: \"1 dzien\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(1, 'days').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  days3: {\r\n    description: \"3 dni\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(3, 'days').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  week: {\r\n    description: \"1 tydzień\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(1, 'weeks').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  weeks2: {\r\n    description: \"2 tygodnie\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(2, 'weeks').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  month: {\r\n    description: \"1 miesiąc\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(1, 'months').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  months3: {\r\n    description: \"3 miesiące\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(3, 'months').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  year: {\r\n    description: \"1 rok\",\r\n    formatter: (value, now) => ({\r\n      from: now.clone().subtract(1, 'years').format(),\r\n      to: now.format(),\r\n    }),\r\n  },\r\n  userDefined: {\r\n    description: \"Inny zakres\",\r\n    default: [moment().subtract(1, \"months\"), moment()],\r\n    label: \"Wybór zakresu dni\",\r\n    name: \"range-picker\",\r\n    element: ({ ...props }) => (\r\n      <RangePicker disabledDate={isDateAfter} {...props} />\r\n    ),\r\n    formatter: values => ({\r\n      from: values[0].startOf(\"day\").format(),\r\n      to: values[0].endOf(\"day\").format(),\r\n    }),\r\n  },\r\n};\r\n\r\nconst genDefaultData = () => ({\r\n  periodType: 'month',\r\n});\r\n\r\nexport default Object.assign(\r\n({mode, editedData, onClose, loadData, updateData, now}) => {\r\n  const isEdit = mode === MODES.EDIT;\r\n  const [newData, updateNewData] = useState(genDefaultData());\r\n  return (\r\n    <LoadDataForm\r\n      mode={mode}\r\n      onClose={onClose}\r\n      editedData={isEdit ? editedData.fields : newData}\r\n      updateData={isEdit ? updateData : updateNewData}\r\n      loadData={loadData}\r\n      now={now}\r\n    />\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    mode: PropTypes.string,\r\n    // eslint-disable-next-line react/forbid-prop-types\r\n    editedData: PropTypes.object,\r\n    onClose: PropTypes.func,\r\n    loadData: PropTypes.func,\r\n    updateData: PropTypes.func,\r\n  },\r\n});\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { find, filter, zipWith } from \"lodash\";\r\nimport { List } from \"antd\";\r\n\r\nimport { extractDataSource, MODES, getDisableReason } from \"../utils/constants\";\r\nimport { DataType, UsedDataType, ConfigType } from \"../utils/types\";\r\n\r\nimport DataInputForm from '../../../../components/DataInputForm';\r\nimport StyledDrawer from '../../../../components/StyledDrawer';\r\nimport { ButtonForList, SetupAdd, SetupList} from '../../../../components/SetupList';\r\n\r\nimport LoadDataDialog from \"../Dialogs/LoadDataDialog\";\r\n\r\n// TODO przerobic na funkcjonalny\r\nclass LoadData extends Component {\r\n  static propTypes = {\r\n    data: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    usedData: PropTypes.arrayOf(PropTypes.shape(UsedDataType)).isRequired,\r\n    config: PropTypes.shape(ConfigType).isRequired,\r\n    update: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    openedDialog: false,\r\n    editedData: null,\r\n  };\r\n\r\n  getIndex = (key) => this.props.data.findIndex(e => e.id === key);\r\n\r\n  onCloseDialog = () => {\r\n    this.setState({\r\n      openedDialog: false,\r\n      editedData: null,\r\n    });\r\n  };\r\n\r\n  openDialogLoad = () => {\r\n    this.setState({\r\n      openedDialog: true,\r\n    });\r\n  };\r\n\r\n  openDialogEdit = key => {\r\n    this.setState({\r\n      openedDialog: true,\r\n      editedData: key,\r\n    });\r\n  };\r\n\r\n  newIndex = () =>\r\n    this.props.data.reduce(\r\n      (prev, {id}) => Math.max(prev, id),\r\n      -1,\r\n    ) + 1;\r\n\r\n  loadData = newData => {\r\n    const { data, update } = this.props;\r\n    update([...data, {\r\n      id: this.newIndex().toString(),\r\n      ...newData,\r\n     }]);\r\n  };\r\n\r\n  updateLoadedData = (key, newData) => {\r\n    const { data, update } = this.props;\r\n    const id = this.getIndex(key);\r\n    if(newData.data.length !== data[id].data.length) {\r\n      throw Error('Fetched data of different length.');\r\n    }\r\n    const zipped = zipWith(newData.data, data[id].data, (a, b) => ({...b, ...a}));\r\n    const result = [...data];\r\n    result[id] = {\r\n      id: key,\r\n      fields: newData.fields,\r\n      data: zipped,\r\n    };\r\n    update(result);\r\n  }\r\n\r\n  canRemove = key =>\r\n    !find(this.props.usedData,\r\n      ({show, dataSource}) => (\r\n        show && (extractDataSource(dataSource) === key.toString()) &&\r\n        !getDisableReason(dataSource, this.props.data, this.props.config.xAxis.xKey)\r\n      ));\r\n\r\n  removeData = key => {\r\n    const { data, update } = this.props;\r\n    update(filter(data, e => e.id !== key));\r\n  };\r\n\r\n  updateData = (key, value) => {\r\n    const { data, update } = this.props;\r\n    const result = [...data];\r\n    result[this.getIndex(key)] = value;\r\n    update(result);\r\n  };\r\n\r\n  render() {\r\n    const isEdit = this.state.editedData !== null;\r\n    const { data, now } = this.props;\r\n    return (\r\n      <DataInputForm>\r\n        <SetupList>\r\n          {data.map(({id, fields}) => (\r\n            <List.Item\r\n              key={id}\r\n              actions={[\r\n                <ButtonForList onClick={() => this.openDialogEdit(id)}>edytuj</ButtonForList>,\r\n                <ButtonForList onClick={() => this.removeData(id)} disabled={!this.canRemove(id)}>usuń</ButtonForList>,\r\n              ]}\r\n            >\r\n              <List.Item.Meta title={fields.description} />\r\n            </List.Item>\r\n          ))}\r\n        </SetupList>\r\n        <SetupAdd\r\n          description=\"Załaduj dane\"\r\n          icon=\"download\"\r\n          onClick={this.openDialogLoad}\r\n        />\r\n        <StyledDrawer\r\n          title={isEdit ? \"Edycja zestawu danych\" : \"Dodaj nowy zestaw danych\"}\r\n          placement=\"left\"\r\n          onClose={this.onCloseDialog}\r\n          visible={this.state.openedDialog}\r\n          width={480}\r\n        >\r\n          <LoadDataDialog\r\n            mode={isEdit ? MODES.EDIT : MODES.LOAD}\r\n            now={now}\r\n            onClose={this.onCloseDialog}\r\n            editedData={isEdit ? data[this.getIndex(this.state.editedData)] : {}}\r\n            loadData={isEdit ?\r\n              (value) => this.updateLoadedData(this.state.editedData, value)\r\n              : this.loadData}\r\n            updateData={value =>\r\n              this.updateData(this.state.editedData, value)\r\n            }\r\n          />\r\n        </StyledDrawer>\r\n      </DataInputForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoadData;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport default ({...props}) => (\r\n  <Select placeholder=\"Kolor linii\" {...props}>\r\n    {colors.map(({color, description}) => (\r\n      <Option key={color} value={color}>\r\n        <div>\r\n          <ColorSelectColor color={color} />\r\n          <span>{description}</span>\r\n        </div>\r\n      </Option>\r\n    ))}\r\n  </Select>\r\n);\r\n\r\nconst ColorSelectColor = styled.div`\r\n  background: ${({color}) => color};\r\n  display: inline-block;\r\n  vertical-align: text-bottom;\r\n  height: 18px;\r\n  width: 18px;\r\n  border-radius: 50%;\r\n  margin-right: 4px;\r\n`;\r\n\r\nexport const colors = [\r\n  {\r\n    description: \"Ciemnoniebieski\",\r\n    color: \"#063951\",\r\n  },\r\n  {\r\n    description: \"Ciemnoczerwony\",\r\n    color: \"#C13015\",\r\n  },\r\n  {\r\n    description: \"Pomarańczowy\",\r\n    color: \"#E36F13\",\r\n  },\r\n  {\r\n    description: \"Jasnoniebieski\",\r\n    color: \"#0D95BC\",\r\n  },\r\n  {\r\n    description: \"Żółty\",\r\n    color: \"#E3CB38\",\r\n  },\r\n  {\r\n    description: \"Zielonkawy\",\r\n    color: \"#A2B969\",\r\n  },\r\n  {\r\n    description: \"Ciemnoszary\",\r\n    color: \"#333\",\r\n  },\r\n  {\r\n    description: \"Czarny\",\r\n    color: \"black\",\r\n  },\r\n  {\r\n    description: \"Niebieski\",\r\n    color: \"blue\",\r\n  },\r\n  {\r\n    description: \"Czerwony\",\r\n    color: \"red\",\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nexport default ({ visible, ...props }) => (\r\n  <VisibilitySwitch visible={visible} {...props} />\r\n);\r\n\r\nconst VisibilitySwitch = styled.div`\r\n  display: ${({visible}) => visible ? 'unset' : 'none'};\r\n`;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport default Object.assign(\r\n    ({data, ...props}) => (\r\n      <Select {...props}>\r\n        {data.map(({ id, description }) => (\r\n          <Option key={id} value={id}>\r\n            {description}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    ),\r\n    {\r\n      propTypes: {\r\n        data: PropTypes.arrayOf(\r\n          PropTypes.shape({\r\n            id: PropTypes.string.isRequired,\r\n            description: PropTypes.string.isRequired,\r\n          }),\r\n        ),\r\n      },\r\n    },\r\n  );\r\n\r\nexport const handleAxisData = ({yAxises}) => {\r\n    const axisData = yAxises.map(({id, fields}) => ({\r\n      id,\r\n      description: fields.description,\r\n    }));\r\n    return {\r\n      axisData,\r\n      defaultAxisData: axisData[0].id,\r\n    };\r\n  };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { TreeSelect } from \"antd\";\r\n\r\nimport { generateDataDescription, generateDataSource } from '../scenes/ChartCreate/ChartSetup/utils/constants';\r\nimport { DataType } from \"../scenes/ChartCreate/ChartSetup/utils/types\";\r\n\r\nimport MathParser from \"../../../components/MathParser\";\r\n\r\nexport default Object.assign(\r\n    ({loadedData, ...props}) => {\r\n      const genTreeData = () => {\r\n        return loadedData.map(({id, fields}) => ({\r\n          title: fields.description,\r\n          value: `${id}`,\r\n          selectable: false,\r\n          key: `${id}`,\r\n          children: fields.measurements.map(set => ({\r\n            title: <MathParser>{generateDataDescription(fields.description, set)}</MathParser>,\r\n            value: generateDataSource(id, set),\r\n            key: generateDataSource(id, set),\r\n          })),\r\n        }));\r\n      };\r\n      return (\r\n        <TreeSelect\r\n          dropdownStyle={{ maxHeight: 400, overflow: \"auto\" }}\r\n          treeData={genTreeData()}\r\n          placeholder=\"Wybierz załadowane dane\"\r\n          treeDefaultExpandAll\r\n          {...props}\r\n        />\r\n      );\r\n    },\r\n    {\r\n      propTypes: {\r\n        loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n      },\r\n    },\r\n  );\r\n","export default class Subscriber {\r\n    constructor() {\r\n        this.subscribed = false;\r\n    }\r\n\r\n    subscribed;\r\n\r\n    subscribe = async (func, callback, unSubCallback) => {\r\n        this.subscribed = true;\r\n        const result = await func();\r\n        if(this.subscribed) {\r\n            callback(result);\r\n        }\r\n        else if(unSubCallback) {\r\n            unSubCallback();\r\n        }\r\n    }\r\n\r\n    unsubscribe = () => {\r\n        this.subscribed = false;\r\n    }\r\n}\r\n","/* eslint-disable react/no-multi-comp */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Subscripter from './Subscriber';\r\nimport sleep from '../sleep';\r\n\r\nclass DelayedRenderer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            waiting: false,\r\n            renderedProps: props.passed,\r\n        }\r\n        this.subscriber = null;\r\n    }\r\n\r\n    subscriber;\r\n\r\n    static propTypes = {\r\n        delay: PropTypes.number,\r\n        // eslint-disable-next-line react/forbid-prop-types\r\n        passed: PropTypes.object,\r\n    }\r\n\r\n    static defaultProps = {\r\n        delay: 3000,\r\n        passed: {},\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(!this.subscriber && !this.state.waiting && this.props.passed !== this.state.renderedProps) {\r\n            this.setState({waiting: true});\r\n            this.subscriber = new Subscripter();\r\n            this.subscriber.subscribe(\r\n                async () => {await this.awaitDelay()},\r\n                () => this.updateAsyncProps(),\r\n            )\r\n        }\r\n    }\r\n\r\n    async awaitDelay() {\r\n        await sleep(this.props.delay);\r\n    }\r\n\r\n    updateAsyncProps() {\r\n        this.subscriber.unsubscribe();\r\n        this.subscriber = null;\r\n        this.setState({\r\n            waiting: false,\r\n            renderedProps: this.props.passed, \r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if(this.subscriber) {\r\n            this.subscriber.unsubscribe();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return React.cloneElement(this.props.children, {...this.state.renderedProps});\r\n    }\r\n}\r\n\r\n// Eksperymentalny wrapper do przekazywania propsów do dziecka, redukujący liczbę renderingu\r\n// przy dynamicznym update danych do długo renderowanych elementów\r\nexport const withDelayedRender = (Element) => (\r\n    ({delay = 500, ...props}) => (\r\n        <DelayedRenderer delay={delay} passed={props}>\r\n            <Element />\r\n        </DelayedRenderer>\r\n    ));\r\n\r\nclass DelayedExecution extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            waiting: false,\r\n            renderedValue: props.value,\r\n        }\r\n        this.subscriber = null;\r\n    }\r\n\r\n    subscriber;\r\n\r\n    static propTypes = {\r\n        delay: PropTypes.number,\r\n        onChange: PropTypes.func.isRequired,\r\n    }\r\n\r\n    static defaultProps = {\r\n        delay: 3000,\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(!this.subscriber && !this.state.waiting && this.props.value !== this.state.renderedValue) {\r\n            this.setState({\r\n                waiting: true,\r\n                ...(prevProps.value !== this.props.value && {renderedValue: this.props.value}),\r\n            });\r\n            this.subscriber = new Subscripter();\r\n            this.subscriber.subscribe(\r\n                async () => {await this.awaitDelay()},\r\n                () => this.executeDelayedUpdate(false),\r\n                () => this.executeDelayedUpdate(true),\r\n            );\r\n        }\r\n    }\r\n\r\n    async awaitDelay() {\r\n        await sleep(this.props.delay);\r\n    }\r\n\r\n    executeDelayedUpdate(canceled) {\r\n        this.subscriber.unsubscribe();\r\n        this.subscriber = null;\r\n        this.props.onChange(this.state.renderedValue);\r\n        if(!canceled) {\r\n            this.setState({\r\n                waiting: false,\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if(this.subscriber) {\r\n            this.subscriber.unsubscribe();\r\n        }\r\n    }\r\n\r\n    selfUpdate(value) {\r\n        this.setState({\r\n            renderedValue: value,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { children } = this.props;\r\n        const _wrappedOnChange = (value) => this.selfUpdate(value);\r\n        let wrappedOnChange = (value) => _wrappedOnChange(value);\r\n        if(children && children.type && children.type.name === \"Checkbox\") {\r\n            wrappedOnChange = (event) => _wrappedOnChange(event.target.checked);\r\n        }\r\n        if(children && children.type && children.type.name === \"Input\") {\r\n            wrappedOnChange = (event) => _wrappedOnChange(event.target.value);\r\n        }\r\n        return React.cloneElement(this.props.children, {\r\n            onChange: wrappedOnChange,\r\n            value: this.state.renderedValue,\r\n        });\r\n    }\r\n}\r\n\r\n// Eksperymentalny wrapper do zapobiegania wielokrotnych updatom owrapowanego\r\n// componentu - jak opóźniony input do tekstu\r\nexport const withDelayedUpdate = (Element) => (\r\n({delay = 400, value, onChange, ...props}) => (\r\n    <DelayedExecution delay={delay} value={value} onChange={onChange}>\r\n        <Element {...props} />\r\n    </DelayedExecution>));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Checkbox,\r\n  Input,\r\n  Button,\r\n} from \"antd\";\r\n\r\nimport { UsedDataType, DataType, ConfigType, EditUsedDataType } from \"../utils/types\";\r\nimport { MODES } from \"../utils/constants\";\r\n\r\nimport FormItemWrapper, { validate } from \"../../../../../../components/FormItemWrapper\";\r\nimport ColorSelect from \"../../../../../../components/ColorSelect\";\r\nimport VisibilitySwitch from \"../../../../../../components/VisibilitySwitch\";\r\nimport AxisSelect, { handleAxisData } from \"../../../../components/AxisSelect\";\r\nimport { FormFooter, FormInner, StyledFrom } from \"../../../../components/StyledForm\";\r\nimport PathSelect from \"../../../../components/PathSelect\";\r\nimport { withDelayedUpdate } from \"../../../../../../utils/delayed\";\r\n\r\nconst DelayedInput = withDelayedUpdate(Input);\r\n\r\nconst UseDataForm  = Object.assign(\r\n  ({\r\n    dataSource,\r\n    editedData,\r\n    loadedData,\r\n    onClose,\r\n    config,\r\n    updateData,\r\n  }) => {\r\n  const isEdit = true;\r\n\r\n  const [triggered, setTriggered] = useState(false);\r\n  const [_value, setValue] = useState(editedData);\r\n\r\n  const formSettings = {\r\n    isEdit,\r\n    triggered,\r\n  };\r\n  \r\n  useEffect(() => {\r\n    setValue(editedData);\r\n  }, [editedData]);\r\n\r\n  const updateWithValid = ((data, isValid) =>\r\n    isValid ? updateData({...editedData, ...data}): setValue({..._value, ...data}));\r\n\r\n  const update = (key) => ((data, isValid) => updateWithValid({[key]: data}, isValid));\r\n\r\n  const changeDotted = (dotted, isValid) =>\r\n    updateWithValid({\r\n      dotted,\r\n      ...(dotted && {\r\n        dashed: false,\r\n      }),\r\n    }, isValid);\r\n\r\n  const onReset = () => {\r\n    setTriggered(false);\r\n    setValue(editedData);\r\n  }\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const toValidate = [\r\n      'description',\r\n      'axis',\r\n      'lineColor',\r\n    ];\r\n    const isValid = toValidate.map((key) => validate({\r\n      required: true,\r\n      value: _value[key],\r\n      rules: setupSettings[key] ? (setupSettings[key].rules || []) : [],\r\n    })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n    if(!isValid) {\r\n      setTriggered(true);\r\n    }\r\n    else {\r\n      onClose();\r\n      onReset();\r\n    }\r\n  }\r\n\r\n  const { axisData } = handleAxisData(config);\r\n\r\n  return (\r\n    <StyledFrom\r\n      layout=\"vertical\"\r\n      hideRequiredMark={false}\r\n      onSubmit={onSubmit}\r\n    >\r\n      <FormInner>\r\n        <FormItemWrapper\r\n          value={_value.description}\r\n          onChange={update('description')}\r\n          {...formSettings}\r\n          {...setupSettings.description}\r\n        >\r\n            <DelayedInput placeholder=\"Nazwa zestawu danych\" />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          label=\"Źródło danych\"\r\n          value={dataSource}\r\n          {...formSettings}\r\n          disableOnEdit\r\n        >\r\n          <PathSelect loadedData={loadedData} />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.axis}\r\n          onChange={update('axis')}\r\n          {...formSettings}\r\n          {...setupSettings.axis}\r\n        >\r\n            <AxisSelect data={axisData} />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.lineColor}\r\n          onChange={update('lineColor')}\r\n          {...formSettings}\r\n          {...setupSettings.lineColor}\r\n        >\r\n            <ColorSelect />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.showRegresion}\r\n          valueKey=\"checked\"\r\n          onChange={update('showRegresion')}\r\n          {...formSettings}\r\n          {...setupSettings.showRegresion}\r\n        >\r\n            <Checkbox>Pokaż linię regresji</Checkbox>\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.dotted}\r\n          valueKey=\"checked\"\r\n          onChange={changeDotted}\r\n          {...formSettings}\r\n          {...setupSettings.dotted}\r\n        >\r\n            <Checkbox>Pokaż jako zbiór punktów</Checkbox>\r\n        </FormItemWrapper>\r\n        <VisibilitySwitch visible={!_value.dotted}>\r\n          <FormItemWrapper\r\n            value={_value.dashed}\r\n            valueKey=\"checked\"\r\n            onChange={update('dashed')}\r\n            {...formSettings}\r\n            {...setupSettings.dashed}\r\n          >\r\n              <Checkbox>Użyj przerywanej linii</Checkbox>\r\n          </FormItemWrapper>\r\n        </VisibilitySwitch>\r\n      </FormInner>\r\n      <FormFooter>\r\n        <Button\r\n          onClick={onReset}\r\n          style={{ marginRight: 16 }}\r\n        >\r\n          Zresetuj\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={isEdit ? \"redo\" : \"plus\"}\r\n          htmlType=\"submit\"\r\n        >\r\n          {isEdit ? \"Aktualizuj\" : \"Dodaj dane\"}\r\n        </Button>\r\n      </FormFooter>\r\n    </StyledFrom>\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    dataSource: PropTypes.string.isRequired,\r\n    mode: PropTypes.oneOf([MODES.EDIT, MODES.LOAD]).isRequired,\r\n    editedData: PropTypes.shape(EditUsedDataType).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    config: PropTypes.shape(ConfigType),\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n\r\nconst setupSettings = {\r\n  description: {\r\n    label: \"Opis danych\",\r\n    required: true,\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length >= 3,\r\n        errorMessage: 'Wymagane min. 3 znaki',\r\n      },\r\n      {\r\n        validate: (v) => v.length <= 60,\r\n        errorMessage: 'Maksymalnie 60 znaków',\r\n      },\r\n    ],\r\n  },\r\n  axis: {\r\n    label: \"Oś odniesienia\",\r\n    required: true,\r\n  },\r\n  showRegresion: {},\r\n  dotted: {},\r\n  dashed: {},\r\n  lineColor: {\r\n    label: \"Kolor na wykresie\",\r\n    required: true,\r\n  },\r\n};\r\n\r\nexport default Object.assign(\r\n({mode, editedData, loadedData, config, onClose, updateData}) => {\r\n\r\nconst onUpdateFields = changedFields => {\r\n  if (changedFields !== editedData.fields) {\r\n    updateData({\r\n      ...editedData,\r\n      fields: { ...editedData.fields, ...changedFields },\r\n    });\r\n  }\r\n};\r\n  return (\r\n    <UseDataForm\r\n      mode={mode}\r\n      onClose={onClose}\r\n      updateData={onUpdateFields}\r\n      dataSource={editedData.dataSource}\r\n      editedData={editedData.fields}\r\n      loadedData={loadedData}\r\n      config={config}\r\n    />\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    mode: PropTypes.oneOf([MODES.EDIT, MODES.LOAD]).isRequired,\r\n    editedData: PropTypes.shape(UsedDataType).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    config: PropTypes.shape(ConfigType),\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { List, Switch, Tooltip, Icon } from 'antd';\r\n\r\nimport { ConfigType, DataType, UsedDataType } from '../utils/types'\r\n\r\nimport DataInputForm from '../../../../components/DataInputForm';\r\nimport StyledDrawer from '../../../../components/StyledDrawer';\r\nimport { ButtonForList, SetupList} from '../../../../components/SetupList';\r\n\r\nimport UseDataDialog from '../Dialogs/UseDataDialog';\r\nimport { MODES, formatReason, getDisableReason, formatReasonColor, formatReasonSymbol } from '../utils/constants';\r\nimport MathParser from '../../../../../../components/MathParser';\r\n\r\n// TODO przerobic na funkcyjny\r\nclass UseData extends Component {\r\n  static propTypes = {\r\n    data: PropTypes.arrayOf(PropTypes.shape(UsedDataType)).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    config: PropTypes.shape(ConfigType).isRequired,\r\n    update: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    openedDialog: false,\r\n    editedData: null,\r\n  };\r\n\r\n  getIndex = (key) => this.props.data.findIndex(e => e.dataSource === key);\r\n\r\n  onCloseDialog = () => {\r\n    this.setState({\r\n      openedDialog: false,\r\n      editedData: null,\r\n    });\r\n  };\r\n\r\n  openDialogEdit = key => {\r\n    this.setState({\r\n      openedDialog: true,\r\n      editedData: key,\r\n    });\r\n  };\r\n\r\n  changeShow = (key, checked) => {\r\n    const { data, update } = this.props;\r\n    const newValue = [ ...data ];\r\n    newValue[this.getIndex(key)].show = checked;\r\n    update(newValue);\r\n  };\r\n\r\n  updateData = (key, value) => {\r\n    const { data, update } = this.props;\r\n    const newValue = [ ...data ];\r\n    newValue[this.getIndex(key)] = value;\r\n    update(newValue);\r\n  };\r\n\r\n  render() {\r\n    const { data, loadedData, config } = this.props;\r\n    return (\r\n      <DataInputForm>\r\n        <SetupList>\r\n          {data.map(({dataSource, fields, show}) => {\r\n            const reason = getDisableReason(dataSource, loadedData, config.xAxis.xKey);\r\n            return (\r\n            <List.Item\r\n              key={dataSource}\r\n              actions={[\r\n                <ButtonForList disabled={reason} onClick={() => this.openDialogEdit(dataSource)}>edytuj</ButtonForList>,\r\n              ]}\r\n            >\r\n              <List.Item.Meta\r\n                title={<Details\r\n                  reason={reason}\r\n                  description={fields.description}\r\n                  show={show}\r\n                  onChange={(checked) => this.changeShow(dataSource, checked)}\r\n                />}\r\n              />\r\n            </List.Item>)},\r\n          )}\r\n        </SetupList>\r\n        {this.state.editedData !== null && <StyledDrawer\r\n          title='Edycja wyświetlanych danych'\r\n          placement='left'\r\n          onClose={this.onCloseDialog}\r\n          visible={this.state.openedDialog}\r\n          width={480}\r\n        >\r\n          <UseDataDialog\r\n              mode={MODES.EDIT}\r\n              onClose={this.onCloseDialog}\r\n              editedData={data[this.getIndex(this.state.editedData)]}\r\n              loadedData={loadedData}\r\n              config={config}\r\n              updateData={value =>\r\n                this.updateData(this.state.editedData, value)\r\n              }\r\n            />\r\n        </StyledDrawer>}\r\n      </DataInputForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UseData;\r\n\r\nconst StyledDetails = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledSwitch = styled.div`\r\n  flex: 0;\r\n  padding: 2px 0;\r\n`;\r\n\r\nconst DetailsTitle = styled.div`\r\n  flex: 1;\r\n  margin-right: 16px;\r\n`;\r\n\r\nconst StyledWaringTip = styled.div`\r\n  font-size: 1.2rem;\r\n  padding-right: 16px;\r\n  color: ${({reason}) => formatReasonColor(reason)};\r\n`;\r\n\r\nconst Details = ({description, show, onChange, reason}) =>\r\n  <StyledDetails>\r\n    {reason &&\r\n      <StyledWaringTip reason={reason}>\r\n        <Tooltip title={formatReason(reason)}>\r\n          <Icon type={formatReasonSymbol(reason)} />\r\n        </Tooltip>\r\n      </StyledWaringTip>\r\n    }\r\n    <DetailsTitle>\r\n      <MathParser>\r\n        {description}\r\n      </MathParser>\r\n    </DetailsTitle>\r\n    <StyledSwitch>\r\n      <Tooltip\r\n        visible={reason ? false : undefined}\r\n        title=\"Pokaż lub ukryj dane\"\r\n      >\r\n        <Switch\r\n          checked={reason ? false : show}\r\n          onChange={reason ? undefined : onChange}\r\n        />\r\n      </Tooltip>\r\n    </StyledSwitch>\r\n  </StyledDetails>\r\n","import React from \"react\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport default ({...props}) => (\r\n  <Select placeholder=\"Pozycja na wykresie\" {...props}>\r\n    <Option key=\"left\" value=\"left\">\r\n      Po lewej stronie\r\n    </Option>\r\n    <Option key=\"right\" value=\"right\">\r\n      Po prawej stronie\r\n    </Option>\r\n  </Select>\r\n);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Checkbox, Form, Row, Col, Input, Button } from \"antd\";\r\n\r\nimport { yAxisType } from \"../utils/types\";\r\nimport { MODES } from \"../utils/constants\";\r\n\r\nimport FormItemWrapper, { validate } from \"../../../../../../components/FormItemWrapper\";\r\nimport { FormFooter, FormInner, StyledFrom } from \"../../../../components/StyledForm\";\r\nimport AxisSideSelect from \"../../../../components/AxisSideSelect\";\r\n\r\nimport { withDelayedUpdate } from \"../../../../../../utils/delayed\";\r\n\r\nconst DelayedInput = withDelayedUpdate(Input);\r\n\r\nconst AxisForm = Object.assign(\r\n({mode, editedData, onClose, loadData, updateData}) => {\r\n  const isEdit = mode === MODES.EDIT;\r\n\r\n  const [triggered, setTriggered] = useState(false);\r\n  const [_value, setValue] = useState(editedData);\r\n\r\n  const formSettings = {\r\n    isEdit,\r\n    triggered,\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(editedData);\r\n  }, [editedData]);\r\n\r\n  const updateWithValid = ((data, isValid) =>\r\n    isValid ? updateData({...editedData, ...data}): setValue({..._value, ...data}));\r\n\r\n  const update = (key) => ((data, isValid) => updateWithValid({[key]: data}, isValid));\r\n\r\n  const onReset = () => {\r\n    setTriggered(false);\r\n    if(isEdit) {\r\n      setValue(editedData);\r\n    }\r\n    else {\r\n      updateData(genDefaultData());\r\n    }\r\n  }\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const toValidate = [\r\n      'description',\r\n      'side',\r\n      'unit',\r\n      'rangeFrom',\r\n      'rangeTo',\r\n      'rangeSpan',\r\n    ];\r\n    const isValid = toValidate.map((key) => validate({\r\n      ...setupSettings[key],\r\n      value: _value[key],\r\n      rules: setupSettings[key] ? (setupSettings[key].rules || []) : [],\r\n    })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n    if(!isValid) {\r\n      setTriggered(true);\r\n    }\r\n    else {\r\n      if(isEdit) {\r\n        updateData(_value);\r\n      } else {\r\n        loadData(_value);\r\n      }\r\n      onClose();\r\n      onReset();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledFrom\r\n      layout=\"vertical\"\r\n      onSubmit={onSubmit}\r\n      hideRequiredMark\r\n    >\r\n      <FormInner>\r\n        <FormItemWrapper\r\n          value={_value.showAxis}\r\n          valueKey=\"checked\"\r\n          onChange={update('showAxis')}\r\n          {...formSettings}\r\n          {...setupSettings.showAxis}\r\n        >\r\n          <Checkbox>Pokaż oś na wykresie</Checkbox>\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.description}\r\n          onChange={update('description')}\r\n          {...formSettings}\r\n          {...setupSettings.description}\r\n        >\r\n          <DelayedInput placeholder=\"Opis osi\" />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.showDescription}\r\n          valueKey=\"checked\"\r\n          onChange={update('showDescription')}\r\n          {...formSettings}\r\n          {...setupSettings.showDescription}\r\n        >\r\n          <Checkbox>Pokaż nazwę osi na wykresie</Checkbox>\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.side}\r\n          onChange={update('side')}\r\n          {...formSettings}\r\n          {...setupSettings.side}\r\n        >\r\n          <AxisSideSelect />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.unit}\r\n          onChange={update('unit')}\r\n          {...formSettings}\r\n          {...setupSettings.unit}\r\n        >\r\n          <DelayedInput placeholder=\"Jednostka\" />\r\n        </FormItemWrapper>\r\n        <Form.Item\r\n          label=\"Zarządzanie zakresem danych\"\r\n          help=\"Aby ustawić automatyczne wyliczanie, wpisz auto\"\r\n        >\r\n          <Row gutter={24}>\r\n            <Col span={12}>\r\n              <FormItemWrapper\r\n                value={_value.rangeFrom}\r\n                onChange={update('rangeFrom')}\r\n                {...formSettings}\r\n                {...setupSettings.rangeFrom}\r\n              >\r\n                <DelayedInput placeholder=\"Początek zakresu\" />\r\n              </FormItemWrapper>\r\n            </Col>\r\n            <Col span={12}>\r\n                <FormItemWrapper\r\n                  value={_value.rangeTo}\r\n                  onChange={update('rangeTo')}\r\n                  {...formSettings}\r\n                  {...setupSettings.rangeTo}\r\n                >\r\n                  <DelayedInput placeholder=\"Koniec zakresu\" />\r\n                </FormItemWrapper>\r\n            </Col>\r\n            <Col span={12}>\r\n                <FormItemWrapper\r\n                  value={_value.rangeSpan}\r\n                  onChange={update('rangeSpan')}\r\n                  {...formSettings}\r\n                  {...setupSettings.rangeSpan}\r\n                >\r\n                  <DelayedInput placeholder=\"Krok\" />\r\n                </FormItemWrapper>\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n      </FormInner>\r\n      <FormFooter>\r\n        <Button\r\n          onClick={onReset}\r\n          style={{ marginRight: 16 }}\r\n        >\r\n          Zresetuj\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={isEdit ? \"redo\" : \"plus\"}\r\n          htmlType=\"submit\"\r\n        >\r\n          {isEdit ? \"Aktualizuj\" : \"Dodaj oś\"}\r\n        </Button>\r\n      </FormFooter>\r\n    </StyledFrom>\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    mode: PropTypes.oneOf([MODES.EDIT, MODES.LOAD]).isRequired,\r\n    editedData: PropTypes.shape(yAxisType).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    loadData: PropTypes.func.isRequired,\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n\r\nconst setupSettings = {\r\n  showAxis: {},\r\n  description: {\r\n    label: \"Opis osi\",\r\n    required: true,\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length >= 3,\r\n        errorMessage: 'Wymagane min. 3 znaki',\r\n      },\r\n      {\r\n        validate: (v) => v.length <= 20,\r\n        errorMessage: 'Maksymalnie 20 znaków',\r\n      },\r\n    ],\r\n  },\r\n  showDescription: {},\r\n  side: {\r\n    label: \"Miejsce wyświetlania\",\r\n    required: true,\r\n  },\r\n  unit: {\r\n    label: \"Jednostka\",\r\n    required: false,\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length <= 10,\r\n        errorMessage: 'Maksymalnie 10 znaków',\r\n      },\r\n    ],\r\n  },\r\n  rangeFrom: {\r\n    label: \"Od\",\r\n    required: true,\r\n  },\r\n  rangeTo: {\r\n    label: \"Do\",\r\n    required: true,\r\n  },\r\n  rangeSpan: {\r\n    label: \"Krok\",\r\n    required: true,\r\n  },\r\n};\r\n\r\nconst genDefaultData = () => ({\r\n  color: \"#333\",\r\n  showAxis: true,\r\n  side: \"left\",\r\n  description: \"\",\r\n  showDescription: false,\r\n  unit: \"\",\r\n  rangeFrom: \"auto\",\r\n  rangeTo: \"auto\",\r\n  rangeSpan: \"auto\",\r\n});\r\n\r\nexport default Object.assign(\r\n({mode, editedAxis, onClose, loadData, updateData}) => {\r\n  const isEdit = mode === MODES.EDIT;\r\n  const [newData, updateNewData] = useState(genDefaultData());\r\n\r\n  return (\r\n    <AxisForm\r\n      mode={mode}\r\n      onClose={onClose}\r\n      editedData={isEdit ? editedAxis.fields : newData }\r\n      updateData={isEdit ? updateData : updateNewData }\r\n      loadData={loadData}\r\n    />\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    mode: PropTypes.oneOf([\"load\", \"edit\"]).isRequired,\r\n    editedAxis: PropTypes.shape({\r\n      id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n      fields: PropTypes.shape({...yAxisType}),\r\n    }).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    loadData: PropTypes.func.isRequired,\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n","import React from 'react';\r\nimport { Icon, Select } from \"antd\";\r\nimport styled from 'styled-components';\r\n\r\nimport { getMeasurementLabel } from './MeasurementsPicker';\r\nimport MathParser from '../../../components/MathParser';\r\n\r\nconst { Option } = Select;\r\n\r\nconst addMeasurements = (prev, {measurements}) => {\r\n  const result = {...prev};\r\n  measurements.forEach(m => {\r\n    if(result[m]) {\r\n      result[m] += 1;\r\n    }\r\n    else {\r\n      result[m] = 1;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n  \r\nexport default ({loadedData, ...props}) => {\r\n  const measurements = loadedData.reduce((prev, {fields}) => addMeasurements(prev, fields), {\r\n    time: loadedData.length,\r\n  });\r\n  return (\r\n  <StyledSelect>\r\n    <Select {...props}>\r\n      {Object.keys(measurements).map(key => (\r\n        <Option key={key} value={key}>\r\n          <StyledOption>\r\n            {\r\n              key === \"time\"\r\n              ? (<StyledPlaceholder>\r\n                  <Icon type=\"clock-circle\" theme=\"twoTone\" />\r\n                </StyledPlaceholder>)\r\n              : (warning =>\r\n                <StyledPlaceholder warning={warning} >\r\n                  <Icon type={warning ? 'warning' : 'check'} />\r\n                </StyledPlaceholder>\r\n              )(measurements[key] !== loadedData.length)\r\n            }\r\n            <MathParser>\r\n              {getMeasurementLabel(key)}\r\n            </MathParser>\r\n          </StyledOption>\r\n        </Option>),\r\n      )}\r\n    </Select>\r\n    {(props.value && (measurements[props.value] !== loadedData.length)) &&\r\n      <Warning>\r\n        Część danych nie zostanie ujęta na wykresie.\r\n      </Warning>}\r\n  </StyledSelect>\r\n  );\r\n}\r\n\r\nconst StyledOption = styled.div`\r\n  min-width: 360px;\r\n  display: flex;\r\n`;\r\n\r\nconst StyledPlaceholder = styled.div`\r\n  flex: 32px 0 0;\r\n  color: ${({warning}) => warning ? '#faad14' : '#52c41a'};\r\n`;\r\n\r\nconst Warning = styled.div`\r\n  position: absolute;\r\n  bottom: -24px;\r\n  color: #faad14;\r\n`;\r\n\r\nconst StyledSelect = styled.div`\r\n  position: relative;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Row,\r\n} from \"antd\";\r\n\r\nimport FormItemWrapper, { validate } from \"../../../../../../components/FormItemWrapper\";\r\nimport SelectxKey from \"../../../../components/SelectxKey\";\r\nimport { FormFooter, FormInner, StyledFrom } from \"../../../../components/StyledForm\";\r\nimport ColorSelect from \"../../../../../../components/ColorSelect\";\r\nimport { xAxisType, DataType, UsedDataType } from \"../utils/types\";\r\nimport VisibilitySwitch from \"../../../../../../components/VisibilitySwitch\";\r\nimport { withDelayedUpdate } from \"../../../../../../utils/delayed\";\r\nimport { getMeasurementLabel, getMeasurementUnit } from \"../../../../components/MeasurementsPicker\";\r\n\r\nconst DelayedInput = withDelayedUpdate(Input);\r\n\r\n// TODO usuniecie valueKey z formy i przeniesienei do setup\r\nconst XAxisForm = Object.assign(\r\n({editedData, loadedData, usedData, onClose, updateData}) => {\r\n\r\n  const [triggered, setTriggered] = useState(false);\r\n  const [_value, setValue] = useState(editedData);\r\n\r\n  const formSettings = {\r\n    isEdit: true,\r\n    triggered,\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(editedData);\r\n  }, [editedData]);\r\n\r\n  const updateWithValid = ((data, isValid) =>\r\n    isValid ? updateData({...editedData, ...data}): setValue({..._value, ...data}));\r\n\r\n  const update = (key) => ((data, isValid) => updateWithValid({[key]: data}, isValid));\r\n\r\n  const onReset = () => {\r\n    setTriggered(false);\r\n    setValue(editedData);\r\n  }\r\n\r\n  const onChangeXKey = (data, isValid) =>\r\n  updateWithValid({\r\n    xKey: data,\r\n    ...(isValid && {\r\n      description: getMeasurementLabel(data),\r\n      ...(data !== 'time' && {\r\n        unit: getMeasurementUnit(data),\r\n      }),\r\n    }),\r\n  }, isValid);\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const toValidate = [\r\n      'description',\r\n      'color',\r\n      'xKey',\r\n      'unit',\r\n    ];\r\n    const isValid = toValidate.map((key) => validate({\r\n      ...setupSettings[key],\r\n      value: _value[key],\r\n      rules: setupSettings[key] ? (setupSettings[key].rules || []) : [],\r\n    })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n    if(!isValid) {\r\n      setTriggered(true);\r\n    }\r\n    else {\r\n      onClose();\r\n      onReset();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledFrom\r\n      layout=\"vertical\"\r\n      onSubmit={onSubmit}\r\n      hideRequiredMark\r\n    >\r\n      <FormInner>\r\n        <FormItemWrapper\r\n          value={_value.description}\r\n          onChange={update('description')}\r\n          {...formSettings}\r\n          {...setupSettings.description}\r\n        >\r\n          <DelayedInput placeholder=\"Opis osi\" />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.showDescription}\r\n          valueKey=\"checked\"\r\n          onChange={update('showDescription')}\r\n          {...formSettings}\r\n          {...setupSettings.showDescription}\r\n        >\r\n          <Checkbox>Pokaż nazwę osi na wykresie</Checkbox>\r\n        </FormItemWrapper>\r\n        <Row gutter={24}>\r\n          <Col span={12}>\r\n            <FormItemWrapper\r\n              value={_value.color}\r\n              onChange={update('color')}\r\n              {...formSettings}\r\n              {...setupSettings.color}\r\n            >\r\n              <ColorSelect />\r\n            </FormItemWrapper>\r\n          </Col>\r\n        </Row>\r\n        <FormItemWrapper\r\n          value={_value.xKey}\r\n          onChange={onChangeXKey}\r\n          {...formSettings}\r\n          {...setupSettings.xKey}\r\n        >\r\n          <SelectxKey loadedData={loadedData} />\r\n        </FormItemWrapper>\r\n        <VisibilitySwitch visible={_value.xKey === 'time'}>\r\n          <Row gutter={24}>\r\n            <Col span={12}>\r\n              <FormItemWrapper\r\n                value={_value.datesNumber}\r\n                onChange={update('datesNumber')}\r\n                {...formSettings}\r\n                {...setupSettings.datesNumber}\r\n              >\r\n                <InputNumber\r\n                    className=\"AutoInputNumber\"\r\n                    min={2}\r\n                    max={8}\r\n                    step={1}\r\n                    precision={0}\r\n                  />\r\n              </FormItemWrapper>\r\n            </Col>\r\n            <Col span={12}>\r\n              <FormItemWrapper\r\n                value={_value.withTime}\r\n                onChange={update('withTime')}\r\n                {...formSettings}\r\n                {...setupSettings.withTime}\r\n              >\r\n                <Checkbox>Pokaż godzinę</Checkbox>\r\n              </FormItemWrapper>\r\n            </Col>\r\n          </Row>\r\n        </VisibilitySwitch>\r\n        <VisibilitySwitch visible={_value.xKey !== 'time'}>\r\n          <FormItemWrapper\r\n            value={_value.unit}\r\n            onChange={update('unit')}\r\n            {...formSettings}\r\n            {...setupSettings.unit}\r\n          >\r\n            <DelayedInput placeholder=\"Jednostka\" />\r\n          </FormItemWrapper>\r\n          <Form.Item\r\n            label=\"Zarządzanie zakresem danych\"\r\n            help=\"Aby ustawić automatyczne wyliczanie, wpisz auto\"\r\n          >\r\n            <Row gutter={24}>\r\n              <Col span={12}>\r\n                <FormItemWrapper\r\n                  value={_value.rangeFrom}\r\n                  onChange={update('rangeFrom')}\r\n                  {...formSettings}\r\n                  {...setupSettings.rangeFrom}\r\n                >\r\n                  <DelayedInput placeholder=\"Początek zakresu\" />\r\n                </FormItemWrapper>\r\n              </Col>\r\n              <Col span={12}>\r\n                  <FormItemWrapper\r\n                    value={_value.rangeTo}\r\n                    onChange={update('rangeTo')}\r\n                    {...formSettings}\r\n                    {...setupSettings.rangeTo}\r\n                  >\r\n                    <DelayedInput placeholder=\"Koniec zakresu\" />\r\n                  </FormItemWrapper>\r\n              </Col>\r\n              <Col span={12}>\r\n                  <FormItemWrapper\r\n                    value={_value.rangeSpan}\r\n                    onChange={update('rangeSpan')}\r\n                    {...formSettings}\r\n                    {...setupSettings.rangeSpan}\r\n                  >\r\n                    <DelayedInput placeholder=\"Krok\" />\r\n                  </FormItemWrapper>\r\n              </Col>\r\n            </Row>\r\n          </Form.Item>\r\n        </VisibilitySwitch>\r\n      </FormInner>\r\n      <FormFooter>\r\n        <Button\r\n          onClick={onReset}\r\n          style={{ marginRight: 16 }}\r\n        >\r\n          Zresetuj\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon=\"redo\"\r\n          htmlType=\"submit\"\r\n        >\r\n          Zakończ\r\n        </Button>\r\n      </FormFooter>\r\n    </StyledFrom>\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    editedData: PropTypes.shape(xAxisType).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    usedData: PropTypes.arrayOf(PropTypes.shape(UsedDataType)).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n\r\nconst setupSettings = {\r\n  description: {\r\n    label: \"Opis osi\",\r\n    required: true,\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length >= 3,\r\n        errorMessage: 'Wymagane min. 3 znaki',\r\n      },\r\n      {\r\n        validate: (v) => v.length <= 20,\r\n        errorMessage: 'Maksymalnie 20 znaków',\r\n      },\r\n    ],\r\n  },\r\n  showDescription: {},\r\n  color: {\r\n    label: \"Kolor osi\",\r\n    required: true,\r\n  },\r\n  xKey: {\r\n    label: 'Dane na osi X',\r\n    required: true,\r\n  },\r\n  datesNumber: {\r\n    label: \"Minimalna ilość dat na osi\",\r\n    help: \"Wyświetlna liczba może być mniejsza dla krótkich okresów\",\r\n    rules: [\r\n      {\r\n        validate: (v) => v >= 2,\r\n        errorMessage: 'Wymagane min. 2 daty',\r\n      },\r\n      {\r\n        validate: (v) => v <= 8,\r\n        errorMessage: 'Maksymalnie 8 dat',\r\n      },\r\n    ],\r\n  },\r\n  withTime: {},\r\n  unit: {\r\n    label: \"Jednostka\",\r\n    required: false,\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length <= 10,\r\n        errorMessage: 'Maksymalnie 10 znaków',\r\n      },\r\n    ],\r\n  },\r\n  rangeFrom: {\r\n    label: \"Od\",\r\n    required: true,\r\n  },\r\n  rangeTo: {\r\n    label: \"Do\",\r\n    required: true,\r\n  },\r\n  rangeSpan: {\r\n    label: \"Krok\",\r\n    required: true,\r\n  },\r\n};\r\n\r\nexport default Object.assign(\r\n({editedAxis, loadedData, usedData, onClose, updateData}) => {\r\n  return (\r\n    <XAxisForm\r\n      editedData={editedAxis}\r\n      onClose={onClose}\r\n      updateData={updateData}\r\n      loadedData={loadedData}\r\n      usedData={usedData}\r\n    />\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    editedAxis: PropTypes.shape(xAxisType).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    usedData: PropTypes.arrayOf(PropTypes.shape(UsedDataType)).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { isNil } from 'lodash';\r\nimport { Checkbox, Input, Button } from \"antd\";\r\n\r\nimport { settingsType } from \"../utils/types\";\r\n\r\nimport FormItemWrapper, { validate } from \"../../../../../../components/FormItemWrapper\";\r\nimport { FormFooter, FormInner, StyledFrom } from \"../../../../components/StyledForm\";\r\nimport { withDelayedUpdate } from \"../../../../../../utils/delayed\";\r\n\r\nconst DelayedInput = withDelayedUpdate(Input);\r\n\r\nconst EditSettingsForm = Object.assign(\r\n({ editedData, onClose, updateData }) => {\r\n  const [triggered, setTriggered] = useState(false);\r\n  const [_value, setValue] = useState(editedData);\r\n\r\n  const formSettings = {\r\n    isEdit: true,\r\n    triggered,\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(editedData);\r\n  }, [editedData]);\r\n\r\n  const updateWithValid = ((data, isValid) =>\r\n    isValid ? updateData({...editedData, ...data}): setValue({..._value, ...data}));\r\n\r\n  const update = (key) => ((data, isValid) => updateWithValid({[key]: data}, isValid));\r\n\r\n  const changeTitle = ((data, isValid) => updateWithValid({\r\n    title: data,\r\n    ...((isValid && !isNil(data) && data !== '') && {\r\n      showTitle: true,\r\n    }),\r\n  }, isValid));\r\n\r\n  const onReset = () => {\r\n    setTriggered(false);\r\n    setValue(editedData);\r\n  }\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const toValidate = [\r\n      'title',\r\n    ];\r\n    const isValid = toValidate.map((key) => validate({\r\n      ...setupSettings[key],\r\n      value: _value[key],\r\n      rules: setupSettings[key] ? (setupSettings[key].rules || []) : [],\r\n    })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n    if(!isValid) {\r\n      setTriggered(true);\r\n    }\r\n    else {\r\n      onClose();\r\n      onReset();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledFrom\r\n      layout=\"vertical\"\r\n      hideRequiredMark\r\n      onSubmit={onSubmit}\r\n    >\r\n      <FormInner>\r\n        <FormItemWrapper\r\n          value={_value.title}\r\n          onChange={changeTitle}\r\n          {...formSettings}\r\n          {...setupSettings.title}\r\n        >\r\n          <DelayedInput placeholder=\"Tytuł wykresu\" />\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.showTitle}\r\n          valueKey=\"checked\"\r\n          onChange={update('showTitle')}\r\n          {...formSettings}\r\n          {...setupSettings.showTitle}\r\n        >\r\n          <Checkbox>Pokaż tytuł na wykresie</Checkbox>\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.showLegend}\r\n          valueKey=\"checked\"\r\n          onChange={update('showLegend')}\r\n          {...formSettings}\r\n          {...setupSettings.showLegend}\r\n        >\r\n          <Checkbox>Pokaż legendę na wykresie</Checkbox>\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.horizontalGrid}\r\n          valueKey=\"checked\"\r\n          onChange={update('horizontalGrid')}\r\n          {...formSettings}\r\n          {...setupSettings.horizontalGrid}\r\n        >\r\n          <Checkbox>Pokaż poziome linie siatki</Checkbox>\r\n        </FormItemWrapper>\r\n        <FormItemWrapper\r\n          value={_value.verticalGrid}\r\n          valueKey=\"checked\"\r\n          onChange={update('verticalGrid')}\r\n          {...formSettings}\r\n          {...setupSettings.verticalGrid}\r\n        >\r\n          <Checkbox>Pokaż pionowe linie siatki</Checkbox>\r\n        </FormItemWrapper>\r\n      </FormInner>\r\n      <FormFooter>\r\n        <Button\r\n          onClick={onReset}\r\n          style={{ marginRight: 16 }}\r\n        >\r\n          Zresetuj\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          icon=\"redo\"\r\n          htmlType=\"submit\"\r\n        >\r\n          Zakończ\r\n        </Button>\r\n      </FormFooter>\r\n    </StyledFrom>\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    editedData: PropTypes.shape(settingsType).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n\r\nconst setupSettings = {\r\n  title: {\r\n    label: \"Tytuł wykresu\",\r\n    rules: [\r\n      {\r\n        validate: (v) => v.length <= 60,\r\n        errorMessage: 'Maksymalnie 60 znaków',\r\n      },\r\n    ],\r\n  },\r\n  showTitle: {},\r\n  showLegend: {},\r\n  horizontalGrid: {},\r\n  verticalGrid: {},\r\n};\r\n\r\nexport default Object.assign(\r\n({ settings, onClose, updateData }) => {\r\n  const onUpdateFields = changedFields => {\r\n    if (changedFields !== settings) {\r\n      updateData({\r\n        ...settings,\r\n        ...changedFields,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditSettingsForm\r\n      onClose={onClose}\r\n      editedData={settings}\r\n      updateData={onUpdateFields}\r\n    />\r\n  );\r\n},\r\n{\r\n  propTypes: {\r\n    settings: PropTypes.shape(settingsType).isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    updateData: PropTypes.func.isRequired,\r\n  },\r\n});\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport { find, filter } from \"lodash\";\r\nimport { List } from \"antd\";\r\n\r\nimport DataInputForm from '../../../../components/DataInputForm';\r\nimport StyledDrawer from '../../../../components/StyledDrawer';\r\nimport { ButtonForList, SetupAdd, SetupList} from '../../../../components/SetupList';\r\n\r\nimport AxisDialog from \"../Dialogs/AxisDialog\";\r\nimport XAxisDialog from \"../Dialogs/XAxisDialog\";\r\nimport EditSettingsDialog from \"../Dialogs/EditSettingsDialog\";\r\nimport { ConfigType, DataType, UsedDataType } from \"../utils/types\";\r\nimport { MODES } from \"../utils/constants\";\r\n\r\n// TODO przerobic na funkcyjne\r\nclass ConfigChart extends Component {\r\n  static propTypes = {\r\n    config: PropTypes.shape(ConfigType).isRequired,\r\n    usedData: PropTypes.arrayOf(PropTypes.shape(UsedDataType)).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    update: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    openedDialogSettings: false,\r\n    openedDialogXAxis: false,\r\n    openedDialogYAxis: false,\r\n    editedAxis: null,\r\n  };\r\n\r\n  onCloseDialogSettings = () => {\r\n    this.setState({ openedDialogSettings: false });\r\n  };\r\n\r\n  onCloseDialogXAxis = () => {\r\n    this.setState({ openedDialogXAxis: false });\r\n  };\r\n\r\n  onCloseDialogYAxis = () => {\r\n    this.setState({\r\n      openedDialogYAxis: false,\r\n      editedAxis: null,\r\n    });\r\n  };\r\n\r\n  openDialogSettings = () => {\r\n    this.setState({ openedDialogSettings: true });\r\n  };\r\n\r\n  openDialogXAxis = () => {\r\n    this.setState({ openedDialogXAxis: true });\r\n  };\r\n\r\n  openDialogYAxis = axis => {\r\n    this.setState({\r\n      openedDialogYAxis: true,\r\n      editedAxis: axis,\r\n    });\r\n  };\r\n\r\n  newIndex = () =>\r\n    this.props.config.yAxises.reduce(\r\n      (prev, {id}) => Math.max(prev, id),\r\n      -1,\r\n    ) + 1;\r\n\r\n  addAxis = newAxis => {\r\n    const { config, update } = this.props;\r\n    const ncofig = { ...config };\r\n    const nAxises = [...config.yAxises, {\r\n      id: this.newIndex().toString(),\r\n      fields: newAxis,\r\n    }];\r\n    ncofig.yAxises = nAxises;\r\n    update(ncofig);\r\n  };\r\n\r\n  updateAxis = (newAxis, key) => {\r\n    const { config, update } = this.props;\r\n    const ncofig = { ...config };\r\n    const id = config.yAxises.findIndex(e => e.id === key);\r\n    const nAxises = [...config.yAxises];\r\n    nAxises[id] = {...nAxises[id], fields: newAxis};\r\n    ncofig.yAxises = nAxises;\r\n    update(ncofig);\r\n  };\r\n\r\n  canRemove = key =>\r\n    !find(\r\n     this.props.usedData,\r\n      used => used.fields.axis === key,\r\n    );\r\n\r\n  removeAxis = axisId => {\r\n    const { config, update } = this.props;\r\n    const ncofig = { ...config };\r\n    const nAxises = filter(ncofig.yAxises,\r\n      e => e.id !== axisId);\r\n    ncofig.yAxises = nAxises;\r\n    update(ncofig);\r\n  };\r\n\r\n  updateSettings = newSettings => {\r\n    const { config, update } = this.props;\r\n    const ncofig = { ...config };\r\n    ncofig.settings = { ...ncofig.settings, ...newSettings };\r\n    update(ncofig);\r\n  };\r\n\r\n  updateXAxis = newAxis => {\r\n    const { config, update } = this.props;\r\n    const ncofig = { ...config };\r\n    ncofig.xAxis = { ...ncofig.xAxis, ...newAxis };\r\n    update(ncofig);\r\n  };\r\n\r\n  render() {\r\n    const { config, loadedData, usedData } = this.props;\r\n    const { editedAxis } = this.state;\r\n    const isEdit = editedAxis !== null;\r\n    return (\r\n      <DataInputForm>\r\n        <SetupList>\r\n          <List.Item\r\n            actions={[\r\n              <ButtonForList onClick={this.openDialogSettings}>edytuj</ButtonForList>,\r\n            ]}\r\n          >\r\n            <List.Item.Meta title=\"Konfiguracja ogólna wykresu\" />\r\n          </List.Item>\r\n        </SetupList>\r\n        <ConfigChartSection>\r\n          Oś pozioma\r\n        </ConfigChartSection>\r\n        <SetupList>\r\n          <List.Item\r\n            actions={[\r\n              <ButtonForList onClick={this.openDialogXAxis}>edytuj</ButtonForList>,\r\n            ]}\r\n          >\r\n            <List.Item.Meta title=\"Oś pozioma (odniesienia)\" />\r\n          </List.Item>\r\n        </SetupList>\r\n        <ConfigChartSection>\r\n          Osie pionowe\r\n        </ConfigChartSection>\r\n        <SetupList>\r\n          {config.yAxises.map(({id, fields}) => (\r\n            <List.Item\r\n              key={id}\r\n              actions={[\r\n                <ButtonForList onClick={() => this.openDialogYAxis(id)}>edytuj</ButtonForList>,\r\n                <ButtonForList onClick={() => this.removeAxis(id)} disabled={!this.canRemove(id)}>usuń</ButtonForList>,\r\n              ]}\r\n            >\r\n              <List.Item.Meta title={fields.description} />\r\n            </List.Item>\r\n          ))}\r\n        </SetupList>\r\n        <SetupAdd\r\n          description=\"Dodaj oś odniesienia\"\r\n          icon=\"plus\"\r\n          onClick={() => this.openDialogYAxis(null)}\r\n        />\r\n        <StyledDrawer\r\n          title=\"Edytuj sposób prezentacji wykresu\"\r\n          placement=\"left\"\r\n          onClose={this.onCloseDialogSettings}\r\n          visible={this.state.openedDialogSettings}\r\n          width={480}\r\n        >\r\n          <EditSettingsDialog\r\n            onClose={this.onCloseDialogSettings}\r\n            settings={config.settings}\r\n            updateData={this.updateSettings}\r\n          />\r\n        </StyledDrawer>\r\n        <StyledDrawer\r\n          title=\"Edytuj oś poziomą\"\r\n          placement=\"left\"\r\n          onClose={this.onCloseDialogXAxis}\r\n          visible={this.state.openedDialogXAxis}\r\n          width={480}\r\n        >\r\n          <XAxisDialog\r\n            onClose={this.onCloseDialogXAxis}\r\n            editedAxis={config.xAxis}\r\n            loadedData={loadedData}\r\n            usedData={usedData}\r\n            updateData={this.updateXAxis}\r\n          />\r\n        </StyledDrawer>\r\n        <StyledDrawer\r\n          title={isEdit ? \"Edytuj ustawienia osi\" : \"Dodaj nową oś\"}\r\n          placement=\"left\"\r\n          onClose={this.onCloseDialogYAxis}\r\n          visible={this.state.openedDialogYAxis}\r\n          width={480}\r\n        >\r\n          <AxisDialog\r\n            mode={isEdit ? MODES.EDIT : MODES.LOAD}\r\n            onClose={this.onCloseDialogYAxis}\r\n            settings={config.settings}\r\n            loadData={this.addAxis}\r\n            updateData={newAxis => this.updateAxis(newAxis, editedAxis)}\r\n            editedAxis={isEdit ? config.yAxises[editedAxis] : {}}\r\n          />\r\n        </StyledDrawer>\r\n      </DataInputForm>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConfigChart;\r\n\r\nconst ConfigChartSection = styled.div`\r\n  padding: 8px 0;\r\n  margin-top: 16px;\r\n  font-weight: bold;\r\n  background: linear-gradient(to right, #999 0%, #999 50%, #fff 50%, #fff 100%);\r\n  background-position: top right;\r\n  background-repeat: repeat-x;\r\n  background-size: 10px 1px;\r\n`;\r\n","import { sortBy } from 'lodash';\r\n\r\nimport { colors } from '../../../../../../components/ColorSelect';\r\n\r\nexport const defaultChartConfig = {\r\n  settings: {\r\n    title: \"\",\r\n    showTitle: false,\r\n    showLegend: true,\r\n    horizontalGrid: true,\r\n    verticalGrid: true,\r\n    // dwie poniższe nieedytowalne\r\n    stopInteractive: false,\r\n    stopAnimation: true,\r\n  },\r\n  xAxis: {\r\n    description: \"Czas\",\r\n    showDescription: false,\r\n    color: \"#333\",\r\n    datesNumber: 5,\r\n    withTime: false,\r\n    xKey: \"time\",\r\n    unit: \"\",\r\n    rangeFrom: \"auto\",\r\n    rangeTo: \"auto\",\r\n    rangeSpan: \"auto\",\r\n  },\r\n  yAxises: [\r\n    {\r\n      id: \"0\",\r\n      fields: {\r\n        color: \"#333\",\r\n        showAxis: true,\r\n        side: \"left\",\r\n        description: \"Oś Y\",\r\n        showDescription: false,\r\n        unit: \"\",\r\n        rangeFrom: \"auto\",\r\n        rangeTo: \"auto\",\r\n        rangeSpan: \"auto\",\r\n      },\r\n    },\r\n  ],\r\n};\r\n\r\nexport const nextColorsPallete = (alreadyUsed) => {\r\n  const possible = colors.reduce((prev, color, id) => ({\r\n    ...prev,\r\n    [color.color]: {\r\n      counter: 0,\r\n      id,\r\n    },\r\n  }), {});\r\n  alreadyUsed.forEach(({fields}) => {\r\n    possible[fields.lineColor].counter += 1;\r\n  });\r\n  const pallete = Object.keys(possible).map(key => ({\r\n    color: key,\r\n    counter: possible[key].counter,\r\n    id: possible[key].id,\r\n  }))\r\n  return sortBy(pallete, ['counter', 'id']);\r\n}\r\n\r\nexport const getUsedData = ({dataSource, description, colorPallete, yAxises}, idx) => ({\r\n  dataSource,\r\n  fields: {\r\n    description,\r\n    axis: yAxises[0].id,\r\n    showRegresion: false,\r\n    dotted: false,\r\n    lineWidth: 2,\r\n    lineColor: colorPallete[idx % colorPallete.length].color,\r\n    dashed: false,\r\n    dashLength: 5,\r\n    dashSpacing: 5,\r\n  },\r\n  show: true,\r\n});\r\n","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport { union, filter, sortBy } from \"lodash\";\r\nimport { Collapse } from \"antd\";\r\n\r\nimport LoadData from \"./MenuElements/LoadData\";\r\nimport UseData from \"./MenuElements/UseData\";\r\nimport ConfigChart from \"./MenuElements/ConfigChart\";\r\n\r\nimport {\r\n  ConfigType,\r\n  DataType,\r\n  UsedDataType,\r\n} from './utils/types';\r\nimport { extractEntry, generateDataSourcesSet } from \"./utils/constants\";\r\nimport { getUsedData, nextColorsPallete } from \"./utils/defaults\";\r\n\r\nconst Panel = Collapse.Panel;\r\n\r\nconst getActiveStatus = ({ loadedData, usedData }) => {\r\n  const isActiveUsedData = loadedData.length !== 0;\r\n  const isActiveChartConfig = usedData.length !== 0;\r\n  return {\r\n    isActiveUsedData,\r\n    isActiveChartConfig,\r\n  };\r\n};\r\n\r\nclass ChartSetup extends Component {\r\n  // TODO przepisac na funkcjonalny\r\n  constructor(props) {\r\n    super(props);\r\n    const { isActiveUsedData, isActiveChartConfig } = getActiveStatus(props);\r\n    const activeKey = [\"loadedData\"];\r\n    if (isActiveUsedData) {\r\n      activeKey.push(\"usedData\");\r\n    }\r\n    if (isActiveChartConfig) {\r\n      activeKey.push(\"chartConfig\");\r\n    }\r\n    this.state = { activeKey };\r\n  }\r\n\r\n  static propTypes = {\r\n    chartConfig: PropTypes.shape(ConfigType).isRequired,\r\n    loadedData: PropTypes.arrayOf(PropTypes.shape(DataType)).isRequired,\r\n    update: PropTypes.func.isRequired,\r\n    usedData: PropTypes.arrayOf(PropTypes.shape(UsedDataType)).isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const updateActiveKeys = [];\r\n    const removeActiveKeys = [];\r\n    const activeStatus = getActiveStatus(this.props);\r\n    const prevActiveStatus = getActiveStatus(prevProps);\r\n    if (!prevActiveStatus.isActiveUsedData && activeStatus.isActiveUsedData) {\r\n      updateActiveKeys.push(\"usedData\");\r\n    }\r\n    if (prevActiveStatus.isActiveUsedData && !activeStatus.isActiveUsedData) {\r\n      removeActiveKeys.push(\"usedData\");\r\n    }\r\n    if (\r\n      !prevActiveStatus.isActiveChartConfig &&\r\n      activeStatus.isActiveChartConfig\r\n    ) {\r\n      updateActiveKeys.push(\"chartConfig\");\r\n    }\r\n    if (\r\n      prevActiveStatus.isActiveChartConfig &&\r\n      !activeStatus.isActiveChartConfig\r\n    ) {\r\n      removeActiveKeys.push(\"chartConfig\");\r\n    }\r\n    if (updateActiveKeys.length + removeActiveKeys.length > 0) {\r\n      const result = union([...this.state.activeKey], updateActiveKeys);\r\n      this.setState({\r\n        activeKey: filter(result, e => !removeActiveKeys.includes(e))\r\n      });\r\n    }\r\n  }\r\n\r\n  changeActiveKey = newActiveKey => {\r\n    this.setState({\r\n      activeKey: newActiveKey,\r\n    });\r\n  };\r\n\r\n  update = (key, newValue) => {\r\n    this.setState({\r\n      [key]: newValue,\r\n    });\r\n  };\r\n\r\n  containsDataSource = (dataSource, loadedData) => {\r\n    const [id, measurement] = extractEntry(dataSource);\r\n    const fid = loadedData.findIndex(data => data.id === id);\r\n    if(fid === -1) return false;\r\n    return loadedData[fid].fields.measurements.includes(measurement);\r\n  }\r\n\r\n  updateLoadedData = newValue => {\r\n    const filteredOld = filter(this.props.usedData,\r\n      used => this.containsDataSource(used.dataSource, newValue));\r\n    const allNew = newValue.reduce((prev, loaded) =>\r\n    [...prev, ...generateDataSourcesSet(loaded)], []);\r\n    const toAdd = filter(allNew,\r\n      path => !filteredOld.find(({dataSource}) => path.dataSource === dataSource));\r\n    const colorPallete = nextColorsPallete(filteredOld);\r\n    const newUsedData = [...filteredOld, ...toAdd.map(\r\n      ({dataSource, description}, idx) => getUsedData({\r\n        dataSource,\r\n        description,\r\n        colorPallete,\r\n        yAxises: this.props.chartConfig.yAxises,\r\n      }, idx))];\r\n    this.props.update({\r\n      loadedData: newValue,\r\n      usedData: sortBy(newUsedData, ['dataSource']),\r\n    });\r\n  } \r\n\r\n  updateUsedData = newValue => this.props.update({\r\n    usedData: newValue,\r\n  });\r\n\r\n  updateChartConfig = newValue => this.props.update({\r\n    chartConfig: newValue,\r\n  });\r\n\r\n  render() {\r\n    const { loadedData, usedData, chartConfig, now } = this.props;\r\n    const { isActiveUsedData, isActiveChartConfig } = getActiveStatus(\r\n      this.props,\r\n    );\r\n    return (\r\n      <StyledChartSetup>\r\n        <Collapse\r\n          activeKey={this.state.activeKey}\r\n          onChange={this.changeActiveKey}\r\n          bordered={false}\r\n        >\r\n          <Panel header=\"Pobranie danych\" key=\"loadedData\">\r\n            <LoadData\r\n              update={this.updateLoadedData}\r\n              usedData={usedData}\r\n              data={loadedData}\r\n              config={chartConfig}\r\n              now={now}\r\n            />\r\n          </Panel>\r\n          <Panel\r\n            disabled={!isActiveUsedData}\r\n            header=\"Załadowane dane\"\r\n            key=\"usedData\"\r\n          >\r\n            <UseData\r\n              update={this.updateUsedData}\r\n              data={usedData}\r\n              loadedData={loadedData}\r\n              config={chartConfig}\r\n            />\r\n          </Panel>\r\n          <Panel\r\n            disabled={!isActiveChartConfig}\r\n            header=\"Konfiguracja wykresu\"\r\n            key=\"chartConfig\"\r\n          >\r\n            <ConfigChart\r\n              update={this.updateChartConfig}\r\n              loadedData={loadedData}\r\n              usedData={usedData}\r\n              config={chartConfig}\r\n            />\r\n          </Panel>\r\n        </Collapse>\r\n      </StyledChartSetup>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChartSetup;\r\n\r\nconst StyledChartSetup = styled.div`\r\n  & .ant-collapse-header {\r\n    font-size: 1rem;\r\n  }\r\n`;\r\n","import { filter, isNil } from \"lodash\";\r\n\r\nconst getAllDataFromKey = (data, key) =>\r\n  filter(data, e => !isNil(e[key])).map(item => item[key]);\r\n\r\nexport const filterDataByKeys = (data, keys = []) =>\r\n  filter(data, e => keys.reduce((prev, k) => prev && !isNil(e[k]), true));\r\n\r\nexport const dataFromAxis = (data, usedData, axis) =>\r\n  filter(usedData, e => e.axis === axis).reduce(\r\n    (prev, used) => [...prev, ...getAllDataFromKey(data, used.dataSource)],\r\n    [],\r\n  );\r\n\r\nexport const dataFromLimits = (limits = [], axis) =>\r\n  filter(limits, e=> e.axis === axis).map(({value}) => value);\r\n\r\nexport const dataFromAreas = (areas = [], axis) =>\r\n  filter(areas, e=> e.axis === axis).reduce((prev, {from, to}) => [...prev, from, to], []);\r\n\r\nexport const hasLeftAxis = (yAxises) =>\r\nyAxises.reduce((prev, {side}) => prev || side === \"left\", false);\r\n\r\nexport const hasRightAxis = (yAxises) =>\r\nyAxises.reduce((prev, {side}) => prev || side === \"right\", false);\r\n\r\nexport const dataFromXAxis = (data, xKey) => getAllDataFromKey(data, xKey);\r\n\r\nexport const isDataFunction = (data, xKey, yKey) => {\r\n    let y = null;\r\n    let x = null;\r\n    for (let i = 0; i < data.length; i += 1) {\r\n      if (data[i][xKey] && data[i][yKey]) {\r\n        if (data[i][xKey] === x && data[i][yKey] !== y) {\r\n          return false;\r\n        }\r\n        x = data[i][xKey];\r\n        y = data[i][yKey];\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const TIME = \"time\";\r\n\r\n  export const isTimeChart = xKey => xKey === TIME;\r\n","import { range } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { filterDataByKeys } from \"./filters\";\r\n\r\nconst AUTO = \"auto\";\r\n\r\n// TODO - blad, gdy dane na osi są stałe\r\n// TODO - blad, gdy withTime + za mało jest danych na wymaganą liczbę ticków\r\n\r\nconst autoRanges = [\r\n  {\r\n    limit: 2,\r\n    span: 0.5,\r\n  },\r\n  {\r\n    limit: 4,\r\n    span: 1,\r\n  },\r\n  {\r\n    limit: 7.5,\r\n    span: 2,\r\n  },\r\n  {\r\n    limit: 10,\r\n    span: 2.5,\r\n  },\r\n];\r\nconst minPower = -1;\r\nconst maxTickNumber = 16;\r\n\r\nconst calculatePower = ({ min, max }) => {\r\n  const scope = max - min;\r\n  const logRange = Math.max(Math.floor(Math.log10(scope)), minPower);\r\n  return 10**logRange;\r\n};\r\n\r\nconst calculateSpan = ({ min, max }) => {\r\n  const power = calculatePower({ min, max });\r\n  const digit = (max - min) / power;\r\n  let i = 0;\r\n  while (digit > autoRanges[i].limit && i + 1 < autoRanges.length) {\r\n    i += 1;\r\n  }\r\n  return power * autoRanges[i].span;\r\n};\r\n\r\nconst minTick = ({ min }, span) => span * Math.floor(min / span);\r\nconst maxTick = ({ max }, span) => span * Math.ceil(max / span);\r\nconst minValue = minTick;\r\nconst maxValue = maxTick;\r\n\r\nconst formatRange = (scope, auto) =>\r\n  scope === AUTO ? auto : Number.parseFloat(scope);\r\n\r\nconst getRangeFromData = values => ({\r\n  min: Math.min(...values),\r\n  max: Math.max(...values),\r\n});\r\n\r\nconst getTicks = ({ min, max }, span) => range(min, max + span / 2, span);\r\n\r\nexport const dateTicks = (data, { datesNumber, withTime }) => {\r\n  if(data.length === 0) return {};\r\n  const { min, max } = getRangeFromData(data);\r\n  const start = moment.unix(min / 1000);\r\n  const end = moment.unix(max / 1000);\r\n  const duration = moment.duration(end.diff(start));\r\n  const periods = withTime ? duration.asHours() : duration.asDays();\r\n  const number = Math.min(periods, datesNumber - 1);\r\n  if(Number.isNaN(number)) return {};\r\n  if(number <= 0) return {};\r\n  const span = Math.floor(periods / number);\r\n  const result = [];\r\n  const iter = moment(start);\r\n  while (!iter.isAfter(end)) {\r\n    result.push(iter.format(\"x\"));\r\n    iter.add(span, withTime ? \"hours\" : \"day\");\r\n  }\r\n  return {\r\n    domainMin: min,\r\n    domainMax: max,\r\n    ticks: result,\r\n  };\r\n};\r\n\r\nconst normalizeInput = (input) => {\r\n  if(input !== 'auto' && Number.isNaN(parseFloat(input))) {\r\n    return 'auto';\r\n  }\r\n  return input;\r\n}\r\n\r\nexport const chartRangesFromConfig = (\r\n  data,\r\n  { rangeFrom, rangeTo, rangeSpan },\r\n) => {\r\n  let autoRangeSpan = normalizeInput(rangeSpan);\r\n  const autoRangeFrom = normalizeInput(rangeFrom);\r\n  const autoRangeTo = normalizeInput(rangeTo);\r\n  if(data.length === 0) return {};\r\n  const { min, max } = getRangeFromData(data);\r\n  let from = formatRange(autoRangeFrom, min);\r\n  let to = formatRange(autoRangeTo, max);\r\n  if( to < from) {\r\n    const mem = from;\r\n    from = to;\r\n    to = mem;\r\n  }\r\n  const scope = {\r\n    min: from,\r\n    max: to,\r\n  };\r\n  if(rangeSpan !== 'auto' && (\r\n      (rangeSpan <= 0) ||\r\n      (rangeSpan * (maxTickNumber - 1) <=  (to - from))\r\n    )) {\r\n    autoRangeSpan = 'auto';\r\n  }\r\n  const span = formatRange(autoRangeSpan, calculateSpan(scope));\r\n  if(Number.isNaN(span)) return {};\r\n  if(span <= 0) return {}\r\n  if(to - from < span) return {}\r\n  return {\r\n    domainMin: minValue(scope, span),\r\n    domainMax: maxValue(scope, span),\r\n    ticks: getTicks(\r\n      {\r\n        min: minTick(scope, span),\r\n        max: maxTick(scope, span),\r\n      },\r\n      span,\r\n    ),\r\n  };\r\n};\r\n\r\nconst regresionData = (data, xKey, yKey) => {\r\n  const n = data.length;\r\n  let { sx, sy } = data.reduce(\r\n    (prev, d) => ({\r\n      sx: prev.sx + d[xKey],\r\n      sy: prev.sy + d[yKey],\r\n    }),\r\n    {\r\n      sx: 0,\r\n      sy: 0,\r\n    },\r\n  );\r\n  sx /= n;\r\n  sy /= n;\r\n  return {\r\n    sx,\r\n    sy,\r\n    ...data.reduce(\r\n      ({ rx2, ry2, rxy }, d) => ({\r\n        rx2: rx2 + (d[xKey] - sx) * (d[xKey] - sx),\r\n        ry2: ry2 + (d[yKey] - sy) * (d[yKey] - sy),\r\n        rxy: rxy + (d[xKey] - sx) * (d[yKey] - sy),\r\n      }),\r\n      {\r\n        rx2: 0,\r\n        ry2: 0,\r\n        rxy: 0,\r\n      },\r\n    ),\r\n  };\r\n};\r\n\r\nexport const regresion = (data, xKey, yKey) => {\r\n  if(data.length < 2) return {a: 0, b: 0, R2: 0};\r\n  const { sx, sy, rx2, ry2, rxy } = regresionData(data, xKey, yKey);\r\n  const a = rxy / rx2;\r\n  if(Number.isNaN(a)) return {a: 0, b: 0, R2: 0};\r\n  const b = sy - a * sx;\r\n  const ss = data.reduce(\r\n    (prev, d) => prev + (a * d[xKey] + b - sy) * (a * d[xKey] + b - sy),\r\n    0,\r\n  );\r\n  return {\r\n    a,\r\n    b,\r\n    R2: ss / ry2,\r\n  };\r\n};\r\n\r\nexport const generateRegresionKey = path => `REG_${path}`;\r\n\r\n// TODO dodanie Object.assign\r\nexport const addRegresionValues = (data, usedData, xKey, {domainMin, domainMax}) => {\r\n  let nData = [...data];\r\n  if(Number.isNaN(domainMax) || Number.isNaN(domainMin)) return nData;\r\n  usedData\r\n    .filter(e => e.showRegresion)\r\n    .forEach(used => {\r\n      const { dataSource } = used;\r\n      const dataSet = filterDataByKeys(data, [dataSource, xKey]);\r\n      used.regresion = regresion(dataSet, xKey, dataSource);\r\n      const { a, b } = used.regresion;\r\n      const regKey = generateRegresionKey(dataSource);\r\n      nData = [\r\n        {\r\n          [xKey]: domainMin,\r\n          [regKey]: a * domainMin + b,\r\n        },\r\n        ...nData,\r\n        {\r\n          [xKey]: domainMax,\r\n          [regKey]: a * domainMax + b,\r\n        },\r\n      ];\r\n    });\r\n  return nData;\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { filter } from \"lodash\";\r\nimport styled from 'styled-components';\r\n\r\nimport MathParser from \"../MathParser\";\r\nimport { isTimeChart } from \"./utils/filters\";\r\nimport { formatDate, formatDateTime, isFilledString } from \"../../utils/formaters\";\r\n\r\nexport default ({ usedData, xAxis, ranges }) => {\r\n    const { xKey, withTime } = xAxis;\r\n    const isTime = isTimeChart(xKey);\r\n    const calculate = filter(usedData, e => e.showRegresion).map(\r\n      ({ regresion, ...rest }) => {\r\n        const { a, b } = regresion;\r\n        let nb = b;\r\n        const domainMin = ranges.domainMin || 0;\r\n        let begin = 0;\r\n        if (isTime) {\r\n          nb += a * domainMin;\r\n          begin = domainMin;\r\n        }\r\n        return {\r\n          ...rest,\r\n          regresion: {\r\n            ...regresion,\r\n            b: nb,\r\n            begin,\r\n          },\r\n        };\r\n      },\r\n    );\r\n    const msInHour = 1000 * 60 * 60;\r\n    return calculate.length > 0 ? (\r\n      <StyledRegresionSummary>\r\n        {calculate.map(({ description, regresion, unit, dataSource }) => (\r\n          <RegresionValue key={dataSource}>\r\n            <Title>\r\n              <MathParser>\r\n                {description}\r\n              </MathParser>\r\n            </Title>\r\n            <Value>\r\n              {isTime\r\n                ? `( ${(\r\n                    regresion.a * (withTime ? msInHour : msInHour * 24)\r\n                  ).toExponential(4)} ) · czas + ${regresion.b.toFixed(2)}`\r\n                : `${regresion.a.toExponential(4)} · x + ${regresion.b.toFixed(2)}`}\r\n            </Value>\r\n            {isTime &&\r\n              <Fragment>\r\n                <Value>\r\n                  {`Początek x=0 dla ${((formatter) => formatter(regresion.begin))(withTime ? formatDateTime : formatDate)}`}\r\n                </Value>\r\n                <Value>\r\n                  <MathParser>\r\n                    {`Jednostka przyrostu ${formatUnit(xAxis.unit, unit, isTime, withTime)}`}\r\n                  </MathParser>\r\n                </Value>\r\n              </Fragment>}\r\n            <Value>\r\n              <MathParser>{`R^2 ${regresion.R2.toFixed(4)}`}</MathParser>\r\n            </Value>\r\n          </RegresionValue>\r\n        ))}\r\n      </StyledRegresionSummary>\r\n    ) : null;\r\n  };\r\n\r\n  const formatUnit = (unit, yUnit, isTime, withTime) => \r\n    ((topUnit, lowerUnit, timeUnit) => `${topUnit}/${isTime ? timeUnit : lowerUnit}`)(\r\n      isFilledString(yUnit) ? yUnit : \"1\",\r\n      isFilledString(unit) ? unit : \"1\",\r\n      withTime ? \"godzinę\" : \"dzień\",\r\n    );\r\n\r\nexport const StyledRegresionSummary = styled.div`\r\n  font-size: 0.9em;\r\n  padding: 4px;\r\n`;\r\n\r\nconst RegresionValue = styled.div`\r\n  & + & {\r\n    margin-top: 4px;\r\n  }\r\n`;\r\n\r\nconst Title = styled.div`\r\n  font-size: 0.8em;\r\n  font-weight: bold;\r\n  margin-bottom: 4px;\r\n`;\r\n\r\nconst Value = styled.div``;\r\n","import React, { PureComponent } from \"react\";\r\nimport { XAxis } from \"recharts\";\r\nimport styled from 'styled-components';\r\n// imports\r\nimport MathParser from \"../MathParser\";\r\nimport { formatDate, formatHour } from \"../../utils/formaters\";\r\n\r\nconst defaultPadding = {\r\n  left: 0,\r\n  right: 10,\r\n};\r\n\r\nexport const DefaultAxis = ({\r\n  dataKey,\r\n  color,\r\n  showDescription,\r\n  description,\r\n  ...props\r\n}) => (\r\n  <XAxis\r\n    dataKey={dataKey}\r\n    tickMargin={8}\r\n    stroke={color}\r\n    height={xAxisHeight(showDescription, false)}\r\n    label={\r\n      showDescription\r\n        ? <CustomXLabel description={description} color={color} {...props} />\r\n        : undefined\r\n    }\r\n    {...props}\r\n  />\r\n)\r\n\r\nexport const CustomTimeAxis = ({\r\n    description,\r\n    dataKey,\r\n    showDescription,\r\n    color,\r\n    withTime,\r\n    datesNumber,\r\n    ranges,\r\n    hasLeft = true,\r\n    hasRight = false,\r\n    tickFormatter,\r\n    ...props\r\n  }) => (\r\n    <XAxis\r\n      allowDataOverflow\r\n      padding={defaultPadding}\r\n      tick={<CustomizedTimeTick\r\n        padding={defaultPadding}\r\n        ranges={ranges}\r\n        hasLeft={hasLeft}\r\n        hasRight={hasRight}\r\n        withTime={withTime}\r\n        color={color}\r\n        tickFormatter={tickFormatter}\r\n      />}\r\n      interval={0}\r\n      dataKey={dataKey}\r\n      type=\"number\"\r\n      stroke={color}\r\n      height={xAxisHeight(showDescription, withTime)}\r\n      domain={[\"dataMin\", \"dataMax\"]}\r\n      ticks={ranges.ticks}\r\n      {...(!ranges.ticks && {tick: false})}\r\n      label={\r\n        showDescription\r\n          ? <CustomXLabel description={description} color={color} {...props} />\r\n          : undefined\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n  \r\nconst defaultTickFormatter = tick => parseFloat(tick.toFixed(2));\r\n\r\n  export default ({\r\n    description,\r\n    dataKey,\r\n    ranges,\r\n    showDescription,\r\n    color,\r\n    unit,\r\n    tickFormatter,\r\n    ...props\r\n  }) => (\r\n    <XAxis\r\n      allowDataOverflow\r\n      padding={defaultPadding}\r\n      interval={0}\r\n      dataKey={dataKey}\r\n      type=\"number\"\r\n      stroke={color}\r\n      height={xAxisHeight(showDescription, false)}\r\n      domain={[\r\n        ranges.domainMin === undefined ? 'dataMin' : ranges.domainMin,\r\n        ranges.domainMax === undefined ? 'dataMax' : ranges.domainMax]}\r\n      ticks={ranges.ticks}\r\n      {...(!ranges.ticks && {tick: false})}\r\n      tickFormatter={tickFormatter || defaultTickFormatter}\r\n      label={\r\n        showDescription\r\n          ? <CustomXLabel\r\n                description={description}\r\n                color={color}\r\n                unit={unit}\r\n                {...props}\r\n              />\r\n          : undefined\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n\r\n  const CustomXLabel = ({ description, unit, color, ...props }) => {\r\n    const { x, y, height, width } = props.viewBox;\r\n    const customHeight = 20;\r\n    const ny = y + height - customHeight;\r\n    return (\r\n      <g transform={`translate(${x}, ${ny})`}>\r\n        <foreignObject height={customHeight} width={width}>\r\n          <StyledLabel style={{ color }}>\r\n            <StyledLabelInner>\r\n              <StyledLabelTransform>\r\n                <MathParser>{`${description}${unit ? ` [${unit}]` : ''}`}</MathParser>\r\n              </StyledLabelTransform>\r\n            </StyledLabelInner>\r\n          </StyledLabel>\r\n        </foreignObject>\r\n      </g>\r\n    );\r\n  };\r\n\r\nconst calculateMiss = (value, {padding, ranges, width, hasLeft, hasRight}) => {\r\n  const tickMaxHalf = 42;\r\n  const {ticks, domainMax, domainMin } = ranges;\r\n  if(Number.isNaN(domainMax) || Number.isNaN(domainMin) ||\r\n    domainMax === undefined || domainMin === undefined ||\r\n    !ticks || ticks.length === 0) return 0;\r\n  if(value === ticks[0] && !hasLeft) {\r\n    const left = (padding && padding.left) || 0;\r\n    const position = width * (value - domainMin) / (domainMax - domainMin);\r\n    return Math.max(0, tickMaxHalf - left - position);\r\n  }\r\n  if(value === ticks[ticks.length - 1] && !hasRight) {\r\n    const right = (padding && padding.right) || 0;\r\n    const position = width * (domainMax - value) / (domainMax - domainMin);\r\n    return - Math.max(0, tickMaxHalf - right - position);\r\n  }\r\n  return 0;\r\n}\r\n\r\n  class CustomizedTimeTick extends PureComponent {\r\n    render() {\r\n      const { x, y, textAnchor, payload, withTime, color, tickFormatter } = this.props;\r\n      const {value} = payload;\r\n      const miss = calculateMiss(value, this.props);\r\n      const nx = x + miss;\r\n      const dataFormatter = tickFormatter || formatDate;\r\n      return (\r\n        <g transform={`translate(${nx},${y})`}>\r\n          <text x={0} y={0} dy={16} textAnchor={textAnchor} fill={color}>\r\n            {dataFormatter(value)}\r\n          </text>\r\n          {withTime && (\r\n            <text x={0} y={16} dy={16} textAnchor={textAnchor} fill={color}>\r\n              {formatHour(value)}\r\n            </text>\r\n          )}\r\n        </g>\r\n      );\r\n    }\r\n  }\r\n  \r\nconst xAxisHeight = (showDescription, withTime) =>\r\n    30 + (showDescription ? 20 : 0) + (withTime ? 16 : 0);\r\n\r\n  const StyledLabel = styled.div`\r\n    text-align: center;\r\n    height: 100%;\r\n    width: 100%;\r\n    font-size: 1em;\r\n  `;\r\n\r\n  const StyledLabelInner = styled.div`\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n  `;\r\n\r\n  const StyledLabelTransform = styled.div`\r\n    transform: translateX(-50%) translateY(-50%);\r\n    white-space: nowrap;\r\n  `;\r\n","import React from \"react\";\r\nimport { YAxis } from \"recharts\";\r\nimport styled from 'styled-components';\r\n// imports\r\nimport { chartRangesFromConfig } from \"./utils/calculate\";\r\nimport MathParser from \"../MathParser\";\r\n\r\nexport default ({\r\n    description,\r\n    showDescription,\r\n    dataSpread,\r\n    id,\r\n    color,\r\n    showAxis,\r\n    side,\r\n    unit,\r\n    rangeFrom,\r\n    rangeTo,\r\n    rangeSpan,\r\n    ...props\r\n  }) => {\r\n    const { domainMin, domainMax, ticks } = chartRangesFromConfig(dataSpread, {\r\n      rangeFrom,\r\n      rangeTo,\r\n      rangeSpan,\r\n    });\r\n    return (\r\n      <YAxis\r\n        allowDataOverflow\r\n        yAxisId={id}\r\n        hide={!showAxis}\r\n        orientation={side}\r\n        stroke={color}\r\n        type=\"number\"\r\n        width={Math.max(calculateAxisWidth(showDescription, ticks), 36)}\r\n        domain={[\r\n          domainMin === undefined ? 'dataMin' : domainMin,\r\n          domainMax === undefined ? 'dataMax' : domainMax]}\r\n        ticks={ticks}\r\n        tickFormatter={tick => parseFloat(tick.toFixed(2))}\r\n        label={\r\n          showDescription\r\n            ? <CustomYLabel\r\n                  description={description}\r\n                  color={color}\r\n                  unit={unit}\r\n                  side={side}\r\n                />\r\n            : undefined\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  };\r\n\r\n    const CustomYLabel = ({ description, side, unit, color, ...props }) => {\r\n    const { x, y, height, width } = props.viewBox;\r\n    const customWidth = 20;\r\n    const nx = side === \"right\" ? x + width - customWidth : x;\r\n    return (\r\n      <g transform={`translate(${nx}, ${y})`}>\r\n        <foreignObject width={customWidth} height={height}>\r\n          <StyledLabel style={{ color }}>\r\n            <StyledLabelInner>\r\n              <StyledLabelInnerRotate>\r\n                <MathParser>{`${description}${unit ? ` [${unit}]` : ''}`}</MathParser>\r\n              </StyledLabelInnerRotate>\r\n            </StyledLabelInner>\r\n          </StyledLabel>\r\n        </foreignObject>\r\n      </g>\r\n    );\r\n  };\r\n\r\nconst calculateAxisWidth = (showDescription, ticks = []) =>\r\n  ticks.reduce(\r\n    (prev, tick) => Math.max(prev, tick.toString().length),\r\n  0) * 8 + (showDescription ? 15 : 0) + 24;\r\n\r\n\r\nconst StyledLabel = styled.div`\r\n  text-align: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  font-size: 1.1rem;\r\n  @media (max-width: 1600px) {\r\n      font-size: 1em;\r\n  }\r\n  @media (max-width: 1440px) {\r\n      font-size: 0.9em;\r\n  }\r\n`;\r\n\r\nconst StyledLabelInner = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n`;\r\n\r\nconst StyledLabelInnerRotate = styled.div`\r\n  transform: translateX(-50%) translateY(-50%) rotate(-90.1deg);\r\n  white-space: nowrap;\r\n`;\r\n","import React, { Fragment } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { filter } from \"lodash\";\r\nimport MathParser from \"../MathParser\";\r\nimport { isTimeChart } from \"./utils/filters\";\r\nimport {formatDate, formatHour} from \"../../utils/formaters\";\r\n\r\nexport default ({\r\n    active,\r\n    payload,\r\n    label,\r\n    xAxis,\r\n    withTime,\r\n    xFormatter,\r\n    yFormatter,\r\n  }) => {\r\n    const { xKey, description, unit } = xAxis;\r\n    const simpleFormatter = (value) => value;\r\n    const defaultTimeFormatter = (value) => `${formatDate(value)}${withTime ? ` ${formatHour(value)}` : \"\"}`\r\n    const mainFormatter = xFormatter || (isTimeChart(xKey) ? defaultTimeFormatter : simpleFormatter);\r\n    const dataFormatter = yFormatter || simpleFormatter;\r\n    if (active) {\r\n      return (\r\n        <StyledTooltip>\r\n          {isTimeChart(xKey) ? (\r\n            <MainLabel>\r\n              {mainFormatter(label)}\r\n            </MainLabel>\r\n          ) :\r\n          (\r\n            <MainLabel>\r\n                <MathParser>{`${description} ${mainFormatter(label)} ${unit || \"\"}`}</MathParser>\r\n            </MainLabel>\r\n          )}\r\n          <Table>\r\n            {filter(payload, e => !e.dataKey.startsWith(\"REG_\")).map((e) => (\r\n              <Property key={e.dataKey} color={e.color}>\r\n                <Feature>\r\n                  <MathParser>{e.name}</MathParser>\r\n                </Feature>\r\n                <FeatureValue>\r\n                  <MathParser>{`${dataFormatter(e.payload[e.dataKey])} ${e.unit}`}</MathParser>\r\n                </FeatureValue>\r\n              </Property>\r\n            ))}\r\n          </Table>\r\n        </StyledTooltip>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n  \r\nexport const PieTooltip = ({\r\n  active,\r\n  payload,\r\n  dataFormatter = (e) => e,\r\n}) => {\r\n  if (active) {\r\n    return (\r\n      <StyledTooltip>\r\n        {payload.map(e => (\r\n          <Fragment key={e.dataKey}>\r\n            <MainLabel>\r\n                <MathParser>{e.payload.description}</MathParser>\r\n            </MainLabel>\r\n            <Table>\r\n                <Property>\r\n                  <FeatureValue>\r\n                    <MathParser>{`${dataFormatter(e.value)} ${e.payload.unit}`}</MathParser>\r\n                  </FeatureValue>\r\n                </Property>\r\n            </Table>\r\n        </Fragment>\r\n      ))}\r\n      </StyledTooltip>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n  const StyledTooltip = styled.div`\r\n    background: white;\r\n    border: solid 1px #d4d4d4;\r\n    border-radius: 4px;\r\n    padding: 8px 8px 16px 8px;\r\n    min-width: 120px;\r\n    display: table;\r\n    box-shadow: 0 0 8px rgba(40, 40, 40, 0.3);\r\n    font-size: 1rem;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.9em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.8em;\r\n    }\r\n  `;\r\n\r\n  const Table = styled.div`\r\n    display: table;\r\n  `;\r\n  \r\n  const MainLabel = styled.div`\r\n    font-weight: bold;\r\n  `;\r\n  \r\n  const Property = styled.div`\r\n    display: table-row;\r\n    ${({color}) => color ? `color: ${color}` : ''};\r\n  `;\r\n  \r\n  const Feature = styled.div`\r\n    display: table-cell;\r\n    padding-right: 8px;\r\n  `;\r\n  \r\n  const FeatureValue = styled.div`\r\n    display: table-cell;\r\n    text-align: right;\r\n  `;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Legend } from 'recharts';\r\n\r\nimport MathParser from '../MathParser';\r\n\r\nexport default () => <Legend\r\n    formatter={(value, entry) => <LegendTick color={entry.color}><MathParser>{value}</MathParser></LegendTick> }\r\n    verticalAlign=\"bottom\"\r\n/>\r\n\r\nconst LegendTick = styled.div`\r\n    display: inline;\r\n    ${({color}) => color ? `color: ${color};` : ''}\r\n`;\r\n","import React from 'react';\r\nimport {Label, ReferenceLine} from 'recharts';\r\n\r\nexport default ({\r\n    description,\r\n    axis,\r\n    dashSpacing,\r\n    dashLength,\r\n    lineColor,\r\n    lineWidth,\r\n    value,\r\n    ...props\r\n  }) => (\r\n    <ReferenceLine\r\n      ifOverflow=\"extendDomain\"\r\n      yAxisId={axis}\r\n      y={value}\r\n      stroke={lineColor}\r\n      strokeDasharray={`${dashLength} ${dashSpacing}`}\r\n      strokeWidth={lineWidth}\r\n      {...props}\r\n    >\r\n      <Label position=\"top\" fill={lineColor}>\r\n        {description}\r\n      </Label>\r\n    </ReferenceLine>\r\n  );\r\n","import styled from 'styled-components';\r\nimport { StyledRegresionSummary } from './RegresionSummary';\r\n\r\nexport const StyledChart = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  .recharts-cartesian-axis-tick {\r\n    font-size: 1rem;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.9em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.8em;\r\n    }\r\n  }\r\n  .recharts-tooltip-wrapper {\r\n    z-index: 100;\r\n  }\r\n  ${StyledRegresionSummary} {\r\n    display: none;\r\n  }\r\n  &:hover {\r\n    ${StyledRegresionSummary} {\r\n      display: unset;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  height: ${({showTitle}) => showTitle ? 'calc(100% - 40px)' : '100%'}\r\n`;\r\n\r\nexport const ChartTitle = styled.div`\r\n  height: 40px;\r\n  text-align: center;\r\n  font-size: 1.5em;\r\n  padding-bottom: 4px;\r\n`;\r\n\r\nexport const RegresionContainer = styled.div`\r\n  position: absolute;\r\n  ${({regresionPosition}) => regresionPosition === \"left\"\r\n  ? `left: 80px;\r\n    text-align: left;`\r\n  : `right: 16px;\r\n    text-align: right;`}\r\n  bottom: 80px;\r\n  background: white;\r\n  max-width: 208px;\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  CartesianGrid,\r\n  Line,\r\n  LineChart,\r\n  ReferenceLine,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis\r\n} from 'recharts';\r\nimport PropTypes from 'prop-types';\r\nimport { filter, find } from 'lodash';\r\n\r\nimport {\r\n  addRegresionValues,\r\n  chartRangesFromConfig,\r\n  dateTicks,\r\n  generateRegresionKey\r\n} from './utils/calculate';\r\nimport {\r\n  dataFromXAxis,\r\n  dataFromAxis,\r\n  dataFromLimits,\r\n  dataFromAreas,\r\n  hasLeftAxis,\r\n  hasRightAxis,\r\n  isTimeChart\r\n} from './utils/filters';\r\nimport { chartConfigType, usedDataType } from './utils/chartTypes';\r\nimport RegresionSummary from './RegresionSummary';\r\nimport CustomXAxis, { CustomTimeAxis } from './CustomXAxis';\r\nimport CustomYAxis from './CustomYAxis';\r\nimport CustomTooltip from './CustomTooltip';\r\nimport CustomLegend from './CustomLegend';\r\nimport CustomArea from './CustomArea';\r\nimport CustomLimit from './CustomLimit';\r\nimport {\r\n  StyledChart,\r\n  Container,\r\n  ChartTitle,\r\n  RegresionContainer\r\n} from './Common';\r\nimport MathParser from '../MathParser';\r\n\r\nexport default Object.assign(\r\n  ({ usedData, data, chartConfig, ...props }) => {\r\n    // console.log('passed to chart');\r\n    // console.log({ usedData, data, chartConfig, ...props });\r\n    const { xAxis, settings, yAxises, limits, areas } = chartConfig;\r\n    const {\r\n      showTitle,\r\n      title,\r\n      stopAnimation,\r\n      stopInteractive,\r\n      horizontalGrid,\r\n      verticalGrid,\r\n      showLegend,\r\n      xFormatter,\r\n      yFormatter,\r\n      regresionPosition\r\n    } = settings;\r\n    const xAxisRanges = xAxis.useDefault\r\n      ? {\r\n          domainMin: 'dataMin',\r\n          domainMax: 'dataMax'\r\n        }\r\n      : (axisFun => axisFun(dataFromXAxis(data, xAxis.xKey), xAxis))(\r\n          isTimeChart(xAxis.xKey) ? dateTicks : chartRangesFromConfig\r\n        );\r\n    const dataWithReg = addRegresionValues(\r\n      data,\r\n      usedData,\r\n      xAxis.xKey,\r\n      xAxisRanges\r\n    );\r\n    const xAxisChoice = () => {\r\n      if (xAxis.useDefault) return ({ ...prop }) => <XAxis {...prop} />;\r\n      return isTimeChart(xAxis.xKey) ? CustomTimeAxis : CustomXAxis;\r\n    };\r\n\r\n    return (\r\n      <StyledChart>\r\n        {showTitle && (\r\n          <ChartTitle>\r\n            <MathParser>{title}</MathParser>\r\n          </ChartTitle>\r\n        )}\r\n        <Container showTitle={showTitle}>\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\" {...props}>\r\n            <LineChart\r\n              data={dataWithReg}\r\n              margin={limits ? { top: 20 } : undefined}\r\n            >\r\n              {!stopInteractive && (\r\n                <Tooltip\r\n                  content={\r\n                    <CustomTooltip\r\n                      withTime={xAxis.withTime}\r\n                      xAxis={xAxis}\r\n                      xFormatter={xFormatter}\r\n                      yFormatter={yFormatter}\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n              {showLegend && CustomLegend()}\r\n              <CartesianGrid\r\n                strokeDasharray=\"5 5\"\r\n                horizontal={horizontalGrid}\r\n                vertical={!xAxisRanges.ticks ? verticalGrid : false}\r\n              />\r\n              {verticalGrid &&\r\n                xAxisRanges.ticks &&\r\n                xAxisRanges.ticks.map(x => (\r\n                  <ReferenceLine\r\n                    key={`cartesian-x-${x}`}\r\n                    x={x}\r\n                    yAxisId={yAxises[0].id}\r\n                    strokeDasharray=\"5 5\"\r\n                  />\r\n                ))}\r\n              {(axisComp =>\r\n                axisComp({\r\n                  ...xAxis,\r\n                  dataKey: xAxis.xKey,\r\n                  hasLeft: hasLeftAxis(yAxises),\r\n                  hasRight: hasRightAxis(yAxises),\r\n                  ranges: xAxisRanges,\r\n                  ...(xFormatter && { tickFormatter: xFormatter }),\r\n                  ...(stopAnimation && { isAnimationActive: false })\r\n                }))(xAxisChoice())}\r\n              {// WONTFIX recharts ma problem z przeciazaniem komponentow\r\n              yAxises.map(yAxis =>\r\n                CustomYAxis({\r\n                  ...yAxis,\r\n                  key: `yAxis-${yAxis.id}`,\r\n                  dataSpread: [\r\n                    ...dataFromAxis(data, usedData, yAxis.id),\r\n                    ...dataFromLimits(limits, yAxis.id),\r\n                    ...dataFromAreas(areas, yAxis.id)\r\n                  ],\r\n                  ...(yFormatter && { tickFormatter: yFormatter })\r\n                })\r\n              )}\r\n              {limits &&\r\n                limits.map((limit, id) => CustomLimit({ ...limit, key: id }))}\r\n              {areas &&\r\n                areas.map((area, id) => CustomArea({ ...area, key: id }))}\r\n              {filter(usedData, e => e.showRegresion).map(\r\n                ({ id, dataSource, ...used }) =>\r\n                  CustomLine({\r\n                    yAxises,\r\n                    ...used,\r\n                    dataSource: generateRegresionKey(dataSource),\r\n                    lineId: id,\r\n                    key: `regresionLine-${id}`,\r\n                    dotted: false,\r\n                    legendType: 'none',\r\n                    ...(stopAnimation && { isAnimationActive: false }),\r\n                    ...regresionSettings\r\n                  })\r\n              )}\r\n              {usedData.map(({ id, dotted, dataSource, ...used }) =>\r\n                CustomLine({\r\n                  yAxises,\r\n                  ...used,\r\n                  dataSource,\r\n                  dotted: isTimeChart(xAxis.xKey) ? dotted : true,\r\n                  lineId: id,\r\n                  key: `usedData-${id}`,\r\n                  ...(stopAnimation && { isAnimationActive: false })\r\n                })\r\n              )}\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </Container>\r\n        {!stopInteractive && (<RegresionContainer regresionPosition={regresionPosition}>\r\n          <RegresionSummary\r\n            usedData={usedData}\r\n            xAxis={xAxis}\r\n            ranges={xAxisRanges}\r\n          />\r\n        </RegresionContainer>)}\r\n      </StyledChart>\r\n    );\r\n  },\r\n  {\r\n    propTypes: {\r\n      chartConfig: PropTypes.shape(chartConfigType).isRequired,\r\n      usedData: PropTypes.arrayOf(PropTypes.shape(usedDataType)).isRequired,\r\n      data: PropTypes.arrayOf(PropTypes.any)\r\n    }\r\n  }\r\n);\r\n\r\nconst regresionSettings = {\r\n  activeDot: false,\r\n  lineWidth: 1,\r\n  dashed: true,\r\n  dashSpacing: 5,\r\n  dashLength: 5\r\n};\r\n\r\nconst CustomLine = ({\r\n  yAxises,\r\n  description,\r\n  showDescription,\r\n  lineId,\r\n  axis,\r\n  dotted,\r\n  dashed,\r\n  dashSpacing,\r\n  dashLength,\r\n  dataSource,\r\n  lineColor,\r\n  lineWidth,\r\n  unit,\r\n  ...props\r\n}) => (\r\n  <Line\r\n    activeDot\r\n    type=\"monotone\"\r\n    connectNulls\r\n    unit={(e => (e && e.unit) || unit)(find(yAxises, e => e.id === axis))}\r\n    name={description}\r\n    lineId={lineId}\r\n    strokeDasharray={dashed ? `${dashLength} ${dashSpacing}` : undefined}\r\n    strokeWidth={dotted ? 0 : lineWidth}\r\n    stroke={lineColor}\r\n    dot={dotted ? { stroke: lineColor, strokeWidth: lineWidth } : false}\r\n    dataKey={dataSource}\r\n    yAxisId={axis}\r\n    {...props}\r\n  />\r\n);\r\n","import React from 'react';\r\nimport { ReferenceArea } from 'recharts';\r\n\r\nexport default ({\r\n    axis,\r\n    color,\r\n    opacity,\r\n    from,\r\n    to,\r\n    ...props\r\n}) =>\r\n<ReferenceArea\r\n    y1={from}\r\n    y2={to}\r\n    fill={color}\r\n    fillOpacity={opacity}\r\n    {...props}\r\n/>\r\n","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Empty } from 'antd';\r\nimport { getDisableReason, NOT_LOADED_DATA_REASONS } from './ChartSetup/utils/constants';\r\n\r\nexport default ({loadedData, usedData, config}) => {\r\n    const status = usedData.map(({show, dataSource}) => {\r\n        const disableReason = getDisableReason(\r\n            dataSource,\r\n            loadedData,\r\n            config.xAxis.xKey,\r\n        );\r\n        return {\r\n            show,\r\n            noAxisData: disableReason === NOT_LOADED_DATA_REASONS.NOAXISDATA,\r\n            asKey: disableReason === NOT_LOADED_DATA_REASONS.AXISKEY,\r\n            canShow: disableReason === null,\r\n        };\r\n    });\r\n    const canShowData = status.find(e => e.canShow);\r\n    const onlyXkey = status.reduce((prev, e) => prev && e.asKey, true);\r\n    let description = null;\r\n    if( usedData.length === 0) {\r\n        description = (<StyledDescription>\r\n            <Tip>W tym miejscu pojawi się wykres.</Tip>\r\n            <Tip>Pobierz dane do wyświetlenia w sekcji <b>Pobranie danych</b></Tip>\r\n        </StyledDescription>);\r\n    }\r\n    else if(canShowData) {\r\n        description = (<StyledDescription>\r\n            <Tip>Aby pokazać dane, zmień ich wyświetlanie za pomocą suwaka.</Tip>\r\n            <Tip>Konfiguracja wyświetlania ma miejsce w sekcji <b>Załadowane dane</b></Tip>\r\n        </StyledDescription>);\r\n    }\r\n    else if(onlyXkey) {\r\n        description = (<StyledDescription>\r\n            <Tip>Pobrane zostały tylko dane odkładane na osi X.</Tip>\r\n            <Tip>Aby pobrać dane do wyświetlenia na innych osiach, pobierz inne dany w sekcji <b>Pobranie danych </b>\r\n            lub zmień dane z osi odniesienia na zakres czasowy w sekcji <b>Konfiguracja wykresu - Oś pozioma (odniesienia)</b>.</Tip>\r\n        </StyledDescription>);\r\n    }\r\n    else {\r\n        description = (<StyledDescription>\r\n            <Tip>Pobrane dane nie mają odpowiadających im danych na osi X.</Tip>\r\n            <Tip>Wybór danych odkładanych na osi X można zmienić w sekcji <b>Konfiguracja wykresu - Oś pozioma (odniesienia)</b>.</Tip>\r\n        </StyledDescription>);\r\n    }\r\n\r\n    return (<NoChartReason\r\n        image=\"https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original\"\r\n        description={description}\r\n    />);\r\n}\r\n\r\nconst NoChartReason = styled(Empty)`\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst StyledDescription = ({children}) =>\r\n    <Fragment>\r\n        {React.Children.map(children, (child, id) => (\r\n            <Fragment>\r\n                {child}\r\n                {id + 1 < React.Children.count(children) && <br />}\r\n            </Fragment>\r\n        ))}\r\n    </Fragment>\r\n\r\nconst Tip = styled.span`\r\n    font-size: 1rem;\r\n    & + & {\r\n        margin-top: 4px;\r\n    }\r\n`;\r\n","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { filter, sortBy, isNil } from 'lodash';\r\nimport moment from 'moment';\r\n\r\nimport ChartSetup from './ChartSetup';\r\nimport LineChart from '../../../../components/Charts/LineChart';\r\n\r\nimport { defaultChartConfig } from './ChartSetup/utils/defaults';\r\nimport { getDisableReason, extractEntry } from './ChartSetup/utils/constants';\r\nimport NoChartReason from './NoChartReason';\r\nimport { getMeasurementUnit } from '../../components/MeasurementsPicker';\r\n\r\n// Ujednolica zaczytywane dane dodając prefix id\r\n// oraz wyrównując xKey do neutralnego\r\nconst updateKeys = (obj, key, xKey) => {\r\n  const nKeys = Object.keys(obj).reduce(\r\n    (prev, k) => ({\r\n      ...prev,\r\n      [k]: `${key}-${k}`\r\n    }),\r\n    {}\r\n  );\r\n  return Object.keys(nKeys).reduce(\r\n    (prev, k) => ({\r\n      ...prev,\r\n      [nKeys[k]]: obj[k]\r\n    }),\r\n    {\r\n      [xKey]: obj[xKey]\r\n    }\r\n  );\r\n};\r\n\r\n// Filtruje zmergowane dane po użytych kluczach\r\nconst filterLoadedData = (loadedData, usedData, xKey) => {\r\n  const usedKeys = usedData.reduce((prev, { id }) => [...prev, id], [xKey]);\r\n  return filter(\r\n    loadedData.map(value =>\r\n      filter(Object.keys(value), k => usedKeys.includes(k)).reduce(\r\n        (prev, k) => ({\r\n          ...prev,\r\n          [k]: value[k]\r\n        }),\r\n        {}\r\n      )\r\n    ),\r\n    set =>\r\n      !isNil(set[xKey]) &&\r\n      (ks => ks.length > 1 && ks.includes(xKey))(Object.keys(set))\r\n  );\r\n};\r\n\r\n// Merguje załadowane dane, przy xKey != czas wykonuje zsumowanie do jednego pola\r\nconst mergeData = (loadedData, xKey) => {\r\n  const merged = loadedData.reduce(\r\n    (array, { id, data }) => [\r\n      ...array,\r\n      ...data.map(d => updateKeys(d, id, xKey))\r\n    ],\r\n    []\r\n  );\r\n  const sorted = sortBy(merged, xKey);\r\n  if (xKey !== 'time') {\r\n    return sorted;\r\n  }\r\n  const final = [];\r\n  let value = null;\r\n  for (let i = 0; i < sorted.length; i += 1) {\r\n    if (sorted[i][xKey] === value) {\r\n      const last = final.pop();\r\n      final.push({ ...last, ...sorted[i] });\r\n    } else {\r\n      final.push(sorted[i]);\r\n    }\r\n    value = sorted[i][xKey];\r\n  }\r\n  return final;\r\n};\r\n\r\n// TODO element funkcyjny\r\nclass ChartCreate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadedData: [],\r\n      usedData: [],\r\n      chartConfig: Object.assign({}, defaultChartConfig),\r\n      now: moment()\r\n    };\r\n  }\r\n\r\n  update = newValue => {\r\n    // console.log(`UPDATING:`, newValue);\r\n    this.setState({\r\n      ...newValue\r\n    });\r\n  };\r\n\r\n  mapSetupToChart = ({ loadedData, usedData, chartConfig }) => {\r\n    const xAxisMapper = {\r\n      common: ['color', 'description', 'showDescription', 'xKey'],\r\n      time: ['datesNumber', 'withTime'],\r\n      other: ['rangeFrom', 'rangeTo', 'rangeSpan', 'unit']\r\n    };\r\n    const type = chartConfig.xAxis.xKey === 'time' ? 'time' : 'other';\r\n    const _chartConfig = {\r\n      settings: {\r\n        ...chartConfig.settings\r\n      },\r\n      xAxis: filter(Object.keys(chartConfig.xAxis), e =>\r\n        [...xAxisMapper.common, ...xAxisMapper[type]].includes(e)\r\n      ).reduce((prev, key) => ({ ...prev, [key]: chartConfig.xAxis[key] }), {}),\r\n      yAxises: chartConfig.yAxises.map(({ id, fields }) => ({\r\n        ...fields,\r\n        id\r\n      }))\r\n    };\r\n    const _usedData = filter(usedData, ({ show, dataSource }) => {\r\n      if (!show) return false;\r\n      return !getDisableReason(dataSource, loadedData, _chartConfig.xAxis.xKey);\r\n    }).map(({ dataSource, fields }) => ({\r\n      id: dataSource,\r\n      dataSource,\r\n      unit: getMeasurementUnit(extractEntry(dataSource)[1]),\r\n      ...fields\r\n    }));\r\n    const _data = mergeData(loadedData, _chartConfig.xAxis.xKey);\r\n    return {\r\n      chartConfig: _chartConfig,\r\n      usedData: _usedData,\r\n      data: filterLoadedData(_data, _usedData, _chartConfig.xAxis.xKey)\r\n    };\r\n  };\r\n\r\n  render() {\r\n    const mapSetupResult = this.mapSetupToChart(this.state);\r\n    return (\r\n      <StyledChartCreate>\r\n        <SetupMenu>\r\n          <ChartSetup update={this.update} {...this.state} />\r\n        </SetupMenu>\r\n        <ChartPresentation>\r\n          <ChartContainer>\r\n            <ChartPlacement>\r\n              {mapSetupResult.usedData.length > 0 &&\r\n              mapSetupResult.data.length > 0 ? (\r\n                <LineChart {...mapSetupResult} />\r\n              ) : (\r\n                <NoChartReason\r\n                  loadedData={this.state.loadedData}\r\n                  usedData={this.state.usedData}\r\n                  config={this.state.chartConfig}\r\n                />\r\n              )}\r\n            </ChartPlacement>\r\n          </ChartContainer>\r\n        </ChartPresentation>\r\n      </StyledChartCreate>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChartCreate;\r\n\r\nconst SetupMenu = styled.div`\r\n  height: calc(100vh - 56px);\r\n  min-height: 664px;\r\n  overflow-y: auto;\r\n  flex: 0 0 464px;\r\n  padding: 16px;\r\n  padding-right: 0;\r\n  @media (max-width: 1600px) {\r\n    flex: 0 0 424px;\r\n  }\r\n  @media (max-width: 1440px) {\r\n    flex: 0 0 384px;\r\n  }\r\n`;\r\n\r\nconst StyledChartCreate = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ChartPresentation = styled.div`\r\n  padding: 16px;\r\n  flex: 1;\r\n`;\r\n\r\nconst ChartContainer = styled.div`\r\n  background: white;\r\n  width: 100%;\r\n  padding-top: 56.25%;\r\n  position: relative;\r\n`;\r\n\r\nconst ChartPlacement = styled.div`\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  padding: 16px;\r\n`;\r\n","import ChartCreate from './ChartCreate';\r\n\r\nexport default ChartCreate;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Icon } from 'antd';\r\n\r\nexport default ({type, setType, error}) =>\r\n(<ChartSelect>\r\n    <MainTitle>Wybór rodzaju wykresu</MainTitle>\r\n    <ChartsToSelect>\r\n        {selectConfig.map(({key, icon, text}) =>\r\n            <ChartOption\r\n                key={key}\r\n                icon={icon}\r\n                text={text}\r\n                active={type === key}\r\n                onSelect={() => setType(key)}\r\n            />,\r\n        )}\r\n    </ChartsToSelect>\r\n    {\r\n        (e => e ? (\r\n            <Description>\r\n                <Title>{e.text}</Title>\r\n                {e.description}\r\n            </Description>\r\n        ) : null)(selectConfig.find(({key}) => key === type))\r\n    }\r\n    {\r\n        error &&\r\n        <Description error>\r\n            Aby kontunuować, proszę wybrać rodzaj wykresu do utworzenia.\r\n        </Description>\r\n    }\r\n</ChartSelect>);\r\n\r\nconst selectConfig = [\r\n    {\r\n        key: 'line',\r\n        icon: 'line-chart',\r\n        text: 'Wykres liniowy',\r\n        description: 'Na wykresie liniowym przedstawiane są dane odniesione do czasu. Przedstawiają dane zbierane bierząco przez liczniki.',\r\n    },\r\n    {\r\n        key: 'bar',\r\n        icon: 'bar-chart',\r\n        text: 'Wykres słupkowy',\r\n        description: 'Na wykresie słupkowym przedstawiane są dane zbiorcze z liczników. Dane zbierane są w wybranych okresach czasowych. Wyniki dostępne są z listy dostępnych wskaźników.',\r\n    },\r\n    {   key: 'pie',\r\n        icon: 'pie-chart',\r\n        text: 'Wykres kołowy',\r\n        description: 'Na wykresie kołowym przedstawione mogą być wskaźniki oparte o te same jednostki. Wybór danych ograniczony jest do listy wskaźników.',\r\n    },\r\n];\r\n\r\nconst ChartOption = ({icon, text, active, onSelect}) => (\r\n    <Charts>\r\n        <ChartType active={active} onClick={onSelect}>\r\n            <StyledIcon type={icon}/>\r\n            <IconDescription>\r\n                {text}\r\n            </IconDescription>\r\n        </ChartType>\r\n    </Charts>\r\n);\r\n\r\nconst IconDescription = styled.div`\r\n    margin: auto;\r\n    font-size: 16px;\r\n    line-height: 18px;\r\n    padding-top: 6px;\r\n`;\r\n\r\nconst ChartSelect = styled.div`\r\n    width: 720px;\r\n    height: 280px;\r\n    padding-bottom: 8px;\r\n`;\r\n\r\nconst ChartsToSelect = styled.div`\r\n    text-align: center;\r\n`;\r\n\r\nconst Charts = styled.div`\r\n    display: inline-block;\r\n    vertical-align: top;\r\n    padding: 16px 4px;\r\n`;\r\n\r\nconst ChartType = styled.div`\r\n    position: relative;\r\n    height: 120px;\r\n    width: 160px;\r\n    padding: 12px;\r\n    margin: auto;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    ${({active}) => active ? `\r\n        background: #1890ff;\r\n        color: #FFF;\r\n        &:after {\r\n            content: '';\r\n            position: absolute;\r\n            left: 50%;\r\n            bottom: 0%;\r\n            width: 0;\r\n            height: 0;\r\n            border-left: 8px solid transparent;\r\n            border-right: 8px solid transparent;\r\n            border-top: 8px solid #1890ff;\r\n            clear: both;\r\n            transform: translate(-8px, 8px);\r\n        }\r\n    ` : ''}\r\n    &:hover {\r\n        background: #1890ff;\r\n        color: #FFF;\r\n    }\r\n`;\r\n\r\nconst StyledIcon = styled(Icon)`\r\n    margin-top: 8px;\r\n    font-size: 48px;\r\n    text-align: center;\r\n    transition: font-size 0.5s ease, margin-top 0.5s ease;\r\n    ${ChartType}:hover & {\r\n        font-size: 56px;\r\n        margin-top: 0;\r\n    }\r\n`;\r\n\r\nconst Description = styled.div`\r\n    ${({error}) => error ?\r\n        `background: #FFAAAA;\r\n        color: #801515;`\r\n        :\r\n        `background: #EEE;\r\n        color: #333;`\r\n    }\r\n    padding: 16px;\r\n    text-align: justify;\r\n    font-size: 1rem;\r\n    line-height: 1.625rem;\r\n`;\r\n\r\nconst MainTitle = styled.div`\r\n    font-size: 1.5rem;\r\n    line-height: 2.5rem;\r\n    text-align: center;\r\n    margin-bottom: 12px;\r\n    font-weight: bold;\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-size: 1.25rem;\r\n    line-height: 2rem;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button } from 'antd';\r\n\r\nimport ChartSelect from '../components/ChartSelect';\r\n\r\nexport default ({onSelect}) => {\r\n    const [type, setType] = useState(null);\r\n    const [error, setError] = useState(false);\r\n\r\n    const apply = () => {\r\n        if(type === null) return setError(true);\r\n        return onSelect(type);\r\n    }\r\n\r\n    const setChartType = (key) => {\r\n        if(error) setError(false);\r\n        setType(key);\r\n    }\r\n\r\n    return (<ChartTypeSelect>\r\n        <TypeSelection>\r\n            <ChartSelect type={type} setType={setChartType} error={error}/>\r\n        </TypeSelection>\r\n        <Next onClick={apply}>\r\n            <StyledNextButton type=\"primary\" size=\"large\">\r\n                Dalej\r\n            </StyledNextButton>\r\n        </Next>\r\n  </ChartTypeSelect>);\r\n}\r\n\r\nconst ChartTypeSelect = styled.div`\r\n    position: relative;\r\n    height: 100%;\r\n`;\r\n\r\nconst TypeSelection = styled.div`\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n    transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst Next = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    padding: 20px;\r\n`;\r\n\r\nconst StyledNextButton = styled(Button)`\r\n    min-width: 160px;\r\n`;\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { AnalysisContext } from './AnalysisDataProvider';\r\nimport { PHASES } from './constants';\r\n\r\nimport ChartCreate from './scenes/ChartCreate';\r\nimport ChartTypeSelect from './scenes/ChartTypeSelect';\r\n\r\nexport default () => {\r\n  const {\r\n    phase,\r\n    setChartType,\r\n    setPhase,\r\n  } = useContext(AnalysisContext)\r\n\r\n  return (\r\n  <Analysis>\r\n    {\r\n      ({\r\n        [PHASES.FETCHING]: <p>Pobieramy dane</p>,\r\n        [PHASES.INITIAL]: <ChartTypeSelect onSelect={setChartType} />,\r\n        [PHASES.CREATE]: <ChartCreate />,\r\n      })[phase]\r\n    }\r\n  </Analysis>\r\n  );\r\n\r\n}\r\n\r\nconst Analysis = styled.div`\r\n  background: #EEE;\r\n  height: 100%;\r\n  flex: 1;\r\n`;\r\n","import Analysis from './Analysis';\r\n\r\nexport default Analysis;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Card, Icon } from \"antd\";\r\n\r\nexport default ({label, value, unit, loading, ...props}) => (\r\n<Card\r\n    size=\"small\"\r\n    {...props}\r\n>\r\n<CardValue>\r\n    <Label>{label}</Label>\r\n    <Value>\r\n        {loading ?\r\n        <Icon type=\"loading\" spin />\r\n        :\r\n        value\r\n    }\r\n    </Value>\r\n    {unit && <Label>{unit}</Label>}\r\n</CardValue>\r\n</Card>);\r\n\r\nconst CardValue = styled.div`\r\n    text-align: center;\r\n`;\r\n\r\nconst Label = styled.div`\r\n    font-size: 0.9em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.85em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.75em;\r\n    }\r\n`;\r\n\r\nconst Value = styled.div`\r\n    font-weight: bold;\r\n    font-size: 1.2em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 1.1em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.95em;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport MathParser from '../../../components/MathParser';\r\nimport { formatNumber } from '../../../utils/formaters';\r\nimport CardValue from './CardValue';\r\n\r\nexport default ({buildingData, loading}) => {\r\n    const getValue = ({key, value}) => loading || value || buildingData[key];\r\n    const getData = ({key, value, valueFormatter}) =>\r\n        ((v) => valueFormatter ? (valueFormatter(v)) : v)(getValue({key, value}));\r\n\r\n    return (\r\n        <BuildingData>\r\n            {\r\n                loading ?\r\n                elements.map(element =>\r\n                    <MyRow key={element.key}>\r\n                        {element.formatter({\r\n                            loading,\r\n                            label: element.label,\r\n                            unit: element.unit,\r\n                        })}\r\n                    </MyRow>,\r\n                )\r\n                :\r\n                elements.map(element =>\r\n                    <MyRow key={element.key}>\r\n                        {element.formatter({\r\n                            value: getData(element),\r\n                            label: element.label,\r\n                            unit: element.unit,\r\n                        })}\r\n                    </MyRow>,\r\n                )\r\n            }\r\n        </BuildingData>\r\n    );\r\n};\r\n\r\nconst renderElement = ({value, label, unit, ...props}) =>\r\n    <CardValue\r\n        label={label}\r\n        value={value}\r\n        unit={unit}\r\n        {...props}\r\n    />\r\n\r\nconst elements = [\r\n    {\r\n        key: \"heatConsumption\",\r\n        label: \"Zużycie ciepła\",\r\n        unit: 'kWh',\r\n        valueFormatter: (value) => (`${formatNumber(value, {position: 2})}`),\r\n        formatter: renderElement,\r\n    },\r\n    {\r\n        key: \"electricityConsumption\",\r\n        label: \"Zużycie energii elektrycznej\",\r\n        unit: 'kWh',\r\n        valueFormatter: (value) => (`${formatNumber(value, {position: 2})}`),\r\n        formatter: renderElement,\r\n    },\r\n    {\r\n        key: \"CO2\",\r\n        label: <MathParser>Emisja CO_2</MathParser>,\r\n        unit: 'ton',\r\n        valueFormatter: (value) => (`${formatNumber(value)}`),\r\n        formatter: renderElement,\r\n    },\r\n    {\r\n        key: \"OZE\",\r\n        label: \"Produkcja z OZE\",\r\n        unit: 'kWh',\r\n        valueFormatter: (value) => (`${formatNumber(value, 1)}`),\r\n        formatter: renderElement,\r\n    },\r\n    {\r\n        key: \"savings\",\r\n        label: \"Oszczędności z OZE\",\r\n        unit: \"PLN\",\r\n        valueFormatter: (value) => (`${value.toFixed(2)}`),\r\n        formatter: renderElement,\r\n    },\r\n];\r\n\r\nconst BuildingData = styled.div`\r\n    padding: 8px;\r\n`;\r\n\r\nconst MyRow = styled.div`\r\n    & + & {\r\n        margin-top: 16px;\r\n        @media (max-height: 800px) {\r\n            margin-top: 8px;\r\n        }\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Loading from '../../../components/Loading';\r\n\r\nexport default ({data, loading}) =>\r\n    <CommunityCompare>\r\n        <InnerContent>\r\n            {loading\r\n            ? <Loading color=\"blue\"/>\r\n            : \"Tutaj pojawi się porównanie w gminie\"}\r\n        </InnerContent>\r\n    </CommunityCompare>\r\n\r\nconst InnerContent = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: 4px;\r\n`;\r\n\r\nconst CommunityCompare = styled.div`\r\n    position: relative;\r\n    padding-top: 50%;\r\n    background: white;\r\n    margin-top: 8px;\r\n    @media (max-height: 800px) {\r\n        margin-bottom: 4px;\r\n    }\r\n    font-size: 1rem;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.9em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.8em;\r\n    }\r\n`;\r\n\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\n\r\nimport { Icon } from 'antd';\r\n\r\n\r\nexport default ({startTime, loading}) =>\r\n    <TimeSection>\r\n        Wskazania od<br />\r\n        {loading ?\r\n            <Icon type=\"loading\" spin />\r\n            :\r\n            moment(startTime).format('YYYY-MM-DD')}\r\n    </TimeSection>\r\n\r\nconst TimeSection = styled.div`\r\n    margin-top: 24px;\r\n    margin-bottom: 8px;\r\n    @media (max-height: 800px) {\r\n        margin-top: 12px;\r\n        margin-bottom: 4px;\r\n    }\r\n    text-align: center;\r\n    font-size: 1rem;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.9em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.8em;\r\n    }\r\n    font-weight: bold;\r\n`;\r\n","import React, { Component } from 'react';\r\n\r\nconst initialDashboardState = {\r\n  buildings: [],\r\n  currentBuildingId: null,\r\n  currentTime: 'week',\r\n};\r\n\r\nconst DashboardContext = React.createContext({});\r\n\r\nconst getBuildingPosition = (id, buildings) => buildings.findIndex(e => e.id === id);\r\n\r\nclass DashboardDataProvider extends Component {\r\n  set = field => value => this.setState(() => ({ [field]: value }));\r\n\r\n  getBuilding = (id) => this.state.buildings.find(e => e.id === id);\r\n\r\n  currentBuilding = () =>\r\n    this.state.currentBuildingId !== null ?\r\n      this.getBuilding(this.state.currentBuildingId)\r\n      :\r\n      {\r\n        finished: {},\r\n      }\r\n\r\n  getCurrentTime = () => this.state.currentTime;\r\n\r\n  setBuildings = (buildings, id) => this.setState(() => ({\r\n    buildings: buildings.map(building => ({...building, finished: {}})),\r\n    currentBuildingId: id,\r\n  }));\r\n\r\n  setCurrentTime = this.set('currentTime');\r\n\r\n  setCurrentBuilding = this.set('currentBuildingId');\r\n\r\n  startFetching = (id, key) => {\r\n    this.setState(({buildings}) => {\r\n      const idx = getBuildingPosition(id, buildings);\r\n      const finished = {\r\n        ...buildings[idx].finished,\r\n        [key]: false,\r\n      };\r\n      const nbuildings = [...buildings];\r\n      nbuildings[idx] = {\r\n        ...buildings[idx],\r\n        finished,\r\n      };\r\n      return ({\r\n        buildings: nbuildings,\r\n      })\r\n    });\r\n  }\r\n\r\n  endFetching = (id, value, key) => {\r\n    this.setState(({buildings}) => {\r\n      const idx = getBuildingPosition(id, buildings);\r\n      const finished = {\r\n        ...buildings[idx].finished,\r\n        [key]: true,\r\n      };\r\n      const nbuildings = [...buildings];\r\n      nbuildings[idx] = {\r\n        ...buildings[idx],\r\n        finished,\r\n        [key]: value,\r\n      };\r\n      return ({\r\n        buildings: nbuildings,\r\n      })\r\n    });\r\n  }\r\n\r\n  startFetchingActual = (id) => this.startFetching(id, 'currentData');\r\n  \r\n  endFetchingActual = (id, value) =>\r\n    this.endFetching(id, value, 'currentData');\r\n\r\n  startFetchingData = (id) => this.startFetching(id, 'data');\r\n  \r\n  endFetchingData = (id, value) =>\r\n    this.endFetching(id, value, 'data');\r\n\r\n  startFetchingTime = (id, timeKey) => this.startFetching(id, timeKey);\r\n  \r\n  endFetchingTime = (id, value, time) =>\r\n    this.endFetching(id, value, time);\r\n\r\n  depricateData = (keys) => {\r\n    this.setState(({buildings}) => {\r\n      const nbuildings = buildings.map(\r\n        building => {\r\n          const nb = {...building};\r\n          const finished = {...building.finished};\r\n          keys.forEach(key => {\r\n            delete nb[key];\r\n            delete finished[key];\r\n          });\r\n          return {...nb, finished};\r\n        });\r\n      return ({\r\n        buildings: nbuildings,\r\n      })\r\n    });\r\n  }\r\n\r\n  depricateHourData = () => this.depricateData(['currentData', 'day', 'week']);\r\n\r\n  depricateDailyData = () => this.depricateData(['data', 'month', 'year']);\r\n\r\n  state = {\r\n    ...initialDashboardState,\r\n    currentBuilding: this.currentBuilding,\r\n    getBuilding: this.getBuilding,\r\n    getCurrentTime: this.getCurrentTime,\r\n    setBuildings: this.setBuildings,\r\n    setCurrentTime: this.setCurrentTime,\r\n    setCurrentBuilding: this.setCurrentBuilding,\r\n    // Pobierane danych\r\n    startFetchingActual: this.startFetchingActual,\r\n    endFetchingActual: this.endFetchingActual,\r\n    startFetchingData: this.startFetchingData,\r\n    endFetchingData: this.endFetchingData,\r\n    startFetchingTime: this.startFetchingTime,\r\n    endFetchingTime: this.endFetchingTime,\r\n    // Czyszczenie danych na potrzeby odświeżania\r\n    depricateDailyData: this.depricateDailyData,\r\n    depricateHourData: this.depricateHourData,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <DashboardContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </DashboardContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport { DashboardContext };\r\nexport default DashboardDataProvider;\r\n\r\n/*\r\n  Zakładamy, że kontekts budynków będzie\r\n  pobrany przy logowaniu\r\n  Struktura building:\r\n  {\r\n    id,\r\n    currentData: {\r\n      temperature,\r\n      rain,\r\n      humidity,\r\n      pm25,\r\n      pm10,\r\n    },\r\n    data: {\r\n      area,\r\n      heatSources,\r\n      waterHeatSources,\r\n      heatConsumption,\r\n      electricityConsumption,\r\n      CO2,\r\n      OZE,\r\n    },\r\n    day: {\r\n      heatConsumption: [{\r\n        time,\r\n        heatConsumption,\r\n      }],\r\n      electricityConsumption: [{\r\n        time,\r\n        electricityConsumption,\r\n      }],\r\n      history: [{\r\n        year,\r\n        summaryConsumption,\r\n      }],\r\n      heatStructure: [{\r\n        key,\r\n        heatConsumption,\r\n      }],\r\n      heatSource: [{\r\n        key,\r\n        heatConsumption,\r\n      }],\r\n      OZE,\r\n    }\r\n    week/month/year jak day\r\n  }\r\n*/\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport AnnualData from '../components/AnnualData';\r\nimport CommunityCompare from '../components/CommunityCompare';\r\nimport TimeSection from '../components/TimeSection';\r\n\r\nimport { DashboardContext } from '../DashboardDataProvider';\r\n\r\nexport default () => {\r\n    const { currentBuilding } = useContext(DashboardContext);\r\n    const building = currentBuilding();\r\n    const fetchingData = !building.finished.data;\r\n    return (\r\n        <BuildingDetails>\r\n            <CommunityCompare data={building.compare} loading={fetchingData} />\r\n            <TimeSection startTime={building.startTime} loading={fetchingData} />\r\n            <AnnualData buildingData={building.data} loading={fetchingData} />\r\n        </BuildingDetails>\r\n    );\r\n};\r\n\r\nconst BuildingDetails = styled.div`\r\n    width: 272px;\r\n    padding: 0 16px;\r\n    @media (max-width: 1600px) {\r\n        width: 236px;\r\n        padding: 0 12px;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        width: 200px;\r\n        padding: 0 8px;\r\n    }\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  CartesianGrid,\r\n  ReferenceLine,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n} from \"recharts\";\r\nimport { find } from \"lodash\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  chartRangesFromConfig,\r\n  dateTicks,\r\n} from \"./utils/calculate\";\r\nimport {\r\n  dataFromXAxis,\r\n  dataFromAxis,\r\n  dataFromLimits,\r\n  hasLeftAxis,\r\n  hasRightAxis,\r\n  isTimeChart,\r\n} from \"./utils/filters\";\r\nimport {\r\n  chartConfigType,\r\n  usedDataType,\r\n} from \"./utils/chartTypes\";\r\nimport CustomXAxis, { CustomTimeAxis, DefaultAxis } from \"./CustomXAxis\";\r\nimport CustomYAxis from \"./CustomYAxis\";\r\nimport CustomTooltip from \"./CustomTooltip\";\r\nimport CustomLegend from \"./CustomLegend\";\r\nimport CustomLimit from \"./CustomLimit\";\r\nimport { StyledChart, Container, ChartTitle} from './Common';\r\nimport MathParser from \"../MathParser\";\r\n\r\n\r\nexport default Object.assign(\r\n  ({ usedData, data, chartConfig, extra }) => {\r\n    const { xAxis, settings, yAxises, limits } = chartConfig;\r\n    const {\r\n      showTitle,\r\n      title,\r\n      stopAnimation,\r\n      stopInteractive,\r\n      showLegend,\r\n      horizontalGrid,\r\n      verticalGrid,\r\n      xFormatter,\r\n      yFormatter,\r\n    } = settings;\r\n    const xAxisRanges = xAxis.useDefault\r\n    ? {\r\n      domainMin: 'dataMin',\r\n      domainMax: 'dataMax',\r\n    }\r\n    : (axisFun =>\r\n      axisFun(dataFromXAxis(data, xAxis.xKey), xAxis))(\r\n        isTimeChart(xAxis.xKey) ? dateTicks : chartRangesFromConfig,\r\n      );\r\n    const xAxisChoice = () => {\r\n      if(xAxis.useDefault) return DefaultAxis;\r\n      return isTimeChart(xAxis.xKey) ? CustomTimeAxis : CustomXAxis;\r\n    }\r\n    return (\r\n      <StyledChart>\r\n        {showTitle && (\r\n          <ChartTitle><MathParser>{title}</MathParser></ChartTitle>\r\n        )}\r\n        <Container showTitle={showTitle}>\r\n          <ResponsiveContainer height=\"100%\" width=\"100%\" >\r\n            <BarChart\r\n              data={data}\r\n              margin={limits ? {top: 20} : undefined}\r\n            >\r\n              {!stopInteractive && (\r\n                <Tooltip\r\n                  content={\r\n                    <CustomTooltip\r\n                      withTime={xAxis.withTime}\r\n                      xAxis={xAxis}\r\n                      xFormatter={xFormatter}\r\n                      yFormatter={yFormatter}\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n              {showLegend && (\r\n                CustomLegend()\r\n              )}\r\n              <CartesianGrid\r\n                strokeDasharray=\"5 5\"\r\n                horizontal={horizontalGrid}\r\n                vertical={!xAxisRanges.ticks ? verticalGrid : false}\r\n              />\r\n              {verticalGrid &&\r\n                xAxisRanges.ticks &&\r\n                xAxisRanges.ticks.map((x) => (\r\n                  <ReferenceLine\r\n                    key={`cartesian-x-${x}`}\r\n                    x={x}\r\n                    yAxisId={yAxises[0].id}\r\n                    strokeDasharray=\"5 5\"\r\n                  />\r\n                ))}\r\n              {(axisComp =>\r\n                axisComp({\r\n                  ...xAxis,\r\n                  dataKey: xAxis.xKey,\r\n                  hasLeft: hasLeftAxis(yAxises),\r\n                  hasRight: hasRightAxis(yAxises),\r\n                  ranges: xAxisRanges,\r\n                  ...(xFormatter && {tickFormatter: xFormatter}),\r\n                  ...(stopAnimation && {isAnimationActive: false}),\r\n                  // dodanie paddingu dla extra\r\n                  padding: {right: 10, left: 10},\r\n                  ...(extra && {padding: {right: 100}}),\r\n                }))(xAxisChoice())\r\n              }\r\n              {yAxises.map(yAxis =>\r\n                CustomYAxis({\r\n                  ...yAxis,\r\n                  key: `yAxis-${yAxis.id}`,\r\n                  dataSpread: [\r\n                    ...dataFromAxis(data, usedData, yAxis.id),\r\n                    ...dataFromLimits(limits, yAxis.id),\r\n                  ],\r\n                  ...(yFormatter && {tickFormatter: yFormatter}),\r\n                }),\r\n              )}\r\n              {usedData.map(({ id, ...used }) =>\r\n                CustomBar({\r\n                  yAxises,\r\n                  ...used,\r\n                  lineId: id,\r\n                  key: `usedData-${id}`,\r\n                  ...(stopAnimation && {isAnimationActive: false}),\r\n                }),\r\n              )}\r\n              {\r\n                limits && limits.map(\r\n                  (limit, id) => CustomLimit({ isFront: true, ...limit, key: id}),\r\n                )\r\n              }\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n          {extra && <Extra>\r\n            {extra}\r\n          </Extra>}\r\n        </Container>\r\n      </StyledChart>\r\n    )\r\n  },\r\n  {\r\n    propTypes: {\r\n      chartConfig: PropTypes.shape(chartConfigType).isRequired,\r\n      usedData: PropTypes.arrayOf(PropTypes.shape(usedDataType)).isRequired,\r\n      data: PropTypes.arrayOf(PropTypes.any),\r\n    },\r\n  },\r\n)\r\n\r\nconst CustomBar = ({\r\n  yAxises,\r\n  description,\r\n  showDescription,\r\n  lineId,\r\n  axis,\r\n  dotted,\r\n  dashed,\r\n  dashSpacing,\r\n  dashLength,\r\n  dataSource,\r\n  lineColor,\r\n  lineWidth,\r\n  unit,\r\n  ...props\r\n}) => (\r\n    <Bar\r\n      unit={(e => (e && e.unit) || unit)(find(yAxises, e => e.id === axis))}\r\n      name={description}\r\n      lineId={lineId}\r\n      fill={lineColor}\r\n      dataKey={dataSource}\r\n      yAxisId={axis}\r\n      maxBarSize={50}\r\n      {...props}\r\n    />\r\n  );\r\n\r\nconst Extra = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 50%;\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  Cell,\r\n  Label,\r\n  Pie,\r\n  PieChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n} from \"recharts\";\r\nimport styled from \"styled-components\";\r\nimport PropTypes from \"prop-types\";\r\nimport { PieTooltip } from \"./CustomTooltip\";\r\n                   \r\nconst customLabel = ({ cx, cy, midAngle, outerRadius, fill, payload, percent, value }) => {\r\n  const RADIAN = Math.PI / 180;\r\n  const sin = Math.sin(-RADIAN * midAngle);\r\n  const cos = Math.cos(-RADIAN * midAngle);\r\n  const sx = cx + (outerRadius + 6) * cos;\r\n  const sy = cy + (outerRadius + 6) * sin;\r\n  const mx = cx + (outerRadius + 20) * cos;\r\n  const my = cy + (outerRadius + 20) * sin;\r\n  const ex = mx + (cos >= 0 ? 1 : -1) * 14;\r\n  const ey = my;\r\n  const textAnchor = cos >= 0 ? 'start' : 'end';\r\n\r\n  return (\r\n    <g>\r\n      <path d={`M${sx},${sy}L${mx},${my}L${ex},${ey}`} stroke={fill} fill=\"none\"/>\r\n      <circle cx={ex} cy={ey} r={2} fill={fill} stroke=\"none\"/>\r\n      <text x={ex + (cos >= 0 ? 1 : -1) * 12} y={ey} textAnchor={textAnchor} fill=\"#333\">{payload.shortcut}</text>\r\n      <text x={ex + (cos >= 0 ? 1 : -1) * 12} y={ey} dy={18} textAnchor={textAnchor} fill=\"#999\">\r\n        {`(${(percent * 100).toFixed(1)}%)`}\r\n      </text>\r\n    </g>\r\n  );\r\n};\r\n\r\nconst CustomInner = ({viewBox, innerContent, innerRadius}) => {\r\n  const percentage = parseInt(innerRadius, 10);\r\n  const R = Math.min(viewBox.cx, viewBox.cy) * percentage / 100;\r\n  return (\r\n    <g transform={`translate(${viewBox.cx - R}, ${viewBox.cy - R})`}>\r\n      <foreignObject width={2*R} height={2*R}>\r\n        <FullDiv>\r\n          <InnerDiv>\r\n            {innerContent}\r\n          </InnerDiv>\r\n        </FullDiv>\r\n      </foreignObject>\r\n    </g>\r\n  );\r\n}\r\n  \r\n\r\nconst FullDiv = styled.div`\r\nposition: relative;\r\nheight: 100%;\r\nwidth: 100%;\r\nborder-radius: 50%;\r\n`;\r\n\r\nconst InnerDiv = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 100%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n\r\nconst getColor = ({color, value}, idx, colorMapper) =>\r\n  colorMapper\r\n  ? colorMapper({value, color, idx})\r\n  : color;\r\n\r\nconst prepareData = ({data, descriptionMapper, shortcutMapper, showEmpty, ...rest}) =>\r\n  data.filter(({value}) => !showEmpty || value).map(\r\n    e => ({\r\n      ...e,\r\n      description: descriptionMapper ? descriptionMapper(e.key) : e.key,\r\n      shortcut: shortcutMapper ? shortcutMapper(e.key) : e.key,\r\n      ...rest,\r\n    }));\r\n\r\nexport default Object.assign(\r\n({\r\n  data,\r\n  unit,\r\n  showEmpty,\r\n  descriptionMapper,\r\n  shortcutMapper,\r\n  showTooltip,\r\n  colorMapper,\r\n  innerContent,\r\n  innerRadius = \"32%\",\r\n  outerRadius = \"48%\",\r\n  dataFormatter,\r\n  ...props\r\n}) => (\r\n<StyledPieChart>\r\n  <ResponsiveContainer height=\"100%\" width=\"100%\">\r\n    <PieChart>\r\n      {showTooltip &&\r\n        <Tooltip\r\n          content={\r\n            <PieTooltip dataFormatter={dataFormatter}/>\r\n          }\r\n      />}\r\n      <Pie\r\n          startAngle={-270}\r\n          endAngle={90}\r\n          data={prepareData({\r\n            data,\r\n            descriptionMapper,\r\n            shortcutMapper,\r\n            showEmpty,\r\n            unit,\r\n          })}\r\n          {...(innerContent && {innerRadius})}\r\n          outerRadius={outerRadius} \r\n          label={customLabel}\r\n          dataKey=\"value\"\r\n          minAngle={2}\r\n          {...props}\r\n      >\r\n          {\r\n            data.map(({key, value, color}, idx) => <Cell key={`cell-${key}`} fill={getColor({color, value}, idx, colorMapper)}/>)\r\n          }\r\n          {\r\n            innerContent &&\r\n              <Label content={<CustomInner innerContent={innerContent} innerRadius={innerRadius}/>} />\r\n          }\r\n      </Pie>\r\n    </PieChart>\r\n  </ResponsiveContainer>\r\n</StyledPieChart>),\r\n{\r\n    propTypes: {\r\n        data: PropTypes.arrayOf(PropTypes.shape({\r\n            key: PropTypes.string.isRequired,\r\n            value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n            color: PropTypes.string,\r\n        })),\r\n    },\r\n},\r\n)\r\n\r\nconst StyledPieChart = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  .recharts-layer {\r\n    font-size: 1.1rem;\r\n    @media (max-width: 1600px) {\r\n        font-size: 1em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.9em;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport BarChart from './Charts/BarChart';\r\nimport LineChart from './Charts/LineChart';\r\nimport PieChart from './Charts/PieChart';\r\n\r\n\r\nexport const CHART_TYPES = Object.freeze({\r\n    LINE_CHART: 'line-chart',\r\n    BAR_CHART: 'bar-chart',\r\n    PIE_CHART: 'pie-chart',\r\n});\r\n\r\nexport default ({chartType, ...rest}) => (Chart => Chart ? <Chart {...rest} /> : null)(\r\n    {\r\n      [CHART_TYPES.LINE_CHART]: LineChart,\r\n      [CHART_TYPES.BAR_CHART]: BarChart,\r\n      [CHART_TYPES.PIE_CHART]: PieChart,\r\n    }[chartType]);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Card } from 'antd';\r\nimport Loading from '../../../components/Loading';\r\nimport MathParser from '../../../components/MathParser';\r\n\r\nexport default ({ children, loading, title, spread, hide }) =>\r\n    <ChartCard>\r\n        <StyledCard\r\n            size=\"small\"\r\n            title={<StyledTitle><MathParser>{title}</MathParser></StyledTitle>}\r\n            bodyStyle={{ height: 'calc(100% - 40px)' }}\r\n            headStyle={{ textAlign: 'center' }}\r\n            spread={spread}\r\n        >\r\n            {!hide && (loading\r\n            ? <Loading color=\"blue\" />\r\n            : children)}\r\n        </StyledCard>\r\n    </ChartCard>\r\n\r\nconst StyledTitle = styled.span`\r\n    font-size: 1.2em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 1.1em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.95em;\r\n    }\r\n`;\r\n\r\nconst ChartCard = styled.div`\r\n    padding: 8px;\r\n    height: 100%;\r\n    margin: 0;\r\n`;\r\n\r\nconst StyledCard = styled(Card)`\r\n    width: ${({spread}) => `calc((100vw - 448px) / ${spread ? 2 : 3} - 16px)`};\r\n    min-width: 314px;\r\n    height: calc((100vh - 136px) / 2 - 24px);\r\n    min-height: 276px;\r\n    &.ant-card {\r\n        transition: none;\r\n    }\r\n    @media (max-height: 800px) {\r\n        height: calc((100vh - 120px) / 2 - 24px);\r\n    }\r\n    @media (max-width: 1600px) {\r\n        width: ${({spread}) => `calc((100vw - 412px) / ${spread ? 2 : 3} - 16px)`};\r\n    }\r\n    @media (max-width: 1440px) {\r\n        width: ${({spread}) => `calc((100vw - 376px) / ${spread ? 2 : 3} - 16px)`};\r\n    }\r\n`;\r\n","import { formatNumber } from '../../../../utils/formaters';\r\nimport { colors } from '../../../../components/ColorSelect';\r\nimport { CHART_TYPES } from '../../../../components/CustomChart';\r\n\r\nexport const dayConfig = {\r\n    heatPowerConsumption: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Moc zamówiona\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Pobór mocy cieplnej\",\r\n              showDescription: true,\r\n              unit: \"kW\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Pobór mocy cieplnej\",\r\n            dataSource: \"heatPower\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kW\",\r\n          },\r\n        ],\r\n    }),\r\n    electricityPowerConsumption: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Moc zamówiona\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Pobór mocy elekt.\",\r\n              showDescription: true,\r\n              unit: \"kW\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Pobór mocy elektrycznej\",\r\n            dataSource: \"electricityPower\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kW\",\r\n          },\r\n        ],\r\n    }),\r\n    OZEPowerProduction: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Moc instalacji\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Moc elekt. z OZE\",\r\n              showDescription: true,\r\n              unit: \"kW\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Produkcja energii elektrycznej z OZE\",\r\n            dataSource: \"OZEPower\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kW\",\r\n          },\r\n        ],\r\n    }),\r\n    temperatures: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Temperatura\",\r\n              showDescription: true,\r\n              unit: \"^oC\",\r\n              rangeFrom: \"auto\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: settings.measurements.map(\r\n            ({dataSource, description}, id) => ({\r\n                id: id.toString(),\r\n                description,\r\n                dataSource,\r\n                axis: \"0\",\r\n                showRegresion: false,\r\n                dotted: false,\r\n                lineWidth: 2,\r\n                lineColor: colors[id % colors.length].color,\r\n                dashed: false,\r\n                dashLength: 5,\r\n                dashSpacing: 5,\r\n                unit: \"^oC\",\r\n            }),\r\n        ),\r\n    }),\r\n    co2: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Dopuszczalne stężenie\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit || 1000,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Stężenie CO_2\",\r\n              showDescription: true,\r\n              unit: \"ppm\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: settings.measurements.map(\r\n            ({dataSource, description}, id) => ({\r\n                id: id.toString(),\r\n                description,\r\n                dataSource,\r\n                axis: \"0\",\r\n                showRegresion: false,\r\n                dotted: false,\r\n                lineWidth: 2,\r\n                lineColor: colors[id % colors.length].color,\r\n                dashed: false,\r\n                dashLength: 5,\r\n                dashSpacing: 5,\r\n                unit: \"ppm\",\r\n            }),\r\n        ),\r\n    }),\r\n    humidity: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          areas: [\r\n            {\r\n              axis: \"0\",\r\n              color: \"green\",\r\n              opacity: 0.3,\r\n              from: settings.limitMin || 40,\r\n              to: settings.limitMax || 60,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Wilgotność względna\",\r\n              showDescription: true,\r\n              unit: \"%\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: settings.measurements.map(\r\n            ({dataSource, description}, id) => ({\r\n                id: id.toString(),\r\n                description,\r\n                dataSource,\r\n                axis: \"0\",\r\n                showRegresion: false,\r\n                dotted: false,\r\n                lineWidth: 2,\r\n                lineColor: colors[id % colors.length].color,\r\n                dashed: false,\r\n                dashLength: 5,\r\n                dashSpacing: 5,\r\n                unit: \"%\",\r\n            }),\r\n        ),\r\n    }),\r\n}\r\n","import moment from 'moment';\r\n\r\nimport { formatNumber } from '../../../../utils/formaters';\r\nimport { colors } from '../../../../components/ColorSelect';\r\nimport { CHART_TYPES } from '../../../../components/CustomChart';\r\n\r\nconst barProps = {\r\n  minTickGap: 15,\r\n  interval: \"preserveStart\",\r\n};\r\n\r\nexport const weekConfig = {\r\n    heatPowerConsumption: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Moc zamówiona\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Pobór mocy cieplnej\",\r\n              showDescription: true,\r\n              unit: \"kW\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Pobór mocy cieplnej\",\r\n            dataSource: \"heatPower\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kW\",\r\n          },\r\n        ],\r\n    }),\r\n    electricityPowerConsumption: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Moc zamówiona\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Pobór mocy elekt.\",\r\n              showDescription: true,\r\n              unit: \"kW\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Pobór mocy elektrycznej\",\r\n            dataSource: \"electricityPower\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kW\",\r\n          },\r\n        ],\r\n    }),\r\n    totalConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: false,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie energii elektrycznej\",\r\n            dataSource: \"dailyElectricityConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n          {\r\n            id: \"1\",\r\n            description: \"Dzienne zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#C13015\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    temperatures: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Temperatura\",\r\n              showDescription: true,\r\n              unit: \"^oC\",\r\n              rangeFrom: \"auto\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: settings.measurements.map(\r\n            ({dataSource, description}, id) => ({\r\n                id: id.toString(),\r\n                description,\r\n                dataSource,\r\n                axis: \"0\",\r\n                showRegresion: false,\r\n                dotted: false,\r\n                lineWidth: 2,\r\n                lineColor: colors[id % colors.length].color,\r\n                dashed: false,\r\n                dashLength: 5,\r\n                dashSpacing: 5,\r\n                unit: \"^oC\",\r\n            }),\r\n        ),\r\n    }),\r\n    co2: ({settings}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          limits: [\r\n            {\r\n              description: \"Dopuszczalne stężenie\",\r\n              axis: \"0\",\r\n              lineWidth: 2,\r\n              lineColor: \"red\",\r\n              dashLength: 10,\r\n              dashSpacing: 15,\r\n              value: settings.limit || 1000,\r\n            },\r\n          ],\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Stężenie CO_2\",\r\n              showDescription: true,\r\n              unit: \"ppm\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: settings.measurements.map(\r\n            ({dataSource, description}, id) => ({\r\n                id: id.toString(),\r\n                description,\r\n                dataSource,\r\n                axis: \"0\",\r\n                showRegresion: false,\r\n                dotted: false,\r\n                lineWidth: 2,\r\n                lineColor: colors[id % colors.length].color,\r\n                dashed: false,\r\n                dashLength: 5,\r\n                dashSpacing: 5,\r\n                unit: \"ppm\",\r\n            }),\r\n        ),\r\n    }),\r\n    OZEProduction: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: false,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Produkcja energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Produkcja energii elektrycznej z OZE\",\r\n            dataSource: \"dailyOZEProduction\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n}\r\n","const energyUsageAreas = Object.freeze({\r\n    mainCooling: {\r\n        description: 'Główne chłodzenie',\r\n        shortcut: 'Chłodz.',\r\n    },\r\n    mainVentilation: {\r\n        description: 'Główna wentylacja',\r\n        shortcut: 'Went.',\r\n    },\r\n    mainLight: {\r\n        description: 'Główne światło',\r\n        shortcut: 'Światło',\r\n    },\r\n    cwu: {\r\n        description: 'Ciepła woda użytkowa',\r\n        shortcut: 'CWU',\r\n    },\r\n    co: {\r\n        description: 'Centralne ogrzewanie',\r\n        shortcut: 'CO',\r\n    },\r\n});\r\n\r\nexport default energyUsageAreas;\r\n\r\nexport const mapUsageAreaDescription = (key) =>\r\n    (value => value ? value.description : key)(energyUsageAreas[key]);\r\n\r\nexport const mapUsageAreaShortcut = (key) =>\r\n    (value => value ? value.shortcut : key)(energyUsageAreas[key]);\r\n","import energyUsageAreas, { mapUsageAreaDescription, mapUsageAreaShortcut} from './energyUsageAreas';\r\n\r\nexport default {\r\n    energyUsageAreas,\r\n    mapUsageAreaDescription,\r\n    mapUsageAreaShortcut,\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Icon } from \"antd\";\r\n\r\nimport { formatNumber } from \"../../../utils/formaters\";\r\n\r\nexport default ({ data, dataKey }) => {\r\n    const gain = formatNumber(calculateGain(data, dataKey), { position: -1 });\r\n\r\n    return (\r\n        <GainTip>\r\n            <IconContainer>\r\n                <Up gain={gain}>\r\n                    <Icon type=\"caret-up\" />\r\n                </Up>\r\n                <Down gain={gain}>\r\n                    <Icon type=\"caret-down\" />\r\n                </Down>\r\n            </IconContainer>\r\n            <DataContainer gain={gain}>\r\n                {`${gain}%`}\r\n            </DataContainer>\r\n        </GainTip>\r\n    );\r\n}\r\n\r\nconst gainColor = \"red\";\r\nconst looseColor = \"green\";\r\n\r\nconst calculateGain = (data, dataKey) => {\r\n    if(data.length !== 2) return 0;\r\n    const [first, last] = data;\r\n    return (last[dataKey] - first[dataKey]) / first[dataKey] * 100;\r\n}\r\n\r\nconst GainTip = styled.div`\r\n    position: relative;\r\n    margin-right: 12px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-weight: bold;\r\n    padding: 4px;\r\n    background: white;\r\n    font-size: 1.2em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 1.1em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.95em;\r\n    }\r\n`;\r\n\r\nconst IconContainer = styled.div`\r\n    position: relative;\r\n`;\r\n\r\nconst Up = styled.div`\r\n    margin-bottom: -14px;\r\n    ${({ gain }) => (gain > 0) ? `color: ${gainColor}` : ''}\r\n`;\r\n\r\nconst Down = styled.div`\r\n    margin-top: -14px;\r\n    ${({ gain }) => (gain < 0) ? `color: ${looseColor}` : ''}\r\n`;\r\n\r\nconst DataContainer = styled.div`\r\n    ${({ gain }) => (gain > 0) ? `color: ${gainColor}` : ''}\r\n    ${({ gain }) => (gain < 0) ? `color: ${looseColor}` : ''}\r\n    margin-left: 4px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport { formatNumber } from '../../../../utils/formaters';\r\nimport Dictionaries from '../../../../utils/dictionaries';\r\nimport { colors } from '../../../../components/ColorSelect';\r\nimport { CHART_TYPES } from '../../../../components/CustomChart';\r\nimport GainTip from '../../components/GainTip';\r\n\r\nconst { mapUsageAreaDescription, mapUsageAreaShortcut } = Dictionaries;\r\n\r\nconst barProps = {\r\n  minTickGap: 15,\r\n  interval: \"preserveStart\",\r\n};\r\n\r\nexport const monthConfig = {\r\n    dailyHeatConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: false,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    dailyElectricityConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii elekt.\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie energii elektrycznej\",\r\n            dataSource: \"dailyElectricityConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    comparedConsumption: ({data}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => e,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Znormalizowane zużycie energii\",\r\n            dataSource: \"consumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n        extra: <GainTip data={data} dataKey='consumption' />,\r\n    }),\r\n    heatingCurve: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            // stopAnimation: true,\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            regresionPosition: 'left',\r\n            xFormatter: (e) => formatNumber(e, {position: -1}),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"outsideTemperature\",\r\n            color: \"#333\",\r\n            showAxis: true,\r\n            description: \"Temperatura zewnętrzna\",\r\n            showDescription: true,\r\n            unit: \"^oC\",\r\n            rangeFrom: \"-20\",\r\n            rangeTo: \"12\",\r\n            rangeSpan: \"8\",\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Dzienne zuż. ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"auto\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            dotted: true,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n            showRegresion: true,\r\n            addRegresionBoundary: true,\r\n            spreadRegresion: true,\r\n          },\r\n        ],\r\n    }),\r\n    energyUsageAreas: () => ({\r\n        isAnimationActive: false,\r\n        chartType: CHART_TYPES.PIE_CHART,\r\n        showEmpty: false,\r\n        descriptionMapper: mapUsageAreaDescription,\r\n        shortcutMapper: mapUsageAreaShortcut,\r\n        colorMapper: ({idx}) => colors[idx % colors.length].color,\r\n        dataKey: \"value\",\r\n        unit: \"kWh\",\r\n        showTooltip: true,\r\n        dataFormatter: (e) => formatNumber(e, {position: -1}),\r\n    }),\r\n    dailyOZEProduction: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Produkcja energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienna produkcja elekt. OZE\",\r\n            dataSource: \"dailyOZEProduction\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n}\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport { formatNumber } from '../../../../utils/formaters';\r\nimport Dictionaries from '../../../../utils/dictionaries';\r\nimport { colors } from '../../../../components/ColorSelect';\r\nimport { CHART_TYPES } from '../../../../components/CustomChart';\r\nimport GainTip from '../../components/GainTip';\r\n\r\nconst { mapUsageAreaDescription, mapUsageAreaShortcut } = Dictionaries;\r\n\r\nconst barProps = {\r\n  minTickGap: 35,\r\n  interval: \"preserveStart\",\r\n};\r\n\r\nexport const yearConfig = {\r\n    monthlyHeatConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"MMMM YYYY\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: false,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Zużycie ciepła\",\r\n            dataSource: \"monthlyHeatConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    monthlyElectricityConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"MMMM YYYY\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii elekt.\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Miesięczne zużycie energii elektrycznej\",\r\n            dataSource: \"monthlyElectricityConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    comparedConsumption: ({data}) => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => e,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Znormalizowane zużycie energii\",\r\n            dataSource: \"consumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n        extra: <GainTip data={data} dataKey='consumption' />,\r\n    }),\r\n    heatingCurve: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            // stopAnimation: true,\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            regresionPosition: 'left',\r\n            xFormatter: (e) => formatNumber(e, {position: -1}),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"outsideTemperature\",\r\n            color: \"#333\",\r\n            showAxis: true,\r\n            description: \"Temperatura zewnętrzna\",\r\n            showDescription: true,\r\n            unit: \"^oC\",\r\n            rangeFrom: \"-20\",\r\n            rangeTo: \"12\",\r\n            rangeSpan: \"8\",\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Miesięczne zuż. ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"auto\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Miesięczne zużycie ciepła\",\r\n            dataSource: \"monthlyHeatConsumption\",\r\n            axis: \"0\",\r\n            dotted: true,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n            showRegresion: true,\r\n            addRegresionBoundary: true,\r\n            spreadRegresion: true,\r\n          },\r\n        ],\r\n    }),\r\n    energyUsageAreas: () => ({\r\n        isAnimationActive: false,\r\n        chartType: CHART_TYPES.PIE_CHART,\r\n        showEmpty: false,\r\n        descriptionMapper: mapUsageAreaDescription,\r\n        shortcutMapper: mapUsageAreaShortcut,\r\n        colorMapper: ({idx}) => colors[idx % colors.length].color,\r\n        dataKey: \"value\",\r\n        unit: \"kWh\",\r\n        showTooltip: true,\r\n        dataFormatter: (e) => formatNumber(e, {position: -1}),\r\n    }),\r\n    monthlyOZEProduction: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: false,\r\n            stopInteractive: false,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"MMMM YYYY\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Produkcja energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Miesięczna produkcja elekt. OZE\",\r\n            dataSource: \"monthlyOZEProduction\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n}\r\n","import { dayConfig } from './day';\r\nimport { weekConfig } from './week';\r\nimport { monthConfig } from './month';\r\nimport { yearConfig } from './year';\r\n\r\nexport default Object.assign({\r\n    day: dayConfig,\r\n    week: weekConfig,\r\n    month: monthConfig,\r\n    year: yearConfig,\r\n});\r\n\r\nexport const chartDivisions = Object.assign({\r\n    day: [\r\n        [\r\n            {\r\n                key: 'heatPowerConsumption',\r\n                enableHidden: false,\r\n                title: 'Pobór mocy cieplnej',\r\n            },\r\n            {\r\n                key: 'electricityPowerConsumption',\r\n                enableHidden: false,\r\n                title: 'Pobór mocy elektrycznej',\r\n            },\r\n            {\r\n                key: 'OZEPowerProduction',\r\n                enableHidden: true,\r\n                title: 'Produkcja energii elektrycznej z OZE',\r\n            },\r\n        ],\r\n        [\r\n            {\r\n                key: 'temperatures',\r\n                enableHidden: false,\r\n                title: 'Temperatury',\r\n            },\r\n            {\r\n                key: 'co2',\r\n                enableHidden: false,\r\n                title: 'Stężenie CO_2',\r\n            },\r\n            {\r\n                key: 'humidity',\r\n                enableHidden: false,\r\n                title: 'Wilgotność względna',\r\n            },\r\n        ],\r\n    ],\r\n    week: [\r\n        [\r\n            {\r\n                key: 'heatPowerConsumption',\r\n                enableHidden: false,\r\n                title: 'Pobór mocy cieplnej',\r\n            },\r\n            {\r\n                key: 'electricityPowerConsumption',\r\n                enableHidden: false,\r\n                title: 'Pobór mocy elektrycznej',\r\n            },\r\n            {\r\n                key: 'totalConsumption',\r\n                enableHidden: false,\r\n                title: 'Całkowite zużycie energii',\r\n            },\r\n        ],\r\n        [\r\n            {\r\n                key: 'temperatures',\r\n                enableHidden: false,\r\n                title: 'Temperatury',\r\n            },\r\n            {\r\n                key: 'co2',\r\n                enableHidden: false,\r\n                title: 'Stężenie CO_2',\r\n            },\r\n            {\r\n                key: 'OZEProduction',\r\n                enableHidden: true,\r\n                title: 'Produkcja energii elektrycznej z OZE',\r\n            },\r\n        ],\r\n    ],\r\n    month: [\r\n        [\r\n            {\r\n                key: 'dailyHeatConsumption',\r\n                enableHidden: false,\r\n                title: 'Dzienne zużycie ciepła',\r\n            },\r\n            {\r\n                key: 'dailyElectricityConsumption',\r\n                enableHidden: false,\r\n                title: 'Dzienne zużycie energii elektrycznej',\r\n            },\r\n            {\r\n                key: 'comparedConsumption',\r\n                enableHidden: false,\r\n                title: 'Porównanie zużycia energii',\r\n            },\r\n        ],\r\n        [\r\n            {\r\n                key: 'heatingCurve',\r\n                enableHidden: false,\r\n                title: 'Krzywa grzewcza',\r\n            },\r\n            {\r\n                key: 'energyUsageAreas',\r\n                enableHidden: false,\r\n                title: 'Obszary zużycia energii',\r\n            },\r\n            {\r\n                key: 'dailyOZEProduction',\r\n                enableHidden: true,\r\n                title: 'Produkcja energii elektrycznej z OZE',\r\n            },\r\n        ],\r\n    ],\r\n    year: [\r\n        [\r\n            {\r\n                key: 'monthlyHeatConsumption',\r\n                enableHidden: false,\r\n                title: 'Miesięczne zużycie ciepła',\r\n            },\r\n            {\r\n                key: 'monthlyElectricityConsumption',\r\n                enableHidden: false,\r\n                title: 'Miesięczne zużycie energii elektrycznej',\r\n            },\r\n            {\r\n                key: 'comparedConsumption',\r\n                enableHidden: false,\r\n                title: 'Porównanie zużycia energii',\r\n            },\r\n        ],\r\n        [\r\n            {\r\n                key: 'heatingCurve',\r\n                enableHidden: false,\r\n                title: 'Krzywa grzewcza',\r\n            },\r\n            {\r\n                key: 'energyUsageAreas',\r\n                enableHidden: false,\r\n                title: 'Obszary zużycia energii',\r\n            },\r\n            {\r\n                key: 'monthlyOZEProduction',\r\n                enableHidden: true,\r\n                title: 'Produkcja energii elektrycznej z OZE',\r\n            },\r\n        ],\r\n    ],\r\n});\r\n","import React, {useContext} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport CustomChart from '../../../components/CustomChart';\r\nimport ChartCard from '../components/ChartCard';\r\n\r\nimport { DashboardContext } from '../DashboardDataProvider';\r\nimport chartConfig, { chartDivisions } from './chartConfig';\r\n\r\nexport default () => {\r\n  const {\r\n    currentBuilding,\r\n    currentTime,\r\n  } = useContext(DashboardContext);\r\n  const building = currentBuilding();\r\n  const fetchingTime = !building.finished[currentTime];\r\n\r\n  const passedChartConfig = (key) =>\r\n    building[currentTime] && building[currentTime][key] &&\r\n    ({\r\n      data: building[currentTime][key].data,\r\n      ...chartConfig[currentTime][key](building[currentTime][key]),\r\n    });\r\n\r\n  const shouldHideChart = (key) =>\r\n    !fetchingTime && building[currentTime] &&\r\n    building[currentTime][key] &&\r\n    building[currentTime][key].settings.hide;\r\n  \r\n  const currentElements = chartDivisions[currentTime];\r\n  return (\r\n    <Charts>\r\n      {currentElements.map((row, idx) => {\r\n        const spread = Boolean(row.reduce(\r\n          (prev, {key, enableHidden}) => prev || (shouldHideChart(key) && enableHidden),\r\n          false));\r\n        return (\r\n          // eslint-disable-next-line react/no-array-index-key\r\n          <Row key={`${idx}`}>\r\n            {row.map(({key, enableHidden, title}, idx2) =>\r\n              <Cell\r\n                  loading={fetchingTime}\r\n                  title={title}\r\n                  // eslint-disable-next-line react/no-array-index-key\r\n                  key={`${idx}-${idx2}`}\r\n                  spread={spread}\r\n                  hide={(shouldHideChart(key) && enableHidden)}\r\n                >\r\n                  <CustomChart\r\n                    {...passedChartConfig(key)}\r\n                  />\r\n              </Cell>)}\r\n          </Row>\r\n        );\r\n      })}\r\n    </Charts>\r\n  )\r\n}\r\n\r\nconst Cell = ({children, loading, title, spread, hide}) => (\r\n  <StyledCell\r\n    style={{\r\n      width: hide\r\n      ? '0'\r\n      : `calc((100% - 16px) / ${spread ? 2 : 3})`,\r\n      opacity: hide ? 0 : 1,\r\n    }}\r\n  >\r\n    <ChartCard\r\n      loading={loading}\r\n      title={title}\r\n      spread={spread}\r\n      hide={hide}\r\n    >\r\n      {children}\r\n    </ChartCard>\r\n  </StyledCell>\r\n);\r\n\r\nconst Charts = styled.div`\r\n  width: 100%;\r\n  height: calc(100vh - 136px);\r\n  min-height: 600px;\r\n  @media (max-height: 800px) {\r\n    height: calc(100vh - 120px);\r\n  }\r\n`;\r\n\r\nconst Row = styled.div`\r\n  & + & {\r\n    margin-top: -8px;\r\n  }\r\n`;\r\n\r\nconst StyledCell = styled.div`\r\n  display: inline-block;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: 1000ms all;\r\n  overflow: hidden;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Radio } from 'antd';\r\n\r\nexport default ({onChange, currentTime}) => {\r\n  return (\r\n    <TimeSelect>\r\n        <Radio.Group\r\n          buttonStyle=\"solid\"\r\n          onChange={onChange}\r\n          value={currentTime}\r\n        >\r\n        {timeTabs.map(({key, description}) =>\r\n            <StyledRadioButton key={key} value={key}>{description}</StyledRadioButton>,\r\n        )}\r\n        </Radio.Group>\r\n    </TimeSelect>\r\n  );\r\n}\r\n\r\nconst timeTabs = [\r\n  {\r\n    key: \"day\",\r\n    description: \"Dzień\",\r\n  },\r\n  {\r\n    key: \"week\",\r\n    description: \"Tydzień\",\r\n  },\r\n  {\r\n    key: \"month\",\r\n    description: \"Miesiąc\",\r\n  },\r\n  {\r\n    key: \"year\",\r\n    description: \"Rok\",\r\n  },\r\n];\r\n\r\nconst StyledRadioButton = styled(Radio.Button)`\r\n  min-width: 80px;\r\n  text-align: center;\r\n`;\r\n\r\nconst TimeSelect = styled.div`\r\n  position: relative;\r\n  text-align: center;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Icon } from \"antd\";\r\n\r\nexport default ({label, value, unit, loading, ...props}) => (\r\n<InlineValue {...props}>\r\n    <Label>{label}</Label>\r\n    <Value>\r\n        {loading\r\n        ?\r\n        <Icon type=\"loading\" spin />\r\n        :\r\n        value\r\n        }\r\n    </Value>\r\n    {unit && <Unit>{unit}</Unit>}\r\n</InlineValue>);\r\n\r\nconst InlineValue = styled.div`\r\n    display: flex;\r\n    padding: 0 8px;\r\n    align-items: baseline\r\n`;\r\n\r\nconst Label = styled.span`\r\n    font-size: 0.9em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.85em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.75em;\r\n    }\r\n`;\r\n\r\nconst Value = styled.span`\r\n    margin-left: 6px;\r\n    font-size: 1.2em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 1.1em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.95em;\r\n    }\r\n    font-weight: bold;\r\n`;\r\n\r\nconst Unit = styled.span`\r\n    margin-left: 2px;\r\n    font-size: 0.9em;\r\n    @media (max-width: 1600px) {\r\n        font-size: 0.8em;\r\n    }\r\n    @media (max-width: 1440px) {\r\n        font-size: 0.7em;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport MathParser from '../../../components/MathParser';\r\nimport { formatNumber } from '../../../utils/formaters';\r\nimport InlineValue from './InlineValue';\r\n\r\nexport default ({ buildingData, weatherStationName, loading }) => {\r\n  const getValue = ({ key, value }) => value || buildingData[key];\r\n  const getData = ({ key, value, valueFormatter }) =>\r\n    (v => (valueFormatter ? valueFormatter(v) : v))(getValue({ key, value }));\r\n\r\n  return (\r\n    <WrappedCurrentData>\r\n      <WeatherStation>\r\n        <InlineValue\r\n          loading={loading}\r\n          label=\"Dane ze stacji pogodowej:\"\r\n          value={loading ? undefined : weatherStationName}\r\n        />\r\n      </WeatherStation>\r\n      <CurrentData>\r\n        {elements.map(element => (\r\n          <MyRow key={element.key}>\r\n            {element.formatter(\r\n              loading\r\n                ? {\r\n                    loading,\r\n                    label: element.label,\r\n                    unit: element.unit,\r\n                  }\r\n                : {\r\n                    value: getData(element),\r\n                    label: element.label,\r\n                    unit: element.unit,\r\n                  },\r\n            )}\r\n          </MyRow>\r\n        ))}\r\n      </CurrentData>\r\n    </WrappedCurrentData>\r\n  );\r\n};\r\n\r\nconst PM10 = {\r\n  good: 61,\r\n  bad: 141,\r\n};\r\n\r\nconst PM25 = {\r\n  good: 37,\r\n  bad: 85,\r\n};\r\n\r\nconst renderPMElement = ({ pm, ...props }) => (\r\n  <StyledInlineValue {...pm} {...props} />\r\n);\r\n\r\nconst renderPM10Element = ({ ...props }) =>\r\n  renderPMElement({ pm: PM10, ...props });\r\nconst renderPM25Element = ({ ...props }) =>\r\n  renderPMElement({ pm: PM25, ...props });\r\n\r\nconst renderElement = ({ value, label, unit, ...props }) => (\r\n  <InlineValue label={label} value={value} unit={unit} {...props} />\r\n);\r\n\r\nconst elements = [\r\n  {\r\n    key: 'temperature',\r\n    label: 'Temp:',\r\n    unit: <MathParser>^oC</MathParser>,\r\n    valueFormatter: value => `${formatNumber(value, { position: -1 })}`,\r\n    formatter: renderElement,\r\n  },\r\n  {\r\n    key: 'rain',\r\n    label: 'Opady:',\r\n    unit: 'mm',\r\n    valueFormatter: value => `${formatNumber(value)}`,\r\n    formatter: renderElement,\r\n  },\r\n  {\r\n    key: 'humidity',\r\n    label: 'Wilgotność:',\r\n    unit: '%',\r\n    valueFormatter: value => `${formatNumber(value)}`,\r\n    formatter: renderElement,\r\n  },\r\n  {\r\n    key: 'pm25',\r\n    label: 'PM2,5:',\r\n    unit: <MathParser>μg/m^3</MathParser>,\r\n    valueFormatter: value => `${formatNumber(value)}`,\r\n    formatter: renderPM25Element,\r\n  },\r\n  {\r\n    key: 'pm10',\r\n    label: 'PM10:',\r\n    unit: <MathParser>μg/m^3</MathParser>,\r\n    valueFormatter: value => `${formatNumber(value)}`,\r\n    formatter: renderPM10Element,\r\n  },\r\n];\r\n\r\nconst colorPMConfig = {\r\n  good: {\r\n    color: 'white',\r\n    background: '#70ad47',\r\n  },\r\n  medium: {\r\n    color: 'white',\r\n    background: '#ffc000',\r\n  },\r\n  bad: {\r\n    color: 'white',\r\n    background: '#FF0000',\r\n  },\r\n};\r\n\r\nconst StyledInlineValue = ({ ...props }) => {\r\n  const { value, good, bad } = props;\r\n  const isValid = value !== undefined && value !== null;\r\n  let type;\r\n  if (isValid) {\r\n    const isGood = value <= good;\r\n    const isBad = value > bad;\r\n    // eslint-disable-next-line no-nested-ternary\r\n    type = !(isGood || isBad) ? 'medium' : isGood ? 'good' : 'bad';\r\n  }\r\n  return (\r\n    <InlineValue\r\n      style={\r\n        isValid\r\n          ? {\r\n              ...colorPMConfig[type],\r\n              borderRadius: '4px',\r\n              textShadow: `0 0 1px ${colorPMConfig[type].color}`,\r\n            }\r\n          : undefined\r\n      }\r\n      {...props}\r\n    />\r\n  );\r\n};\r\n\r\nconst WeatherStation = styled.div`\r\n  margin-bottom: 4px;\r\n  display: inline-block;\r\n`;\r\n\r\nconst WrappedCurrentData = styled.div`\r\n  text-align: right;\r\n`;\r\n\r\nconst CurrentData = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst MyRow = styled.div`\r\n  & + & {\r\n    margin-left: 16px;\r\n  }\r\n`;\r\n","import sleep from '../../../sleep';\r\n\r\n// importy z mocków\r\nconst building = require('./mocks/buildingData.json');\r\nconst current = require('./mocks/current.json');\r\nconst day = require('./mocks/day.json');\r\nconst week = require('./mocks/week.json');\r\nconst month = require('./mocks/month.json');\r\nconst year = require('./mocks/year.json');\r\n\r\nexport const getBuildingData = async (id) => {\r\n  await sleep(3000);\r\n  return {\r\n    status: 200,\r\n    data: building,\r\n  };\r\n};\r\n\r\nexport const getBuildingActual = async (id) => {\r\n  await sleep(2000);\r\n  return {\r\n    status: 200,\r\n    data: current,\r\n  };\r\n};\r\n\r\nexport const getBuildingTime = async (id, time) => {\r\n  await sleep( time === 'day' ? 500 : 1500);\r\n  const data = ({\r\n    day,\r\n    week,\r\n    month,\r\n    year,\r\n  })[time];\r\n  return {\r\n    status: 200,\r\n    data,\r\n  };\r\n};\r\n","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { BuildingSelect } from '../../../components/BuildingSelect';\r\nimport TimeSelect from '../components/TimeSelect';\r\nimport CurrentData from '../components/CurrentData';\r\n\r\nimport { DashboardContext } from '../DashboardDataProvider';\r\nimport { AppContext } from '../../../AppDataProvider';\r\n\r\nimport {\r\n  getBuildingActual,\r\n  getBuildingData,\r\n  getBuildingTime,\r\n} from '../services/api';\r\n\r\nexport default () => {\r\n  const {\r\n    currentBuilding,\r\n    currentBuildingId,\r\n    currentTime,\r\n    getBuilding,\r\n    startFetchingActual,\r\n    startFetchingData,\r\n    startFetchingTime,\r\n    endFetchingActual,\r\n    endFetchingData,\r\n    endFetchingTime,\r\n    setCurrentBuilding,\r\n    setCurrentTime,\r\n  } = useContext(DashboardContext);\r\n\r\n  const building = currentBuilding();\r\n\r\n  const updateTime = async ({ target }) => {\r\n    const { value } = target;\r\n    if (!building[value]) {\r\n      fetchBuildingTime(currentBuildingId, value);\r\n    }\r\n    setCurrentTime(value);\r\n  };\r\n  const updateBuilding = async id => {\r\n    const selected = getBuilding(id);\r\n    fetchBuildingActual(id);\r\n    if (!selected.data) {\r\n      fetchBuildingData(id);\r\n    }\r\n    if (!selected[currentTime]) {\r\n      fetchBuildingTime(id, currentTime);\r\n    }\r\n    setCurrentBuilding(id);\r\n  };\r\n\r\n  async function fetchBuildingActual(id) {\r\n    startFetchingActual(id);\r\n    const resp = await getBuildingActual(id);\r\n    endFetchingActual(id, resp.data);\r\n  }\r\n\r\n  async function fetchBuildingData(id) {\r\n    startFetchingData(id);\r\n    const resp = await getBuildingData(id);\r\n    endFetchingData(id, resp.data);\r\n  }\r\n\r\n  async function fetchBuildingTime(id, time) {\r\n    startFetchingTime(id, time);\r\n    const resp = await getBuildingTime(id, time);\r\n    endFetchingTime(id, resp.data, time);\r\n  }\r\n\r\n  const { buildings, weatherStationName } = useContext(AppContext);\r\n  const fetchingActual = !building.finished.currentData;\r\n  return (\r\n    <TopBar>\r\n      <BuildingSelectContainer>\r\n        <BuildingSelect\r\n          buildings={buildings}\r\n          onChange={updateBuilding}\r\n          value={currentBuildingId}\r\n        />\r\n      </BuildingSelectContainer>\r\n      <TimeSelectContainer>\r\n        <TimeSelect onChange={updateTime} currentTime={currentTime} />\r\n      </TimeSelectContainer>\r\n      <CurrentDataContainer>\r\n        <CurrentData\r\n          weatherStationName={weatherStationName}\r\n          buildingData={building.currentData}\r\n          loading={fetchingActual}\r\n        />\r\n      </CurrentDataContainer>\r\n    </TopBar>\r\n  );\r\n};\r\n\r\nconst TimeSelectContainer = styled.div`\r\n  padding: 0 24px;\r\n`;\r\n\r\nconst CurrentDataContainer = styled.div`\r\n  position: absolute;\r\n  right: 20px;\r\n  bottom: 16px;\r\n  @media (max-width: 1600px) {\r\n    bottom: 20px;\r\n  }\r\n  @media (max-width: 1440px) {\r\n    bottom: 24px;\r\n  }\r\n`;\r\n\r\nconst BuildingSelectContainer = styled.div`\r\n  width: 248px;\r\n`;\r\n\r\nconst TopBar = styled.div`\r\n  position: relative;\r\n  height: 80px;\r\n  padding: 24px 16px;\r\n  display: flex;\r\n  @media (max-height: 800px) {\r\n    height: 64px;\r\n    padding: 16px;\r\n  }\r\n`;\r\n","import React, {useContext, useEffect, useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\n\r\nimport BuildingDetails from './scenes/BuildingDetails';\r\nimport Charts from './scenes/Charts';\r\nimport TopBar from './scenes/TopBar';\r\n\r\nimport {\r\n  getBuildingActual,\r\n  getBuildingData,\r\n  getBuildingTime,\r\n} from './services/api';\r\n\r\nimport { DashboardContext } from './DashboardDataProvider';\r\nimport { AppContext } from '../../AppDataProvider';\r\n\r\nexport default () => {\r\n  const {\r\n    currentTime,\r\n    getCurrentTime,\r\n    currentBuildingId,\r\n    currentBuilding,\r\n    setBuildings,\r\n    // Pobierane danych\r\n    endFetchingActual,\r\n    endFetchingData,\r\n    endFetchingTime,\r\n    depricateHourData,\r\n    depricateDailyData,\r\n  } = useContext(DashboardContext);\r\n  const { buildings } = useContext(AppContext);\r\n  const [dailyInterval, setDailyInterval] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchBuildings();\r\n    const actualInterval = setInterval(\r\n      () => {\r\n        resetHourData();\r\n      }, 1000 * 60 * 60);\r\n    const dailyStart = setTimeout(\r\n      () => {\r\n        depricateDailyData();\r\n        resetDailyData()\r\n        setDailyInterval(setInterval(\r\n          () => {\r\n            depricateDailyData();\r\n            resetDailyData();\r\n          }, 1000 * 60 * 60 * 24));\r\n      }, 1000 * secondsToMidnight());\r\n\r\n      return () => {\r\n        clearInterval(actualInterval);\r\n        clearTimeout(dailyStart);\r\n        if(dailyInterval) {\r\n          try {\r\n            clearInterval(dailyInterval);\r\n          }\r\n          catch {\r\n            console.warn('Pusty interval dzienny wykryty');\r\n          };\r\n        }\r\n      }\r\n  }, []);\r\n\r\n  return (\r\n  <Dashboard>\r\n    <TopBar />\r\n    <DashboardInner>\r\n      <BuildingDetails />\r\n      <ChartsContainer>\r\n        <Charts />\r\n      </ChartsContainer>\r\n    </DashboardInner>\r\n  </Dashboard>\r\n  );\r\n\r\n  async function resetHourData() {\r\n    const building = currentBuilding();\r\n    if( building.id !== null ) {\r\n      depricateHourData();\r\n      fetchBuildingActual(building.id);\r\n      const time = getCurrentTime();\r\n      if(['day', 'week'].includes(time)) {\r\n        fetchBuildingTime(building.id, time);\r\n      }\r\n    }\r\n  }\r\n\r\n  async function resetDailyData() {\r\n    const building = currentBuilding();\r\n    if( building.id !== null ) {\r\n      depricateDailyData();\r\n      fetchBuildingData(building.id);\r\n      const time = getCurrentTime();\r\n      if(['month', 'year'].includes(time)) {\r\n        fetchBuildingTime(building.id, time);\r\n      }\r\n    }\r\n  }\r\n\r\n  async function fetchBuildings() {\r\n    if(currentBuildingId !== null) {\r\n      fetchBuildingActual(currentBuildingId);\r\n    }\r\n    else {\r\n      const { id } = buildings[0];\r\n      setBuildings(buildings, id);\r\n      fetchBuildingActual(id);\r\n      fetchBuildingData(id);\r\n      fetchBuildingTime(id, currentTime);\r\n    }\r\n  }\r\n\r\n  async function fetchBuildingActual(id) {\r\n    const resp = await getBuildingActual(id);\r\n    endFetchingActual(id, resp.data);\r\n  }\r\n\r\n  async function fetchBuildingData(id) {\r\n    const resp = await getBuildingData(id);\r\n    endFetchingData(id, resp.data);\r\n  }\r\n\r\n  async function fetchBuildingTime(id, time) {\r\n    const resp = await getBuildingTime(id, time);\r\n    endFetchingTime(id, resp.data, time);\r\n  }\r\n}\r\n\r\nconst secondsToMidnight = () => {\r\n  const mmt = moment();\r\n  const mmtMidnight = mmt.clone().endOf('day');\r\n  return mmtMidnight.diff(mmt, 'seconds') + 1;\r\n}\r\n\r\n\r\nconst Dashboard = styled.div`\r\n  background: #EEE;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  height: calc(100vh - 56px);\r\n  min-height: 664px;\r\n  width: calc(100vw - 160px);\r\n  min-width: 1206px;\r\n`;\r\n\r\nconst DashboardInner = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  position: relative;\r\n`;\r\n\r\nconst ChartsContainer = styled.div`\r\n  flex: 1;\r\n  position: relative;\r\n`;\r\n","import Dashboard from './Dashboard';\r\n\r\nexport default Dashboard;\r\n","import sleep from '../../../sleep';\r\n\r\n// importy z mocków\r\nconst report = require('./mocks/report.json');\r\n\r\n// Prawdopodobnie trzeba bedzie przeszlac jakis token, jeszcze nie wiem jak, jako argument?\r\n// Trzeba chyba będzie zrobić getem\r\nexport const getReportData = async (config) => {\r\n  await sleep(1000);\r\n  const fake = fakeData(config);\r\n  return {\r\n    status: 200,\r\n    data: {\r\n      ...fake,\r\n      chartsData: fake.buildings.map(({id}) => ({\r\n        id,\r\n        data: report,\r\n      })),\r\n    },\r\n  }\r\n};\r\n\r\nconst fakeData = (config) => ({\r\n  config,\r\n  community: {\r\n      id: 223,\r\n      name: 'Ćmiłów',\r\n  },\r\n  buildings: [\r\n      {\r\n          id: 2,\r\n          name: \"Szkoła podstawowa nr 23\",\r\n      },\r\n      {\r\n          id: 4,\r\n          name: \"Senatorium dla marynarzy\",\r\n      },\r\n      {\r\n          id: 12,\r\n          name: \"Zakład penitarny\",\r\n      },\r\n  ],\r\n});\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\n\r\nimport { DatePicker } from 'antd';\r\nimport FormItemWrapper from './FormItemWrapper';\r\n\r\nconst { MonthPicker } = DatePicker;\r\n\r\nexport default ({onChange, value = [], formRules = {}}) => {\r\n    const now = moment().startOf('month');\r\n\r\n    const disabledDate = (time) => time.isSameOrAfter(now);\r\n\r\n    const _onChange = ([first, second], isValid) => {\r\n        if(!(first && second)) {\r\n            onChange([first, second], isValid);\r\n        }\r\n        else {\r\n            onChange(second.isBefore(first) ? [second, first] : [first, second], isValid);\r\n        }\r\n    }\r\n    const onFirst = (v, isValid) => _onChange([v, value[1]], isValid);\r\n    const onSecond = (v, isValid) => _onChange([value[0], v], isValid);\r\n\r\n    return (\r\n        <PeriodSelect>\r\n            <Description>Od</Description>\r\n            <FormItemWrapper\r\n                value={value[0]}\r\n                onChange={onFirst}\r\n                {...formRules.from}\r\n            >\r\n                <MonthPicker disabledDate={disabledDate}/>\r\n            </FormItemWrapper>\r\n            <Description>Do</Description>\r\n            <FormItemWrapper\r\n                value={value[1]}\r\n                onChange={onSecond}\r\n                {...formRules.to}\r\n            >\r\n                <MonthPicker  disabledDate={disabledDate}/>\r\n            </FormItemWrapper>\r\n        </PeriodSelect>);\r\n};\r\n\r\nconst PeriodSelect = styled.div`\r\n    display: flex;\r\n    margin-left: -24px;\r\n`;\r\n\r\nconst Description = styled.span`\r\n    margin: 0 8px 0 24px;\r\n    font-weight: bold;\r\n    line-height: 32px;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Form } from 'antd';\r\n\r\nimport { CommunitySelect } from '../../../components/BuildingSelect';\r\nimport PeriodSelect from '../../../components/PeriodSelect';\r\nimport FormItemWrapper, { validate } from '../../../components/FormItemWrapper';\r\n\r\nexport default ({loadData, config = {}, onChange}) => {\r\n    const [_community, setCommunity] = useState();\r\n    const [_period, setPeriod] = useState();\r\n    const [triggered, setTriggered] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setCommunity(config.community);\r\n    }, [config.community]);\r\n\r\n    useEffect(() => {\r\n        setPeriod(config.period || []);\r\n    }, [config.period]);\r\n\r\n    const rules = Object.keys(formRules).reduce((prev, key) => ({\r\n        ...prev,\r\n        [key]: {\r\n            ...formRules[key],\r\n            triggered,\r\n        },\r\n    }), {});\r\n\r\n    const onReset = () => {\r\n        setTriggered(false);\r\n      }\r\n\r\n    const onSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setTriggered(true);\r\n        const toValidate = [\r\n            {key: 'community', value: _community},\r\n            {key: 'from', value: _period[0]},\r\n            {key: 'to', value: _period[1]},\r\n        ];\r\n        const isValid = toValidate.map(({key, value}) => validate({\r\n            ...rules[key],\r\n            value,\r\n            rules: rules[key] ? (rules[key].rules || []) : [],\r\n          })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n          if(!isValid) {\r\n            setTriggered(true);\r\n          }\r\n          else {\r\n                loadData({\r\n                    community: _community,\r\n                    period: _period,\r\n                });\r\n                onReset();\r\n          }\r\n    }\r\n\r\n    const onChangeCommunity = (com, isValid) => isValid\r\n        ? onChange({...config, community: com})\r\n        : setCommunity(com);\r\n    \r\n    const onChangePeriod = (per, isValid) => isValid\r\n        ? onChange({...config, period: per})\r\n        : setPeriod(per);\r\n\r\n    return (\r\n<ReportConfigForm>\r\n    <Form\r\n        layout=\"vertical\"\r\n        hideRequiredMark={false}\r\n        onSubmit={onSubmit}\r\n    >\r\n        <TopSelectItem>\r\n            <CommunityContainer>\r\n                <FormItemWrapper\r\n                    onChange={onChangeCommunity}\r\n                    value={_community}\r\n                    {...rules.community}\r\n                >\r\n                    <CommunitySelect />\r\n                </FormItemWrapper>\r\n            </CommunityContainer>\r\n        </TopSelectItem>\r\n        <TopSelectItem>\r\n            <PeriodSelect onChange={onChangePeriod} value={_period} formRules={rules}/>\r\n        </TopSelectItem>\r\n        <TopSelectItem>\r\n            <ButtonContainer>\r\n                <Button type=\"primary\" htmlType=\"submit\">Pobierz dane</Button>\r\n            </ButtonContainer>\r\n        </TopSelectItem>\r\n    </Form>\r\n</ReportConfigForm>);\r\n}\r\n\r\nconst formRules = {\r\n    community: {\r\n        required: true,\r\n        hasIcon: true,\r\n    },\r\n    from: {\r\n        required: true,\r\n    },\r\n    to: {\r\n        required: true,\r\n    },\r\n};\r\n\r\nconst ReportConfigForm = styled.div`\r\n    margin-bottom: -16px;\r\n`;\r\n\r\nconst CommunityContainer = styled.div`\r\n    width: 280px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n    padding: 0 0 32px 16px;\r\n`;\r\n\r\nconst TopSelectItem = styled.div`\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    & + & {\r\n        margin-left: 16px;\r\n    }\r\n`;\r\n","import React from 'react';\r\n\r\nimport { Modal } from 'antd';\r\n\r\nexport default ({visible, onOk, onCancel, ...props}) =>\r\n    (<Modal \r\n        visible={visible}\r\n        onOk={onOk}\r\n        onCancel={onCancel}\r\n        title=\"Czy chcesz wczytać dane\"\r\n        {...props}\r\n    >\r\n        {`Wczytanie nowych danych spowoduje przeładowanie generacji raportu.\r\n        Przy braku zapisu spowoduje to utratę wykonanej pracy.`}\r\n    </Modal>);","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n    padding: 32px 0;\r\n    @media print {\r\n        padding: 0;\r\n        page-break-before: always;\r\n        page-break-after: always;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport default ({to, children, ...props}) => (\r\n    <PageHeading {...props}>\r\n        {to ? <StyledHref href={`#${to}`}>{children}</StyledHref> : children}\r\n    </PageHeading>);\r\n\r\nconst PageHeading = styled.div`\r\n    font-weight: bold;\r\n    font-size: 28px;\r\n    padding: 8px 0 16px;\r\n`;\r\n\r\nconst StyledHref = styled.a`\r\n    color: inherit;\r\n    text-decoration: inherit;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Page from './Page';\r\nimport PageHeading from './PageHeading';\r\n\r\nexport default ({community, buildings}) => (\r\n    <Page>\r\n        <PageHeading id=\"Navigation\" to=\"Navigation\">\r\n            Spis treści\r\n        </PageHeading>\r\n        <NavigationSection>\r\n            <CustomLink href=\"#Community\">{`Gmina ${community.name}`}</CustomLink>\r\n        </NavigationSection>\r\n        <NavigationSection>\r\n            <CustomLink href=\"#Buildings\">Budynki</CustomLink>\r\n            <ReportLinks>\r\n                {buildings.map(({id, name}) => (\r\n                    <ReportLink\r\n                        to={genReportLink(id)}\r\n                        key={id}\r\n                    >\r\n                        {name}\r\n                    </ReportLink>\r\n                ))}\r\n            </ReportLinks>\r\n        </NavigationSection>\r\n        <NavigationSection>\r\n            <CustomLink href=\"#Summary\">Podsumowanie</CustomLink>\r\n        </NavigationSection>\r\n    </Page>);\r\n\r\nexport const genReportLink = (id) => `Building_${id}`;\r\n\r\nconst ReportLinks = styled.ol`\r\n    list-style-type: decimal;\r\n    padding: 0 32px;\r\n`;\r\n\r\nconst CustomLink = styled.a`\r\n    text-decoration: none;\r\n    color: darkblue;\r\n`;\r\n\r\nconst NavigationSection = styled.div`\r\n    & > ${CustomLink} {\r\n        font-size: 20px;\r\n    }\r\n    ${CustomLink} + ${ReportLinks} {\r\n        margin-top: 8px;\r\n    }\r\n    & + & {\r\n        margin-top: 8px;\r\n    }\r\n`;\r\n\r\nconst StyledReportLink = styled.li`\r\n    & + & {\r\n        margin-top: 8px;\r\n    }\r\n    \r\n`;\r\n\r\nconst ReportLink = ({to, children, ...props}) =>\r\n    (<StyledReportLink {...props}>\r\n        <CustomLink href={`#${to}`}>{children}</CustomLink>\r\n    </StyledReportLink>);\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 8px 0;\r\n    @media print {\r\n        page-break-inside: avoid;\r\n    }\r\n`;\r\n\r\nexport const CHART_SIZES = Object.freeze({\r\n    SMALL: 'small',\r\n    MEDIUM: 'medium',\r\n    BIG: 'big',\r\n});\r\n\r\nconst sizes = {\r\n    [CHART_SIZES.SMALL]: {\r\n        height: '240px',\r\n        width: '392px',\r\n    },\r\n    [CHART_SIZES.MEDIUM]: {\r\n        height: '360px',\r\n        width: '588px',\r\n    },\r\n    [CHART_SIZES.BIG]: {\r\n        height: '720px',\r\n        width: '1176px',\r\n    },\r\n};\r\n\r\nconst defaultSize = CHART_SIZES.MEDIUM;\r\n\r\nexport const ChartHolderItem = styled.div`\r\n    height: ${({size}) => sizes[size || defaultSize].height}\r\n    width: ${({size}) => sizes[size || defaultSize].width}\r\n    margin: auto;\r\n    padding: 0 8px;\r\n`;\r\n","import moment from 'moment';\r\n\r\nimport { CHART_SIZES } from '../components/ChartHolder';\r\nimport { formatNumber } from '../../../utils/formaters';\r\nimport { colors } from '../../../components/ColorSelect';\r\nimport { CHART_TYPES } from '../../../components/CustomChart';\r\n\r\nconst barProps = {\r\n  minTickGap: 15,\r\n  interval: \"preserveStart\",\r\n};\r\n\r\nexport default Object.assign({\r\n    dailyHeatConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: false,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.MEDIUM,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    dailyElectricityConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii elekt.\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.MEDIUM,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie energii elektrycznej\",\r\n            dataSource: \"dailyElectricityConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    comparedConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => e,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.SMALL,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Znormalizowane zużycie energii\",\r\n            dataSource: \"consumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    heatingCurve: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            // stopAnimation: true,\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            regresionPosition: 'left',\r\n            xFormatter: (e) => formatNumber(e, {position: -1}),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"outsideTemperature\",\r\n            color: \"#333\",\r\n            showAxis: true,\r\n            description: \"Temperatura zewnętrzna\",\r\n            showDescription: true,\r\n            unit: \"^oC\",\r\n            rangeFrom: \"-20\",\r\n            rangeTo: \"12\",\r\n            rangeSpan: \"8\",\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Dzienne zużycie ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"auto\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        chartSize: CHART_SIZES.SMALL,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            dotted: true,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n            showRegresion: true,\r\n            addRegresionBoundary: true,\r\n            spreadRegresion: true,\r\n          },\r\n        ],\r\n    }),\r\n    energyUsageAreas: () => ({\r\n        isAnimationActive: false,\r\n        chartType: CHART_TYPES.PIE_CHART,\r\n        chartSize: CHART_SIZES.SMALL,\r\n        showEmpty: false,\r\n        descriptionMapper: (e) => e,\r\n        colorMapper: ({idx}) => colors[idx % colors.length].color,\r\n        dataKey: \"value\",\r\n        unit: \"kWh\",\r\n        showTooltip: false,\r\n        dataFormatter: (e) => formatNumber(e, {position: -1}),\r\n    }),\r\n    dailyOZEProduction: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Produkcja energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.MEDIUM,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienna produkcja elekt. OZE\",\r\n            dataSource: \"dailyOZEProduction\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n});\r\n","import React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport {Input} from 'antd';\r\n\r\nexport default ({comment = '', refId, ...props}) => {\r\n    const [value, changeValue] = useState(comment);\r\n\r\n    const _onChange = (event) => {\r\n        const v = event && event.target && event.target.value;\r\n        changeValue(v);\r\n    }\r\nreturn (\r\n<StyledConclusion id={`comment-${refId}`} {...props}>\r\n    <UsedInput>\r\n        <Input.TextArea\r\n            autosize\r\n            value={value}\r\n            onChange={_onChange}\r\n            placeholder=\"(Opcjonalne)\"\r\n        />\r\n    </UsedInput>\r\n    {(value && value.length > 0) && (<ResultValue>\r\n        {value}\r\n    </ResultValue>)}\r\n</StyledConclusion>)\r\n};\r\n\r\nconst StyledConclusion = styled.div`\r\n    padding: 16px 0 32px;\r\n`;\r\n\r\nconst UsedInput = styled.div`\r\n    @media print {\r\n        display: none;\r\n    }\r\n`;\r\n\r\nconst ResultValue = styled.div`\r\n    display: none;\r\n    white-space: pre-line;\r\n    @media print {\r\n        display: unset;\r\n    }\r\n`;\r\n","import React from 'react';\r\n\r\nimport chartConfig from './chartsConfig';\r\n\r\nimport ChartHolder, { ChartHolderItem } from '../components/ChartHolder';\r\nimport Conclusion from '../components/Conclusion';\r\nimport CustomChart from '../../../components/CustomChart';\r\nimport Page from '../components/Page';\r\nimport PageHeading from '../components/PageHeading';\r\nimport { genReportLink } from '../components/ReportNavigation';\r\n\r\nexport default ({building, data, comments = {}, ...props}) => (<Page {...props}>\r\n    <PageHeading\r\n        id={genReportLink(building.id)}\r\n        to=\"Navigation\"\r\n    >\r\n        {building.name}\r\n    </PageHeading>\r\n    <ChartHolder>\r\n        <WrappedChart {...passedChartConfig(data, \"dailyHeatConsumption\")}/>\r\n        <WrappedChart {...passedChartConfig(data, \"dailyElectricityConsumption\")}/>\r\n    </ChartHolder>\r\n    <Conclusion\r\n        comment={comments.dailyHeatConsumption}\r\n        refId={`${building.id}-dailyHeatConsumption`}\r\n    />\r\n    <ChartHolder>\r\n        <WrappedChart {...passedChartConfig(data, \"comparedConsumption\")}/>\r\n        <WrappedChart {...passedChartConfig(data, \"heatingCurve\")}/>\r\n        <WrappedChart {...passedChartConfig(data, \"energyUsageAreas\")}/>\r\n    </ChartHolder>\r\n    <Conclusion\r\n        comment={comments.comparedConsumption}\r\n        refId={`${building.id}-comparedConsumption`}\r\n    />\r\n    <ChartHolder>\r\n        <WrappedChart {...passedChartConfig(data, \"dailyOZEProduction\")}/>\r\n    </ChartHolder>\r\n    <Conclusion\r\n        comment={comments.dailyOZEProduction}\r\n        refId={`${building.id}-dailyOZEProduction`}\r\n    />\r\n</Page>);\r\n\r\nconst WrappedChart = ({chartSize, ...props}) =>\r\n    (<ChartHolderItem size={chartSize}>\r\n        <CustomChart {...props} />\r\n    </ChartHolderItem>);\r\n\r\nconst passedChartConfig = (data, key) =>\r\n({\r\n    data: data[key].data,\r\n    ...chartConfig[key](data[key].data),\r\n});\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Page from './Page';\r\n\r\nexport default ({name, author, date, ...props}) => (\r\n    <StyledFrontPage {...props}>\r\n        <Title>{`Raport dla gminy ${name}`}</Title>\r\n        <Logo>\r\n            <img src=\"https://www.kape.gov.pl/web/image/51993\" alt=\"Nie załadowano logo\" />\r\n        </Logo>\r\n    </StyledFrontPage>\r\n);\r\n\r\nconst StyledFrontPage = styled(Page)`\r\n    display: none;\r\n    @media print {\r\n        display: unset;\r\n    }\r\n`;\r\n\r\nconst Title = styled.div`\r\n    font-weight: bold;\r\n    font-size: 64px;\r\n    text-align: center;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n    text-align: center;\r\n    margin-top: 64px;\r\n    img {\r\n        width: 640px;\r\n    }\r\n`;\r\n","import React from 'react';\r\n\r\nimport Page from '../components/Page';\r\nimport PageHeading from '../components/PageHeading';\r\nimport Conclusion from '../components/Conclusion';\r\n\r\nexport default ({comments = {}, ...props}) =>\r\n    (<Page {...props}>\r\n        <PageHeading\r\n            id=\"Summary\"\r\n            to=\"Navigation\"\r\n        >\r\n            Wnioski końcowe\r\n        </PageHeading>\r\n        <Conclusion\r\n            comment={comments.summary}\r\n            refId='summary'\r\n        />\r\n    </Page>);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport ReportNavigation from '../components/ReportNavigation';\r\nimport BuildingReport from './BuildingReport';\r\nimport FrontPage from '../components/FrontPage';\r\nimport Summary from './Summary';\r\n\r\nexport default ({\r\n    community,\r\n    buildings,\r\n    chartsData,\r\n    printRef,\r\n    comments = {},\r\n    ...props\r\n}) => (\r\n    <StyledReportGeneration id=\"ReportGeneration\" {...props}>\r\n        <ReportInner>\r\n            <ReportContent ref={printRef}>\r\n                <FrontPage name={community.name} />\r\n                <ReportNavigation\r\n                    community={community}\r\n                    buildings={buildings}\r\n                />\r\n                {buildings.map(building =>(\r\n                    <BuildingReport\r\n                        comments={comments[building.id]}\r\n                        key={building.id}\r\n                        building={building}\r\n                        data={chartsData.find(({id}) => id === building.id).data}\r\n                    />))}\r\n                <Summary comments={comments}/>\r\n            </ReportContent>\r\n        </ReportInner>\r\n    </StyledReportGeneration>\r\n);\r\n\r\nconst StyledReportGeneration = styled.div`\r\n    position: relative;\r\n    background: #EEE;\r\n    margin: 0 -20px;\r\n    padding: 24px 0;\r\n`;\r\n\r\nconst ReportInner = styled.div`\r\n    position: relative;\r\n    margin: auto;\r\n    max-width: 1224px;\r\n    background: white;\r\n    min-height: 1600px;\r\n`;\r\n\r\nconst ReportContent = styled.div`\r\n    padding: 24px 0;\r\n    width: 976px;\r\n    margin: auto;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Section = ({title, children, ...props}) => (\r\n    <StyledSection {...props}>\r\n        {title && (<Title>{title}</Title>)}\r\n        {children}\r\n    </StyledSection>\r\n);\r\n\r\nconst Title = styled.div`\r\n    font-weight: bold;\r\n    padding: 3px 0 16px;\r\n`;\r\n\r\nconst StyledSection = styled.div`\r\n    & + & {\r\n        padding-top: 16px;\r\n    }\r\n`;\r\n\r\nexport default Object.assign(\r\n    Section,\r\n    {\r\n        Title,\r\n    },\r\n);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Icon } from 'antd';\r\n\r\nimport Section from './Section';\r\n\r\n\r\nexport default ({isSticky, ...props}) => (\r\n    <StyledStickySection isSticky={isSticky} {...props}>\r\n        <Section.Title>Generowany raport</Section.Title>\r\n        <ButtonContainer>\r\n            <Button.Group>\r\n                {isSticky && (<Button href=\"#LoadReportData\">\r\n                    <Icon type=\"up\" />\r\n                    Do góry\r\n                </Button>)}\r\n                <Button href=\"#ReportDownload\">\r\n                    Do dołu\r\n                    <Icon type=\"down\" />\r\n                </Button>\r\n            </Button.Group>\r\n        </ButtonContainer>\r\n    </StyledStickySection>\r\n);\r\n\r\nconst StyledStickySection = styled.div`\r\n    position: relative;\r\n    padding: 8px 20px 0;\r\n    margin: 0 -20px;\r\n    ${({isSticky}) => isSticky ? `\r\n        border-bottom: solid 1px #EEE;\r\n        background: white;\r\n    ` : ''}\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 8px;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport ReactToPrint from 'react-to-print';\r\nimport styled from 'styled-components';\r\nimport { Button, DatePicker, Form, Input } from 'antd';\r\n\r\nimport FormItemWrapper, { validate } from '../../../components/FormItemWrapper';\r\n\r\nimport { withDelayedUpdate } from \"../../../utils/delayed\";\r\n\r\nconst DelayedInput = withDelayedUpdate(Input);\r\n\r\nexport default ({printRef, config = {}, onChange}) => {\r\n    const [_date, setDate] = useState();\r\n    const [_author, setAuthor] = useState();\r\n\r\n    useEffect(() => {\r\n        setAuthor(config.author);\r\n    }, [config.author]);\r\n\r\n    useEffect(() => {\r\n        setDate(config.date);\r\n    }, [config.date]);\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault();\r\n    }\r\n\r\n    const isFormValid = () => {\r\n        const toValidate = [\r\n            {key: 'author', value: _author},\r\n            {key: 'date', value: _date},\r\n        ];\r\n        return toValidate.map(({key, value}) => validate({\r\n            ...formRules[key],\r\n            value,\r\n            rules: formRules[key] ? (formRules[key].rules || []) : [],\r\n          })).reduce((prev, {validateStatus}) => prev && validateStatus !== 'error', true);\r\n    }\r\n\r\n    const onChangeAuthor = (aut, isValid) => isValid\r\n        ? onChange({...config, author: aut})\r\n        : setAuthor(aut);\r\n    \r\n    const onChangeDate = (per, isValid) => isValid\r\n        ? onChange({...config, date: per})\r\n        : setDate(per);\r\n\r\n    return (\r\n<ReportDowloadForm>\r\n    <Form\r\n        layout=\"vertical\"\r\n        hideRequiredMark={false}\r\n        onSubmit={onSubmit}\r\n    >\r\n        <TopSelectItem>\r\n            <InputContainer>\r\n                <FormItemWrapper\r\n                    onChange={onChangeAuthor}\r\n                    value={_author}\r\n                    {...formRules.author}\r\n                >\r\n                    <DelayedInput delay={3000}/>\r\n                </FormItemWrapper>\r\n            </InputContainer>\r\n        </TopSelectItem>\r\n        <TopSelectItem>\r\n            <FormItemWrapper\r\n                onChange={onChangeDate}\r\n                value={_date}\r\n                {...formRules.date}\r\n            >\r\n                <DatePicker />\r\n            </FormItemWrapper>\r\n        </TopSelectItem>\r\n        <TopSelectItem>\r\n            <ButtonContainer>\r\n                <ReactToPrint\r\n                    trigger={() => (\r\n                        <Button\r\n                            disabled={!isFormValid()}\r\n                            type=\"primary\"\r\n                        >Pobierz raport</Button>\r\n                    )}\r\n                    content={() => printRef}\r\n                />\r\n            </ButtonContainer>\r\n        </TopSelectItem>\r\n    </Form>\r\n</ReportDowloadForm>);\r\n}\r\n\r\nconst formRules = {\r\n    author: {\r\n        label: \"Autor\",\r\n        required: true,\r\n    },\r\n    date: {\r\n        label: \"Data powstania raportu\",\r\n        required: true,\r\n    },\r\n};\r\n\r\nconst ReportDowloadForm = styled.div`\r\n    margin-bottom: -16px;\r\n`;\r\n\r\nconst InputContainer = styled.div`\r\n    width: 280px;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n    padding: 0 0 0 16px;\r\n`;\r\n\r\nconst TopSelectItem = styled.div`\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    & + & {\r\n        margin-left: 16px;\r\n    }\r\n`;\r\n","import React, { useState, useRef, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport { Empty } from 'antd';\r\n\r\nimport { AppContext } from '../../../AppDataProvider';\r\nimport { getReportData } from '../services/api';\r\n\r\nimport ReportConfig from './ReportConfig';\r\nimport ConfirmLoad from './ConfirmLoad';\r\nimport ReportGeneration from './ReportGeneration';\r\nimport Section from '../components/Section';\r\nimport StickySection from '../components/StickySection';\r\nimport ReportDownload from './ReportDownload';\r\n\r\n// Istnieje duże obciążenie przy renderowaniu raportów\r\n// Możliwe jest odczytanie wartości komentarzy za pomocą DOM np:\r\n// buildings.reduce((prev, e) => [...prev, document.getElementById(`comment-${e}-dailyHeatConsumption`)], []).map(e => e.getElementsByTagName('textarea')[0].value)\r\n// Komentarze są zatem bindowane tylko w jedną stronę (przy wgraniu)\r\n\r\nexport default () => {\r\n    const [reportConfig, setReportConfig] = useState();\r\n    const [reportData, setReportData] = useState();\r\n    const [reportComments, setReportComments] = useState();\r\n    const [reloadAlert, setReloadAlert] = useState();\r\n\r\n    const { startAsyncTask, finishAsyncTask } = useContext(AppContext);\r\n\r\n    const printRef = useRef();\r\n\r\n    const loadData = async () => {\r\n        if(reportData) {\r\n            setReloadAlert(true);\r\n        }\r\n        else {\r\n            _loadData(reportConfig);\r\n        }\r\n    }\r\n\r\n    const _loadData = async (config) => {\r\n        startAsyncTask();\r\n        const resp = await getReportData(config);\r\n        setReportData(resp.data);\r\n        setReportConfig(resp.data.config);\r\n        setReportComments(resp.data.comments);\r\n        setReloadAlert(false);\r\n        finishAsyncTask();\r\n    }\r\n\r\n    return (\r\n        <StyledGeneration id=\"Generation\">\r\n            <Section\r\n                title=\"Pobranie danych\"\r\n                id=\"LoadReportData\"\r\n            >\r\n                <ReportConfig config={reportConfig} loadData={loadData} onChange={v => setReportConfig(v)}/>\r\n            </Section>\r\n            <Sticky relative>\r\n                {({style, isSticky}) =>\r\n                    (<div style={{\r\n                        ...style,\r\n                        ...(isSticky && {\r\n                            zIndex: 1,\r\n                            top: 56,\r\n                        }),\r\n                    }}>\r\n                        <StickySection isSticky={isSticky}/>\r\n                    </div>)}\r\n            </Sticky>\r\n            <Section\r\n                id=\"ReportGeneration\"\r\n                style={{\r\n                    flex: 1,\r\n                }}\r\n            >\r\n                {reportData\r\n                ? (\r\n                <ReportGeneration\r\n                    comments={reportComments}\r\n                    {...reportData}\r\n                    printRef={printRef}\r\n                />)\r\n                : (<Empty\r\n                    description=\"Brak pobranych danych do raportu\"\r\n                />)}\r\n            </Section>\r\n            {reportData &&\r\n            (<Section\r\n                title=\"Pobranie raportu\"\r\n                id=\"ReportDownload\"\r\n            >\r\n                <ReportDownload\r\n                    config={reportConfig}\r\n                    loadData={loadData}\r\n                    onChange={v => setReportConfig(v)}\r\n                    printRef={printRef.current}\r\n                />\r\n            </Section>)}\r\n            <ConfirmLoad\r\n                visible={reloadAlert}\r\n                onCancel={() => setReloadAlert(false)}\r\n                onOk={() => _loadData(reportConfig)}\r\n            />\r\n        </StyledGeneration>\r\n    );\r\n}\r\n\r\nconst StyledGeneration = styled(StickyContainer)`\r\n    position: relative;\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow: auto;\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    @media print {\r\n        color: black;\r\n    }\r\n`;\r\n","import Reports from './Reports';\r\n\r\nexport default Reports;\r\n","import React from 'react';\r\nimport Generation from './scenes/Generation';\r\n\r\nexport default () => (\r\n    <Generation />\r\n);\r\n","import React, { Component } from 'react';\r\n\r\nconst initialReportsState = {\r\n  reports: [],\r\n};\r\n\r\nconst ReportsContext = React.createContext({});\r\n\r\nclass ReportsDataProvider extends Component {\r\n  set = field => value => this.setState(() => ({ [field]: value }));\r\n\r\n  state = {\r\n    ...initialReportsState,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ReportsContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </ReportsContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport { ReportsContext };\r\nexport default ReportsDataProvider;\r\n","import styled from 'styled-components';\r\n\r\nexport default styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nexport const CHART_SIZES = Object.freeze({\r\n    SMALL: 'small',\r\n    MEDIUM: 'medium',\r\n    BIG: 'big',\r\n});\r\n\r\nconst sizes = {\r\n    [CHART_SIZES.SMALL]: {\r\n        height: '240px',\r\n        width: '392px',\r\n    },\r\n    [CHART_SIZES.MEDIUM]: {\r\n        height: '360px',\r\n        width: '588px',\r\n    },\r\n    [CHART_SIZES.BIG]: {\r\n        height: '720px',\r\n        width: '1176px',\r\n    },\r\n};\r\n\r\nconst defaultSize = CHART_SIZES.MEDIUM;\r\n\r\nexport const ChartHolderItem = styled.div`\r\n    height: ${({size}) => sizes[size || defaultSize].height}\r\n    width: ${({size}) => sizes[size || defaultSize].width}\r\n    margin: auto;\r\n    padding: 0 8px;\r\n`;\r\n","import moment from 'moment';\r\n\r\nimport { CHART_SIZES } from '../components/ChartHolder';\r\nimport { formatNumber } from '../../../utils/formaters';\r\nimport { colors } from '../../../components/ColorSelect';\r\nimport { CHART_TYPES } from '../../../components/CustomChart';\r\n\r\nconst barProps = {\r\n  minTickGap: 15,\r\n  interval: \"preserveStart\",\r\n};\r\n\r\nexport default Object.assign({\r\n    dailyHeatConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: false,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.MEDIUM,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    dailyElectricityConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii elekt.\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.MEDIUM,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie energii elektrycznej\",\r\n            dataSource: \"dailyElectricityConsumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    comparedConsumption: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => e,\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Zużycie energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.SMALL,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Znormalizowane zużycie energii\",\r\n            dataSource: \"consumption\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n    heatingCurve: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            // stopAnimation: true,\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: true,\r\n            regresionPosition: 'left',\r\n            xFormatter: (e) => formatNumber(e, {position: -1}),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"outsideTemperature\",\r\n            color: \"#333\",\r\n            showAxis: true,\r\n            description: \"Temperatura zewnętrzna\",\r\n            showDescription: true,\r\n            unit: \"^oC\",\r\n            rangeFrom: \"-20\",\r\n            rangeTo: \"12\",\r\n            rangeSpan: \"8\",\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Dzienne zużycie ciepła\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"auto\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.LINE_CHART,\r\n        chartSize: CHART_SIZES.SMALL,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienne zużycie ciepła\",\r\n            dataSource: \"dailyHeatConsumption\",\r\n            axis: \"0\",\r\n            dotted: true,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n            showRegresion: true,\r\n            addRegresionBoundary: true,\r\n            spreadRegresion: true,\r\n          },\r\n        ],\r\n    }),\r\n    energyUsageAreas: () => ({\r\n        isAnimationActive: false,\r\n        chartType: CHART_TYPES.PIE_CHART,\r\n        chartSize: CHART_SIZES.SMALL,\r\n        showEmpty: false,\r\n        descriptionMapper: (e) => e,\r\n        colorMapper: ({idx}) => colors[idx % colors.length].color,\r\n        dataKey: \"value\",\r\n        unit: \"kWh\",\r\n        showTooltip: false,\r\n        dataFormatter: (e) => formatNumber(e, {position: -1}),\r\n    }),\r\n    dailyOZEProduction: () => ({\r\n        chartConfig: {\r\n          settings: {\r\n            stopAnimation: true,\r\n            stopInteractive: true,\r\n            title: \"\",\r\n            showTitle: false,\r\n            showLegend: false,\r\n            horizontalGrid: true,\r\n            verticalGrid: false,\r\n            xFormatter: (e) => moment(e).format(\"YYYY-MM-DD\"),\r\n            yFormatter: (e) => formatNumber(e, {position: -1}),\r\n          },\r\n          xAxis: {\r\n            xKey: \"time\",\r\n            description: \"Czas\",\r\n            showDescription: false,\r\n            color: \"#333\",\r\n            datesNumber: 3,\r\n            withTime: true,\r\n            useDefault: true,\r\n            ...barProps,\r\n          },\r\n          yAxises: [\r\n            {\r\n              id: \"0\",\r\n              color: \"#333\",\r\n              showAxis: true,\r\n              side: \"left\",\r\n              description: \"Produkcja energii\",\r\n              showDescription: true,\r\n              unit: \"kWh\",\r\n              rangeFrom: \"0\",\r\n              rangeTo: \"auto\",\r\n              rangeSpan: \"auto\",\r\n            },\r\n          ],\r\n        },\r\n        chartType: CHART_TYPES.BAR_CHART,\r\n        chartSize: CHART_SIZES.BIG,\r\n        usedData: [\r\n          {\r\n            id: \"0\",\r\n            description: \"Dzienna produkcja elekt. OZE\",\r\n            dataSource: \"dailyOZEProduction\",\r\n            axis: \"0\",\r\n            showRegresion: false,\r\n            dotted: false,\r\n            lineWidth: 2,\r\n            lineColor: \"#063951\",\r\n            dashed: false,\r\n            dashLength: 5,\r\n            dashSpacing: 5,\r\n            unit: \"kWh\",\r\n          },\r\n        ],\r\n    }),\r\n});\r\n","import React from \"react\";\r\nimport {\r\n  CartesianGrid,\r\n  Area,\r\n  AreaChart,\r\n  ReferenceLine,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n} from \"recharts\";\r\nimport PropTypes from \"prop-types\";\r\nimport { find } from \"lodash\";\r\n\r\nimport {\r\n  chartRangesFromConfig,\r\n  dateTicks,\r\n} from \"./utils/calculate\";\r\nimport {\r\n  dataFromXAxis,\r\n  dataFromAxis,\r\n  hasLeftAxis,\r\n  hasRightAxis,\r\n  isTimeChart,\r\n} from \"./utils/filters\";\r\nimport {\r\n  chartConfigType,\r\n  usedDataType,\r\n} from \"./utils/chartTypes\";\r\nimport CustomXAxis, { CustomTimeAxis } from \"./CustomXAxis\";\r\nimport CustomYAxis from \"./CustomYAxis\";\r\nimport CustomTooltip from \"./CustomTooltip\";\r\nimport CustomLegend from \"./CustomLegend\";\r\nimport { StyledChart, Container, ChartTitle } from './Common';\r\nimport MathParser from \"../MathParser\";\r\n\r\nexport default Object.assign(\r\n  ({ usedData, data, chartConfig, ...props }) => {\r\n    const { xAxis, settings, yAxises } = chartConfig;\r\n    const {\r\n      showTitle,\r\n      title,\r\n      stopAnimation,\r\n      stopInteractive,\r\n      horizontalGrid,\r\n      verticalGrid,\r\n      showLegend,\r\n      xFormatter,\r\n      yFormatter,\r\n      stackData = true,\r\n    } = settings;\r\n    const xAxisRanges = xAxis.useDefault\r\n    ? {\r\n      domainMin: 'dataMin',\r\n      domainMax: 'dataMax',\r\n    }\r\n    : (axisFun =>\r\n      axisFun(dataFromXAxis(data, xAxis.xKey), xAxis))(\r\n        isTimeChart(xAxis.xKey) ? dateTicks : chartRangesFromConfig,\r\n      );\r\n    const xAxisChoice = () => {\r\n      if(xAxis.useDefault) return ({...prop}) => <XAxis {...prop} />;\r\n        return isTimeChart(xAxis.xKey) ? CustomTimeAxis : CustomXAxis\r\n      }\r\n    \r\n    return (\r\n      <StyledChart>\r\n        {showTitle && (\r\n          <ChartTitle><MathParser>{title}</MathParser></ChartTitle>\r\n        )}\r\n        <Container showTitle={showTitle}>\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\" {...props}>\r\n            <AreaChart\r\n              data={data}\r\n            >\r\n              {!stopInteractive && (\r\n                <Tooltip\r\n                  content={\r\n                    <CustomTooltip\r\n                      withTime={xAxis.withTime}\r\n                      xAxis={xAxis}\r\n                      xFormatter={xFormatter}\r\n                      yFormatter={yFormatter}\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n              {showLegend && (\r\n                CustomLegend()\r\n              )}\r\n              <CartesianGrid\r\n                strokeDasharray=\"5 5\"\r\n                horizontal={horizontalGrid}\r\n                vertical={!xAxisRanges.ticks ? verticalGrid : false}\r\n              />\r\n              {verticalGrid &&\r\n                xAxisRanges.ticks &&\r\n                xAxisRanges.ticks.map((x) => (\r\n                  <ReferenceLine\r\n                    key={`cartesian-x-${x}`}\r\n                    x={x}\r\n                    yAxisId={yAxises[0].id}\r\n                    strokeDasharray=\"5 5\"\r\n                  />\r\n                ))}\r\n              {(axisComp =>\r\n                axisComp({\r\n                  ...xAxis,\r\n                  dataKey: xAxis.xKey,\r\n                  hasLeft: hasLeftAxis(yAxises),\r\n                  hasRight: hasRightAxis(yAxises),\r\n                  ranges: xAxisRanges,\r\n                  ...(xFormatter && {tickFormatter: xFormatter}),\r\n                  ...(stopAnimation && {isAnimationActive: false}),\r\n                }))(xAxisChoice())\r\n              }\r\n              {// WONTFIX recharts ma problem z przeciazaniem komponentow\r\n                yAxises.map(yAxis =>\r\n                  CustomYAxis({\r\n                    ...yAxis,\r\n                    key: `yAxis-${yAxis.id}`,\r\n                    dataSpread: dataFromAxis(data, usedData, yAxis.id),\r\n                    ...(yFormatter && {tickFormatter: yFormatter}),\r\n                  }),\r\n                )}\r\n              {usedData.map(({ id, dotted, dataSource, ...used }) =>\r\n                CustomArea({\r\n                  yAxises,\r\n                  ...used,\r\n                  dataSource,\r\n                  areaId: id,\r\n                  stackData,\r\n                  key: `usedData-${id}`,\r\n                  ...(stopAnimation && {isAnimationActive: false}),\r\n                }),\r\n              )}\r\n            </AreaChart>\r\n          </ResponsiveContainer>\r\n        </Container>\r\n      </StyledChart>\r\n    );\r\n  },\r\n  {\r\n    propTypes: {\r\n      chartConfig: PropTypes.shape(chartConfigType).isRequired,\r\n      usedData: PropTypes.arrayOf(PropTypes.shape(usedDataType)).isRequired,\r\n      data: PropTypes.arrayOf(PropTypes.any),\r\n    },\r\n  });\r\n\r\nconst CustomArea = ({\r\n  yAxises,\r\n  description,\r\n  areaId,\r\n  axis,\r\n  dataSource,\r\n  lineColor,\r\n  lineWidth,\r\n  unit,\r\n  stackData,\r\n  ...props\r\n}) => (\r\n    <Area\r\n      activeDot\r\n      type=\"linear\"\r\n      connectNulls\r\n      unit={(e => (e && e.unit) || unit)(find(yAxises, e => e.id === axis))}\r\n      name={description}\r\n      id={areaId}\r\n      stackId={stackData ? \"1\" : undefined}\r\n      stroke={lineColor}\r\n      fill={lineColor}\r\n      dot={false}\r\n      dataKey={dataSource}\r\n      yAxisId={axis}\r\n      {...props}\r\n    />\r\n  );\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { formatNumber } from '../../../utils/formaters';\r\nimport AreaChart from '../../../components/Charts/AreaChart';\r\n\r\nconst exampleConfig = {\r\n    chartConfig: {\r\n      settings: {\r\n        stopAnimation: true,\r\n        stopInteractive: true,\r\n        title: \"\",\r\n        showTitle: false,\r\n        showLegend: false,\r\n        horizontalGrid: true,\r\n        verticalGrid: false,\r\n        stackData: true,\r\n        yFormatter: (e) => formatNumber(e, {position: -1}),\r\n      },\r\n      xAxis: {\r\n        xKey: \"time\",\r\n        description: \"Czas\",\r\n        showDescription: false,\r\n        color: \"#333\",\r\n        datesNumber: 4,\r\n        withTime: false,\r\n      },\r\n      yAxises: [\r\n        {\r\n          id: \"0\",\r\n          color: \"#333\",\r\n          showAxis: true,\r\n          side: \"left\",\r\n          description: \"Zużycie ciepła\",\r\n          showDescription: true,\r\n          unit: \"%\",\r\n          rangeFrom: \"0\",\r\n          rangeTo: \"100\",\r\n          rangeSpan: \"auto\",\r\n        },\r\n      ],\r\n    },\r\n    usedData: [\r\n      {\r\n        id: \"0\",\r\n        description: \"Dzienne zużycie ciepła\",\r\n        dataSource: \"dailyHeatConsumption\",\r\n        axis: \"0\",\r\n        lineWidth: 2,\r\n        lineColor: \"#063951\",\r\n        unit: \"%\",\r\n      },\r\n      {\r\n        id: \"1\",\r\n        description: \"Dzienne zużycie prądu\",\r\n        dataSource: \"dailyElectricityConsumption\",\r\n        axis: \"0\",\r\n        dotted: false,\r\n        lineWidth: 2,\r\n        lineColor: \"#C13015\",\r\n        unit: \"%\",\r\n      },\r\n      {\r\n        id: \"2\",\r\n        description: \"Dzienne zużycie wody\",\r\n        dataSource: \"dailyWaterConsumption\",\r\n        axis: \"0\",\r\n        lineWidth: 2,\r\n        lineColor: \"#0D95BC\",\r\n        unit: \"%\",\r\n      },\r\n    ],\r\n};\r\n\r\nconst begin = new Date(\"2019-05-03\").getTime();\r\n\r\nconst exampleData = () => Array(50).fill(0).map((e, i) => ({\r\n    time: begin + i * 1000 * 60 * 60 * 24,\r\n    dailyHeatConsumption: 20 * Math.random() + 30,\r\n    dailyElectricityConsumption: 10 * Math.random() + 15,\r\n})).map(e => ({...e, dailyWaterConsumption: 100 - e.dailyElectricityConsumption - e.dailyHeatConsumption}));\r\n\r\nexport default () => (\r\n    <StyledExample>\r\n        <AreaChart data={exampleData()} {...exampleConfig} />\r\n    </StyledExample>\r\n);\r\n\r\nconst StyledExample = styled.div`\r\n    height: 540px;\r\n    width: 900px;\r\n`;\r\n","import React, { Fragment } from \"react\";\r\nimport {\r\n  CartesianGrid,\r\n  ReferenceDot,\r\n  ReferenceLine,\r\n  ResponsiveContainer,\r\n  ScatterChart,\r\n  Tooltip,\r\n  XAxis,\r\n} from \"recharts\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {\r\n  chartRangesFromConfig,\r\n  dateTicks,\r\n} from \"./utils/calculate\";\r\nimport {\r\n  dataFromXAxis,\r\n  dataFromAxis,\r\n  hasLeftAxis,\r\n  hasRightAxis,\r\n  isTimeChart,\r\n} from \"./utils/filters\";\r\nimport {\r\n  chartConfigType,\r\n  usedDataType,\r\n} from \"./utils/chartTypes\";\r\nimport CustomXAxis, { CustomTimeAxis } from \"./CustomXAxis\";\r\nimport CustomYAxis from \"./CustomYAxis\";\r\nimport CustomTooltip from \"./CustomTooltip\";\r\nimport CustomLegend from \"./CustomLegend\";\r\nimport { StyledChart, Container, ChartTitle } from './Common';\r\nimport MathParser from \"../MathParser\";\r\n\r\nexport default Object.assign(\r\n  ({ usedData, data, chartConfig, ...props }) => {\r\n    const { xAxis, settings, yAxises } = chartConfig;\r\n    const {\r\n      showTitle,\r\n      title,\r\n      stopInteractive,\r\n      horizontalGrid,\r\n      verticalGrid,\r\n      showLegend,\r\n      xFormatter,\r\n      yFormatter,\r\n    } = settings;\r\n    const xAxisRanges = xAxis.useDefault\r\n    ? {\r\n      domainMin: 'dataMin',\r\n      domainMax: 'dataMax',\r\n    }\r\n    : (axisFun =>\r\n      axisFun(dataFromXAxis(data, xAxis.xKey), xAxis))(\r\n        isTimeChart(xAxis.xKey) ? dateTicks : chartRangesFromConfig,\r\n      );\r\n    const xAxisChoice = () => {\r\n      if(xAxis.useDefault) return ({...prop}) => <XAxis {...prop} />;\r\n        return isTimeChart(xAxis.xKey) ? CustomTimeAxis : CustomXAxis\r\n      }\r\n    \r\n    return (\r\n      <StyledChart>\r\n        {showTitle && (\r\n          <ChartTitle><MathParser>{title}</MathParser></ChartTitle>\r\n        )}\r\n        <Container showTitle={showTitle}>\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\" {...props}>\r\n            <ScatterChart>\r\n              {!stopInteractive && (\r\n                <Tooltip\r\n                  content={\r\n                    <CustomTooltip\r\n                      withTime={xAxis.withTime}\r\n                      xAxis={xAxis}\r\n                      xFormatter={xFormatter}\r\n                      yFormatter={yFormatter}\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n              {showLegend && (\r\n                CustomLegend()\r\n              )}\r\n              <CartesianGrid\r\n                strokeDasharray=\"5 5\"\r\n                horizontal={horizontalGrid}\r\n                vertical={!xAxisRanges.ticks ? verticalGrid : false}\r\n              />\r\n              {verticalGrid &&\r\n                xAxisRanges.ticks &&\r\n                xAxisRanges.ticks.map((x) => (\r\n                  <ReferenceLine\r\n                    key={`cartesian-x-${x}`}\r\n                    x={x}\r\n                    yAxisId={yAxises[0].id}\r\n                    strokeDasharray=\"5 5\"\r\n                  />\r\n                ))}\r\n              {(axisComp =>\r\n                axisComp({\r\n                  ...xAxis,\r\n                  dataKey: xAxis.xKey,\r\n                  hasLeft: hasLeftAxis(yAxises),\r\n                  hasRight: hasRightAxis(yAxises),\r\n                  ranges: xAxisRanges,\r\n                  ...(xFormatter && {tickFormatter: xFormatter}),\r\n                }))(xAxisChoice())\r\n              }\r\n              {// WONTFIX recharts ma problem z przeciazaniem komponentow\r\n                yAxises.map(yAxis =>\r\n                  CustomYAxis({\r\n                    ...yAxis,\r\n                    key: `yAxis-${yAxis.id}`,\r\n                    dataSpread: dataFromAxis(data, usedData, yAxis.id),\r\n                    ...(yFormatter && {tickFormatter: yFormatter}),\r\n                  }),\r\n                )}\r\n              {usedData.map(({ id, dataSource, descriptionId, showDescription, radius, ...used }) =>\r\n                    data.map((d, idx) => d[dataSource] ?\r\n                            CustomDot({\r\n                                ...used,\r\n                                x: d[xAxis.xKey],\r\n                                y: d[dataSource],\r\n                                r: radius,\r\n                                showDescription,\r\n                                description: d[descriptionId],\r\n                                key: `usedData-${id}-${idx}`,\r\n                                })\r\n                            : null))}\r\n            </ScatterChart>\r\n          </ResponsiveContainer>\r\n        </Container>\r\n      </StyledChart>\r\n    );\r\n  },\r\n  {\r\n    propTypes: {\r\n      chartConfig: PropTypes.shape(chartConfigType).isRequired,\r\n      usedData: PropTypes.arrayOf(PropTypes.shape(usedDataType)).isRequired,\r\n      data: PropTypes.arrayOf(PropTypes.any),\r\n    },\r\n  });\r\n\r\nconst CustomDot = ({\r\n  x,\r\n  y,\r\n  r,\r\n  description,\r\n  showDescription,\r\n  axis,\r\n  lineColor,\r\n  lineWidth,\r\n  ...props\r\n}) => (\r\n    <ReferenceDot\r\n      x={x}\r\n      y={y}\r\n      r={r}\r\n      label={showDescription ? description : undefined}\r\n      stroke={lineColor}\r\n      strokeWidth={lineWidth}\r\n      yAxisId={axis}\r\n      {...props}\r\n    />\r\n  );\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { formatNumber } from '../../../utils/formaters';\r\nimport ScatteredChart from '../../../components/Charts/ScatteredChart';\r\n\r\nconst exampleConfig = {\r\n    chartConfig: {\r\n      settings: {\r\n        stopAnimation: true,\r\n        stopInteractive: true,\r\n        title: \"\",\r\n        showTitle: false,\r\n        showLegend: false,\r\n        horizontalGrid: true,\r\n        verticalGrid: false,\r\n        stackData: true,\r\n        yFormatter: (e) => formatNumber(e, {position: -1}),\r\n      },\r\n      xAxis: {\r\n        xKey: \"temperature\",\r\n        description: \"Temperatura\",\r\n        showDescription: true,\r\n        color: \"#333\",\r\n        datesNumber: 3,\r\n        withTime: false,\r\n        rangeFrom: \"auto\",\r\n        rangeTo: \"auto\",\r\n        rangeSpan: \"auto\",\r\n      },\r\n      yAxises: [\r\n        {\r\n          id: \"0\",\r\n          color: \"#333\",\r\n          showAxis: true,\r\n          side: \"left\",\r\n          description: \"Zużycie ciepła\",\r\n          showDescription: true,\r\n          unit: \"kWh\",\r\n          rangeFrom: \"0\",\r\n          rangeTo: \"auto\",\r\n          rangeSpan: \"auto\",\r\n        },\r\n      ],\r\n    },\r\n    usedData: [\r\n      {\r\n        id: \"0\",\r\n        descriptionId: \"building\",\r\n        showDescription: true,\r\n        dataSource: \"dailyHeatConsumption\",\r\n        radius: 3,\r\n        axis: \"0\",\r\n        lineWidth: 2,\r\n        lineColor: \"#063951\",\r\n        unit: \"kWh\",\r\n      },\r\n    ],\r\n};\r\n\r\nconst exampleData = (len = 100) => Array(len).fill(0).map((e, i) => ({\r\n    temperature: -10 + 32 * Math.random(),\r\n    dailyHeatConsumption: 28 * Math.random() + 15,\r\n    building: `SP ${Math.floor(100 * Math.random() + 1)}`,\r\n}));\r\n\r\nexport default ({length}) => (\r\n  <StyledExample>\r\n      <ScatteredChart data={exampleData(length)} {...exampleConfig} />\r\n  </StyledExample>\r\n);\r\n\r\nconst StyledExample = styled.div`\r\n    height: 540px;\r\n    width: 900px;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport ChartHolder, { ChartHolderItem } from '../components/ChartHolder';\r\nimport reportConfig from './reportConfig';\r\nimport CustomChart from '../../../components/CustomChart';\r\nimport AreaExample from './AreaExample';\r\nimport ScatteredExample from './ScatteredExample';\r\n\r\nconst WrappedChart = ({chartSize, ...props}) =>\r\n    <ChartHolderItem size={chartSize}>\r\n        <CustomChart {...props} />\r\n    </ChartHolderItem>\r\n\r\nexport default ({loadedData}) => {\r\n\r\n    const passedChartConfig = (key) =>\r\n    ({\r\n        data: loadedData[key].data,\r\n        ...reportConfig[key](loadedData[key].data),\r\n    });\r\n\r\n    return (<StyledReport>\r\n        <div>\r\n            {\r\n                Array(12).fill(1).map((e, idx) =>\r\n                    <TestElement width={idx*100} key={idx} />,\r\n                )\r\n            }\r\n            <AreaExample />\r\n            <ChartHolder>\r\n                <WrappedChart {...passedChartConfig(\"dailyHeatConsumption\")}/>\r\n                <WrappedChart {...passedChartConfig(\"dailyElectricityConsumption\")}/>\r\n            </ChartHolder>\r\n            <ChartHolder>\r\n                <WrappedChart {...passedChartConfig(\"comparedConsumption\")}/>\r\n                <WrappedChart {...passedChartConfig(\"heatingCurve\")}/>\r\n                <WrappedChart {...passedChartConfig(\"energyUsageAreas\")}/>\r\n            </ChartHolder>\r\n            <ChartHolder>\r\n                <WrappedChart {...passedChartConfig(\"dailyOZEProduction\")}/>\r\n            </ChartHolder>\r\n            <ScatteredExample length={20} />\r\n        </div>\r\n    </StyledReport>);\r\n}\r\n\r\nconst TestElement = ({width}) =>\r\n    <div style={{\r\n        width,\r\n        height: '20px',\r\n        background: 'red',\r\n        margin: '10px 0',\r\n    }}>{width}</div>\r\n\r\nconst StyledReport = styled.div`\r\n    width: 880px;\r\n`;\r\n","import sleep from '../../../sleep';\r\n\r\n// importy z mocków\r\nconst report = require('./mocks/report.json');\r\n\r\n// Prawdopodobnie trzeba bedzie przeszlac jakis token, jeszcze nie wiem jak, jako argument?\r\n// Trzeba chyba będzie zrobić getem\r\nexport const getReportData = async (id) => {\r\n  await sleep(3000);\r\n  return {\r\n    status: 200,\r\n    data: report,\r\n  };\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport BuildingReport from './scenes/BuildingReport';\r\nimport { getReportData } from './services/api';\r\n\r\nexport default (props) => {\r\nconst {match: {params}} = props;\r\nconst {building, year, quarter} = params;\r\n\r\nconst [data, updateData] = useState();\r\n\r\nuseEffect(() => {\r\n    loadData(`${building}-${year}-${quarter}`);\r\n}, []);\r\n\r\nconst loadData = async (passedId) => {\r\n    const resp = await getReportData(passedId);\r\n    updateData(resp.data);\r\n}\r\nreturn (\r\n    data ?\r\n(<StyledReportsGenerator id=\"Result\">\r\n <BuildingReport loadedData={data} />\r\n </StyledReportsGenerator>)\r\n: null);\r\n\r\n}\r\n\r\nconst StyledReportsGenerator=styled.div`\r\n@media print {\r\n    @page {\r\n        margin: 2.5cm;\r\n        font-size: 12pt;\r\n    }\r\n}\r\n`;\r\n","import ReportsGenerator from './ReportsGenerator';\r\n\r\nexport default ReportsGenerator;\r\n","export const ALARM_TYPES = {\r\n  TEMPERATURE: 'Przekroczenie temperatury wewn.',\r\n  ELECTRIC_POWER: 'Przekroczenie mocy zmówionej en. elektrycznej',\r\n  HEAT_POWER: 'Przekroczenie mocy zamówionej ciepła',\r\n  HEAT_CURVE: 'Odchylenie od krzywej grzewczej',\r\n};\r\n","import sleep from '../../../sleep';\r\n\r\nimport { ALARM_TYPES } from './const';\r\n\r\nconst userAlarmsTable = [\r\n  {\r\n    key: '1',\r\n    building: 'PSP 17 Radom',\r\n    time: new Date(2019, 7, 12, 13, 45),\r\n    alarmType: ALARM_TYPES.TEMPERATURE,\r\n    value: 30,\r\n    treshold: 25,\r\n    offTime: new Date(2019, 7, 13, 13, 45),\r\n  },\r\n  {\r\n    key: '2',\r\n    building: 'PSP 17 Radom',\r\n    time: new Date(2019, 7, 6, 13, 45),\r\n    alarmType: ALARM_TYPES.ELECTRIC_POWER,\r\n    value: 420,\r\n    treshold: 290,\r\n    offTime: new Date(2019, 7, 8, 13, 45),\r\n  },\r\n  {\r\n    key: '3',\r\n    building: 'PSP 23 Radom',\r\n    time: new Date(2019, 7, 11, 13, 45),\r\n    alarmType: ALARM_TYPES.TEMPERATURE,\r\n    value: 32,\r\n    treshold: 25,\r\n    offTime: new Date(2019, 8, 12, 13, 45),\r\n  },\r\n];\r\n\r\nexport const getActiveAlarms = async () => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n    alarms: userAlarmsTable,\r\n  };\r\n};\r\n\r\nexport const getAlarmsHistory = async () => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n    history: userAlarmsTable,\r\n  };\r\n};\r\n","import sleep from '../../../sleep';\r\nimport { ALARM_TYPES } from './const';\r\n\r\nconst allUsersAlarmsHistory = [\r\n  {\r\n    key: '1',\r\n    user: 'Adam Gryz',\r\n    building: 'PSP 17 Radom',\r\n    time: new Date(2019, 7, 6, 13, 45),\r\n    alarmType: ALARM_TYPES.TEMPERATURE,\r\n    value: 30,\r\n    treshold: 25,\r\n    offTime: new Date(2019, 7, 6, 13, 45),\r\n  },\r\n  {\r\n    key: '2',\r\n    user: 'Adam Gryz',\r\n    building: 'PSP 23 Radom',\r\n    time: new Date(2019, 7, 6, 13, 45),\r\n    alarmType: ALARM_TYPES.ELECTRIC_POWER,\r\n    value: 420,\r\n    treshold: 290,\r\n    offTime: new Date(2019, 7, 6, 13, 45),\r\n  },\r\n  {\r\n    key: '3',\r\n    user: 'Mateusz Michalewski',\r\n    building: 'PSP 7 Lublin',\r\n    time: new Date(2019, 7, 6, 13, 45),\r\n    alarmType: ALARM_TYPES.HEAT_POWER,\r\n    value: 32,\r\n    treshold: 25,\r\n    offTime: new Date(2019, 7, 6, 13, 45),\r\n  },\r\n  {\r\n    key: '4',\r\n    user: 'Michał Dzidziewicz',\r\n    building: 'PSP 34 Warszawa',\r\n    time: new Date(2019, 7, 6, 13, 45),\r\n    alarmType: ALARM_TYPES.HEAT_CURVE,\r\n    value: 32,\r\n    treshold: 25,\r\n    offTime: new Date(2019, 7, 6, 13, 45),\r\n  },\r\n];\r\n\r\nexport const getAllUsersActiveAlarms = async () => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n    alarms: allUsersAlarmsHistory,\r\n  };\r\n};\r\n\r\nexport const getAllUsersAlarmsHistory = async () => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n    history: allUsersAlarmsHistory,\r\n  };\r\n};\r\n\r\nconst fakeSettings = [\r\n  {\r\n    name: ALARM_TYPES.TEMPERATURE,\r\n    unit: '°C',\r\n    treshold: 30,\r\n    isWatched: true,\r\n  },\r\n  {\r\n    name: ALARM_TYPES.ELECTRIC_POWER,\r\n    unit: 'kW',\r\n    treshold: 130,\r\n    isWatched: true,\r\n  },\r\n  {\r\n    name: ALARM_TYPES.HEAT_POWER,\r\n    unit: 'kW',\r\n    treshold: 320,\r\n    isWatched: true,\r\n  },\r\n  {\r\n    name: ALARM_TYPES.HEAT_CURVE,\r\n    unit: '%',\r\n    treshold: 20,\r\n    isWatched: true,\r\n  },\r\n];\r\n\r\nexport const getAllUsersAlarmsSettings = async () => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n    settings: fakeSettings,\r\n  };\r\n};\r\n\r\nexport const postChangeSettingTreshold = async (\r\n  userId,\r\n  buildingId,\r\n  name,\r\n  value,\r\n) => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n  };\r\n};\r\n\r\nexport const postToggleIsSettingWatched = async (\r\n  userId,\r\n  buildingId,\r\n  name,\r\n  value,\r\n) => {\r\n  await sleep(1000);\r\n  return {\r\n    status: 200,\r\n  };\r\n};\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport { AppContext } from '../../AppDataProvider';\r\n\r\nimport { getActiveAlarms, getAlarmsHistory } from './services/alarms';\r\nimport {\r\n  getAllUsersActiveAlarms,\r\n  getAllUsersAlarmsHistory,\r\n  getAllUsersAlarmsSettings,\r\n  postChangeSettingTreshold,\r\n  postToggleIsSettingWatched,\r\n} from './services/allUsersAlarms';\r\n\r\nconst AlarmsContext = React.createContext({});\r\n\r\nconst AdministrationDataProvider = ({ children }) => {\r\n  const { startAsyncTask, finishAsyncTask } = useContext(AppContext);\r\n\r\n  const [activeAlarms, setActiveAlarms] = useState([]);\r\n  const [alarmsHistory, setAlarmsHistory] = useState([]);\r\n  const [allUsersActiveAlarms, setAllUsersActiveAlarms] = useState([]);\r\n  const [allUsersAlarmsHistory, setAllUsersAlarmsHistory] = useState([]);\r\n  const [allUsersAlarmsSettings, setAllUsersAlarmsSettings] = useState([]);\r\n\r\n  async function fetchActiveAlarms() {\r\n    startAsyncTask();\r\n    const resp = await getActiveAlarms();\r\n    finishAsyncTask();\r\n    setActiveAlarms(resp.alarms);\r\n  }\r\n\r\n  async function fetchAlarmsHistory() {\r\n    startAsyncTask();\r\n    const resp = await getAlarmsHistory();\r\n    finishAsyncTask();\r\n    setAlarmsHistory(resp.history);\r\n  }\r\n\r\n  async function fetchAllUsersActiveAlarms() {\r\n    startAsyncTask();\r\n    const resp = await getAllUsersActiveAlarms();\r\n    finishAsyncTask();\r\n    setAllUsersActiveAlarms(resp.alarms);\r\n  }\r\n\r\n  async function fetchAllUsersAlarmsHistory() {\r\n    startAsyncTask();\r\n    const resp = await getAllUsersAlarmsHistory();\r\n    finishAsyncTask();\r\n    setAllUsersAlarmsHistory(resp.history);\r\n  }\r\n\r\n  async function fetchAllUsersAlarmsSettings() {\r\n    startAsyncTask();\r\n    const resp = await getAllUsersAlarmsSettings();\r\n    finishAsyncTask();\r\n    setAllUsersAlarmsSettings(resp.settings);\r\n  }\r\n\r\n  function toggleIsSettingWatched(userId, buildingId, name, value) {\r\n    postToggleIsSettingWatched(userId, buildingId, name, value);\r\n  }\r\n\r\n  function changeSettingTreshold(userId, buildingId, name, value) {\r\n    postChangeSettingTreshold(userId, buildingId, name, value);\r\n  }\r\n\r\n  const state = {\r\n    activeAlarms,\r\n    alarmsHistory,\r\n    allUsersActiveAlarms,\r\n    allUsersAlarmsHistory,\r\n    allUsersAlarmsSettings,\r\n\r\n    fetchActiveAlarms,\r\n    fetchAlarmsHistory,\r\n    fetchAllUsersActiveAlarms,\r\n    fetchAllUsersAlarmsHistory,\r\n    fetchAllUsersAlarmsSettings,\r\n\r\n    toggleIsSettingWatched,\r\n    changeSettingTreshold,\r\n  };\r\n\r\n  return (\r\n    <AlarmsContext.Provider value={state}>{children}</AlarmsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AlarmsContext };\r\nexport default AdministrationDataProvider;\r\n","import React from 'react';\r\nimport { Table, Button } from 'antd';\r\nimport { format } from 'date-fns';\r\n\r\nconst allBuildings = ['PSP 17 Radom', 'PSP 23 Radom'];\r\nconst allUsers = ['Mateusz Michalewski', 'Adam Gryz', 'Michał Dzidziewicz'];\r\n\r\nconst formatDate = date => format(date, 'HH:mm DD/MM/YYYY ');\r\n\r\nconst baseColumns = [\r\n  {\r\n    title: 'Budynek',\r\n    dataIndex: 'building',\r\n    filters: allBuildings.map(building => ({\r\n      text: building,\r\n      value: building,\r\n    })),\r\n    onFilter: (value, record) => record.building === value,\r\n  },\r\n  {\r\n    title: 'Data, godzina',\r\n    dataIndex: 'time',\r\n    defaultSortOrder: 'descend',\r\n    sorter: (a, b) => a.time - b.time,\r\n    render: date => formatDate(date),\r\n  },\r\n  {\r\n    title: 'Rodzaj alarmu',\r\n    dataIndex: 'alarmType',\r\n  },\r\n  {\r\n    title: 'Wskazanie',\r\n    dataIndex: 'value',\r\n  },\r\n  {\r\n    title: 'Próg',\r\n    dataIndex: 'treshold',\r\n  },\r\n];\r\n\r\nconst columnsWithUsers = [\r\n  {\r\n    title: 'Użytkownik',\r\n    dataIndex: 'user',\r\n    filters: allUsers.map(user => ({\r\n      text: user,\r\n      value: user,\r\n    })),\r\n    onFilter: (value, record) => record.user === value,\r\n  },\r\n  ...baseColumns,\r\n];\r\n\r\nconst historyColumns = [\r\n  {\r\n    title: 'Data wyłączenia',\r\n    dataIndex: 'offTime',\r\n    render: date => formatDate(date),\r\n  },\r\n];\r\n\r\nconst activeAlarmsColumns = [\r\n  {\r\n    title: 'Akcja',\r\n    dataIndex: 'id',\r\n    render: id => (\r\n      <Button type=\"danger\" onClick={() => alert(id)}>\r\n        WYŁĄCZ\r\n      </Button>\r\n    ),\r\n  },\r\n];\r\n\r\nconst AlarmsTable = ({ alarms, isAdmin, isHistory }) => {\r\n  const initial = isAdmin ? columnsWithUsers : baseColumns;\r\n  const columns = isHistory\r\n    ? [...initial, ...historyColumns]\r\n    : [...initial, ...activeAlarmsColumns];\r\n  return (\r\n    <Table\r\n      columns={columns}\r\n      dataSource={alarms}\r\n      style={{ margin: 20 }}\r\n      pagination={{ position: 'none' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AlarmsTable;\r\n","import React, { useState } from 'react';\r\nimport { Select, List, Switch, Input } from 'antd';\r\n\r\nconst { Option } = Select;\r\n\r\nconst AlarmsSettings = ({\r\n  settings,\r\n  allUsers,\r\n  allBuildings,\r\n  changeTreshold,\r\n  toggleIsWatched,\r\n}) => {\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedBuilding, setSelectedBuilding] = useState(null);\r\n\r\n  const handleUserChange = value => setSelectedUser(value);\r\n  const handleBuildingChange = value => setSelectedBuilding(value);\r\n\r\n  const userOptions = allUsers.map(user => (\r\n    <Option value={user} key={user}>\r\n      {user}\r\n    </Option>\r\n  ));\r\n  const buildingOptions = allBuildings.map(building => (\r\n    <Option value={building} key={building}>\r\n      {building}\r\n    </Option>\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Select\r\n          placeholder=\"Wybierz użytkownika\"\r\n          style={{ width: 350, margin: 20 }}\r\n          onChange={handleUserChange}\r\n        >\r\n          {userOptions}\r\n        </Select>\r\n        {selectedUser && (\r\n          <Select\r\n            placeholder=\"Wybierz budynek\"\r\n            style={{ width: 350 }}\r\n            onChange={handleBuildingChange}\r\n          >\r\n            {buildingOptions}\r\n          </Select>\r\n        )}\r\n      </div>\r\n      <div>\r\n        {selectedBuilding && (\r\n          <SettingsList\r\n            settings={settings}\r\n            changeTreshold={changeTreshold}\r\n            toggleIsWatched={toggleIsWatched}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SettingsList = ({ settings, changeTreshold, toggleIsWatched }) => {\r\n  return (\r\n    <List\r\n      style={{ margin: 20 }}\r\n      itemLayout=\"horizontal\"\r\n      dataSource={settings}\r\n      renderItem={setting => (\r\n        <List.Item\r\n          key={setting.name}\r\n          actions={[\r\n            <div style={{ display: 'flex' }}>\r\n              <Input\r\n                value={setting.treshold}\r\n                onChange={value => changeTreshold(value, setting.name)}\r\n              />\r\n              <div style={{ marginLeft: 10 }}>{setting.unit}</div>\r\n            </div>,\r\n            <Switch\r\n              checked={setting.isWatched}\r\n              onChange={value => toggleIsWatched(value, setting.name)}\r\n            />,\r\n          ]}\r\n        >\r\n          <List.Item.Meta title={setting.name} />\r\n        </List.Item>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AlarmsSettings;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\n\r\nimport { AlarmsContext } from '../AlarmsDataProvider';\r\nimport AlarmsTable from '../components/AlarmsTable';\r\nimport AlarmsSettings from './AlarmsSettings';\r\n\r\nconst AdminAlarms = () => {\r\n  const {\r\n    allUsersActiveAlarms,\r\n    allUsersAlarmsHistory,\r\n    allUsersAlarmsSettings,\r\n    fetchAllUsersActiveAlarms,\r\n    fetchAllUsersAlarmsHistory,\r\n    fetchAllUsersAlarmsSettings,\r\n    toggleIsSettingWatched,\r\n    changeSettingTreshold,\r\n  } = useContext(AlarmsContext);\r\n\r\n  useEffect(() => {\r\n    fetchAllUsersActiveAlarms();\r\n    fetchAllUsersAlarmsHistory();\r\n    fetchAllUsersAlarmsSettings();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Tabs>\r\n        <Tabs.TabPane tab=\"Aktywne alarmy użytkowników\" key=\"usersAlarms\">\r\n          <AlarmsTable alarms={allUsersActiveAlarms} isAdmin />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Historia alarmów użytkowników\" key=\"usersHistory\">\r\n          <AlarmsTable alarms={allUsersAlarmsHistory} isAdmin isHistory />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Ustawienia alarmów\" key=\"settings\">\r\n          <AlarmsSettings\r\n            settings={allUsersAlarmsSettings}\r\n            changeTreshol={changeSettingTreshold}\r\n            toggleIsWatched={toggleIsSettingWatched}\r\n            allUsers={['Adam', 'Michał', 'Mateusz']}\r\n            allBuildings={['PSP 17 Radom', 'PSP 34 Lublin']}\r\n          />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminAlarms;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\n\r\nimport { AlarmsContext } from '../AlarmsDataProvider';\r\nimport AlarmsTable from '../components/AlarmsTable';\r\n\r\nconst UserAlarms = () => {\r\n  const {\r\n    activeAlarms,\r\n    alarmsHistory,\r\n    fetchActiveAlarms,\r\n    fetchAlarmsHistory,\r\n  } = useContext(AlarmsContext);\r\n\r\n  useEffect(() => {\r\n    fetchActiveAlarms();\r\n    fetchAlarmsHistory();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Tabs>\r\n        <Tabs.TabPane tab=\"Aktwyne alarmy\" key=\"alarms\">\r\n          <AlarmsTable alarms={activeAlarms} />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Historia alarmów\" key=\"history\">\r\n          <AlarmsTable alarms={alarmsHistory} isHistory />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserAlarms;\r\n","import Alarms from './Alarms';\r\n\r\nexport default Alarms;\r\n","import React, { useContext } from 'react';\r\n\r\nimport { AppContext } from '../../AppDataProvider';\r\n\r\nimport AdminAlarms from './scenes/AdminAlarms';\r\nimport UserAlarms from './scenes/UserAlarms';\r\n\r\nconst Alarms = () => {\r\n  const { isAdmin } = useContext(AppContext);\r\n\r\n  return isAdmin ? <AdminAlarms /> : <UserAlarms />;\r\n};\r\n\r\nexport default Alarms;\r\n","import axios from 'axios';\r\n\r\nexport const getHookUps = async () => {\r\n  const resp = await axios.get('/HookUp');\r\n  return resp;\r\n};\r\nexport const postNewHookUp = async hookUp => {\r\n  await axios.post('/HookUp', hookUp);\r\n};\r\nexport const postHookUpUpdate = async hookUp => {\r\n  await axios.put(`/HookUp/${hookUp.id}`, hookUp);\r\n};\r\nexport const postHookUpRemoval = async hookUpId => {\r\n  await axios.delete(`/HookUp/${hookUpId}`, {});\r\n};\r\n\r\nexport const getInvoices = async () => {\r\n  const resp = await axios.get('/Invoice');\r\n  return resp;\r\n};\r\nexport const postNewInvoice = async invoice => {\r\n  await axios.post('/Invoice', invoice);\r\n};\r\nexport const postInvoiceUpdate = async invoice => {\r\n  await axios.put(`/Invoice/${invoice.id}`, invoice);\r\n};\r\nexport const postInvoiceRemoval = async invoiceId => {\r\n  await axios.delete(`/Invoice/${invoiceId}`, {});\r\n};\r\n","import React, { useState, useContext } from 'react';\r\n\r\nimport { AppContext } from '../../AppDataProvider';\r\nimport {\r\n  getBuildings,\r\n  postBuildingUpdate,\r\n} from '../Administration/services/api';\r\nimport {\r\n  getHookUps,\r\n  getInvoices,\r\n  postHookUpRemoval,\r\n  postHookUpUpdate,\r\n  postInvoiceRemoval,\r\n  postInvoiceUpdate,\r\n  postNewHookUp,\r\n  postNewInvoice,\r\n} from './services/api';\r\n\r\nconst DbContext = React.createContext({});\r\n\r\nconst DbDataProvider = ({ children }) => {\r\n  const { startAsyncTask, finishAsyncTask } = useContext(AppContext);\r\n\r\n  const [buildings, setBuildings] = useState([]);\r\n  const [hookUps, setHookUps] = useState([]);\r\n  const [invoices, setInvoices] = useState([]);\r\n\r\n  const getData = () => {\r\n    let data;\r\n    if (kind === 'Buildings') {\r\n      data = buildings;\r\n    } else if (kind === 'HookUps') {\r\n      data = hookUps;\r\n    } else {\r\n      data = invoices;\r\n    }\r\n    return data;\r\n  };\r\n  const getCurrentEntry = () => {\r\n    const data = getData();\r\n    const currentEntry = data.find(entry => entry.id === currentId);\r\n    return currentEntry;\r\n  };\r\n  const getIndexById = id => {\r\n    const data = getData();\r\n    const index = data.findIndex(entry => entry.id === id);\r\n    return index;\r\n  };\r\n\r\n  async function fetchBuildings() {\r\n    startAsyncTask();\r\n    const { data } = await getBuildings();\r\n    finishAsyncTask();\r\n    setBuildings(data);\r\n  }\r\n\r\n  async function fetchHookUps() {\r\n    startAsyncTask();\r\n    const { data } = await getHookUps();\r\n    finishAsyncTask();\r\n    setHookUps(data);\r\n  }\r\n\r\n  async function fetchInvoices() {\r\n    startAsyncTask();\r\n    const { data } = await getInvoices();\r\n    finishAsyncTask();\r\n    setInvoices(data);\r\n  }\r\n\r\n  // Buildings\r\n\r\n  function updateBuilding(updatedBuilding) {\r\n    postBuildingUpdate(updatedBuilding);\r\n    const newBuildings = [...buildings];\r\n    const updateIndex = getIndexById(updatedBuilding.id);\r\n    newBuildings[updateIndex] = updatedBuilding;\r\n    setBuildings(newBuildings);\r\n  }\r\n\r\n  // HookUps\r\n\r\n  function createHookUp(newHookUps) {\r\n    postNewHookUp({ ...newHookUps });\r\n    setHookUps([...hookUps, newHookUps]);\r\n  }\r\n  function updateHookUp(updatedHookUps) {\r\n    postHookUpUpdate(updatedHookUps);\r\n    const newHookUps = [...hookUps];\r\n    const updateIndex = getIndexById(updatedHookUps.id);\r\n    newHookUps[updateIndex] = updatedHookUps;\r\n    setHookUps(newHookUps);\r\n  }\r\n  function deleteHookUp(userToDelete) {\r\n    postHookUpRemoval(userToDelete.id);\r\n    const newHookUpss = [...hookUps];\r\n    const deleteIndex = getIndexById(userToDelete.id);\r\n    newHookUpss.splice(deleteIndex, 1);\r\n    setHookUps(newHookUpss);\r\n  }\r\n\r\n  function createInvoice(newInvoices) {\r\n    postNewInvoice({ ...newInvoices });\r\n    setInvoices([...invoices, newInvoices]);\r\n  }\r\n  function updateInvoice(updatedInvoices) {\r\n    postInvoiceUpdate(updatedInvoices);\r\n    const newInvoicess = [...invoices];\r\n    const updateIndex = getIndexById(updatedInvoices.id);\r\n    newInvoicess[updateIndex] = updatedInvoices;\r\n    setInvoices(newInvoicess);\r\n  }\r\n  function deleteInvoice(userToDelete) {\r\n    postInvoiceRemoval(userToDelete.id);\r\n    const newInvoices = [...invoices];\r\n    const deleteIndex = getIndexById(userToDelete.id);\r\n    newInvoices.splice(deleteIndex, 1);\r\n    setInvoices(newInvoices);\r\n  }\r\n\r\n  //  createHookUp,\r\n  //  updateHookUp,\r\n  //  deleteHookUp,\r\n  //  // Invoices\r\n  //  createInvoice,\r\n  //  updateInvoice,\r\n  //  deleteInvoice,\r\n\r\n  // COMMMON\r\n\r\n  const [currentId, setCurrentId] = useState(undefined);\r\n  const [mode, setMode] = useState(undefined);\r\n  const [kind, setKind] = useState(undefined);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const state = {\r\n    buildings,\r\n    hookUps,\r\n    invoices,\r\n\r\n    fetchBuildings,\r\n    fetchHookUps,\r\n    fetchInvoices,\r\n\r\n    // Buildings\r\n    updateBuilding,\r\n    // HookUps\r\n    createHookUp,\r\n    updateHookUp,\r\n    deleteHookUp,\r\n    // Invoices\r\n    createInvoice,\r\n    updateInvoice,\r\n    deleteInvoice,\r\n    mode,\r\n    setMode,\r\n    kind,\r\n    setKind,\r\n    currentConfig: `${mode}${kind}`,\r\n\r\n    setCurrentId,\r\n    currentEntry: getCurrentEntry(),\r\n\r\n    isModalVisible,\r\n    setIsModalVisible,\r\n  };\r\n\r\n  return <DbContext.Provider value={state}>{children}</DbContext.Provider>;\r\n};\r\n\r\nexport { DbContext };\r\nexport default DbDataProvider;\r\n","import React, { useContext } from 'react';\r\n\r\nimport CrudList from '../../../../components/CRUDs/CrudList';\r\nimport { DbContext } from '../../DbDataProvider';\r\n\r\nconst BuildingsList = () => {\r\n  const {\r\n    setCurrentId,\r\n    buildings,\r\n    setMode,\r\n    setKind,\r\n    setIsModalVisible,\r\n  } = useContext(DbContext);\r\n\r\n  const showBuildingsModal = id => {\r\n    setIsModalVisible(true);\r\n    setCurrentId(id);\r\n    setKind('Buildings');\r\n  };\r\n\r\n  const handleReadBuilding = id => {\r\n    showBuildingsModal(id);\r\n    setMode('read');\r\n  };\r\n\r\n  const handleUpdateBuilding = id => {\r\n    showBuildingsModal(id);\r\n    setMode('update');\r\n  };\r\n\r\n  return (\r\n    <CrudList\r\n      items={buildings.map(building => ({\r\n        name: building.fullName,\r\n        description: `${building.street}, ${building.city}`,\r\n        id: building.id,\r\n      }))}\r\n      onRead={handleReadBuilding}\r\n      onUpdate={handleUpdateBuilding}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BuildingsList;\r\n","import React, { useContext } from 'react';\r\n\r\nimport { AppContext } from '../../../../AppDataProvider';\r\nimport CrudList from '../../../../components/CRUDs/CrudList';\r\nimport { DbContext } from '../../DbDataProvider';\r\n\r\nconst HookUpsList = () => {\r\n  const {\r\n    hookUps,\r\n    setCurrentId,\r\n    setMode,\r\n    setKind,\r\n    setIsModalVisible,\r\n  } = useContext(DbContext);\r\n\r\n  const { enums } = useContext(AppContext);\r\n\r\n  const showHookUpsModal = id => {\r\n    setIsModalVisible(true);\r\n    setCurrentId(id);\r\n    setKind('HookUps');\r\n  };\r\n\r\n  const handleCreateHookUp = () => {\r\n    showHookUpsModal();\r\n    setMode('create');\r\n  };\r\n\r\n  const handleReadHookUp = id => {\r\n    showHookUpsModal(id);\r\n    setMode('read');\r\n  };\r\n\r\n  const handleUpdateHookUp = id => {\r\n    showHookUpsModal(id);\r\n    setMode('update');\r\n  };\r\n\r\n  const handleDeleteHookUp = id => {\r\n    showHookUpsModal(id);\r\n    setMode('delete');\r\n  };\r\n\r\n  return (\r\n    <CrudList\r\n      items={hookUps.map(hookUp => ({\r\n        name: hookUp.name,\r\n        description: `${enums.hookUpTypes[hookUp.type].name}, nr ${hookUp.number}`,\r\n        id: hookUp.id,\r\n      }))}\r\n      addText=\"Dodaj przyłącze\"\r\n      onCreate={handleCreateHookUp}\r\n      onRead={handleReadHookUp}\r\n      onUpdate={handleUpdateHookUp}\r\n      onDelete={handleDeleteHookUp}\r\n    />\r\n  );\r\n};\r\n\r\nexport default HookUpsList;\r\n","import React, { useContext } from 'react';\r\n\r\nimport CrudList from '../../../../components/CRUDs/CrudList';\r\nimport { DbContext } from '../../DbDataProvider';\r\n\r\nconst InvoicesList = () => {\r\n  const {\r\n    invoices,\r\n    setCurrentId,\r\n    setMode,\r\n    setKind,\r\n    setIsModalVisible,\r\n  } = useContext(DbContext);\r\n\r\n  const showInvoicesModal = id => {\r\n    setIsModalVisible(true);\r\n    setCurrentId(id);\r\n    setKind('Invoices');\r\n  };\r\n\r\n  const handleCreateInvoice = () => {\r\n    showInvoicesModal();\r\n    setMode('create');\r\n  };\r\n\r\n  const handleReadInvoice = id => {\r\n    showInvoicesModal(id);\r\n    setMode('read');\r\n  };\r\n\r\n  const handleUpdateInvoice = id => {\r\n    showInvoicesModal(id);\r\n    setMode('update');\r\n  };\r\n\r\n  const handleDeleteInvoice = id => {\r\n    showInvoicesModal(id);\r\n    setMode('delete');\r\n  };\r\n\r\n  return (\r\n    <CrudList\r\n      items={invoices.map(invoice => ({\r\n        name: `Faktura ${new Date(invoice.month).getMonth() + 1}-${new Date(\r\n          invoice.month,\r\n        ).getFullYear()}`,\r\n        description: `Zużycie ${invoice.monthlyUsage}`,\r\n        id: invoice.id,\r\n      }))}\r\n      addText=\"Dodaj fakturę\"\r\n      onCreate={handleCreateInvoice}\r\n      onRead={handleReadInvoice}\r\n      onUpdate={handleUpdateInvoice}\r\n      onDelete={handleDeleteInvoice}\r\n    />\r\n  );\r\n};\r\n\r\nexport default InvoicesList;\r\n","import React, { useState } from 'react';\r\nimport { Button, Select, DatePicker } from 'antd';\r\n\r\nconst { Option } = Select;\r\nconst { MonthPicker } = DatePicker;\r\n\r\nconst DataExport = ({ buildings, buildingsDatas, invoices }) => {\r\n  const [buildingsIds, setBuildingsIds] = useState([]);\r\n  const handleBuildingSelect = values => setBuildingsIds(values);\r\n  const buildingOptions = buildings.map(building => (\r\n    <Option key={building.id}>{building.name}</Option>\r\n  ));\r\n\r\n  const buildingDataOptions = buildingsDatas.map(data => (\r\n    <Option key={data.id}>{data.label}</Option>\r\n  ));\r\n\r\n  const invoiceOptions = invoices.map(invoice => (\r\n    <Option key={invoice.id}>{invoice.label}</Option>\r\n  ));\r\n\r\n  const [startDate, setStartDate] = useState();\r\n  const [endDate, setEndDate] = useState();\r\n  const handleStartMonthSelect = value => setStartDate(value);\r\n  const handleEndMonthSelect = value => setEndDate(value);\r\n  const disabledStartDate = newStartDate => {\r\n    if (!newStartDate || !endDate) {\r\n      return false;\r\n    }\r\n    return newStartDate.valueOf() > endDate.valueOf();\r\n  };\r\n  const disabledEndDate = newEndDate => {\r\n    if (!newEndDate || !startDate) {\r\n      return false;\r\n    }\r\n    return newEndDate.valueOf() <= startDate.valueOf();\r\n  };\r\n\r\n  const isFormValid = buildingsIds.length > 0 && startDate && endDate;\r\n  console.log(invoices, buildingsDatas, 'xd');\r\n  const handleExport = () => {\r\n    console.log({\r\n      buildingsIds,\r\n      startDate: startDate.toISOString(),\r\n      endDate: endDate.toISOString(),\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Select\r\n          mode=\"multiple\"\r\n          style={{ width: 500, margin: 15 }}\r\n          placeholder=\"Wybierz budynek (budynki)\"\r\n          onChange={handleBuildingSelect}\r\n        >\r\n          {buildingOptions}\r\n        </Select>\r\n      </div>\r\n      <div>\r\n        <Select\r\n          style={{ width: 500, margin: 15 }}\r\n          mode=\"multiple\"\r\n          placeholder=\"Wybierz dane o budynakch\"\r\n        >\r\n          {buildingDataOptions}\r\n        </Select>\r\n      </div>\r\n      <div>\r\n        <Select\r\n          style={{ width: 500, margin: 15 }}\r\n          mode=\"multiple\"\r\n          placeholder=\"Wybierz fakturę (faktury)\"\r\n        >\r\n          {invoiceOptions}\r\n        </Select>\r\n      </div>\r\n      <div>\r\n        <MonthPicker\r\n          disabledDate={disabledStartDate}\r\n          value={startDate}\r\n          onChange={handleStartMonthSelect}\r\n          style={{ margin: 15 }}\r\n          format=\"MM-YYYY\"\r\n          placeholder=\"Początkowy miesiąc\"\r\n        />\r\n        <MonthPicker\r\n          disabledDate={disabledEndDate}\r\n          value={endDate}\r\n          onChange={handleEndMonthSelect}\r\n          style={{ margin: 15 }}\r\n          format=\"MM-YYYY\"\r\n          placeholder=\"Końcowy miesiąc\"\r\n        />\r\n      </div>\r\n      <Button type=\"primary\" onClick={handleExport} disabled={!isFormValid}>\r\n        Eksportuj\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataExport;\r\n","import React from 'react';\r\nimport { Form, InputNumber, Tag } from 'antd';\r\n\r\nconst NumberField = ({ name, label, formData, onChange, editable }) => {\r\n  return (\r\n    <Form.Item {...formItemLayout} label={label}>\r\n      <CrudInputNumber\r\n        value={formData[name]}\r\n        onChange={e => onChange(name, e)}\r\n        editable={editable}\r\n      />\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nconst CrudInputNumber = ({ value, onChange, editable, ...rest }) => {\r\n  return editable ? (\r\n    <InputNumber value={value} onChange={onChange} {...rest} />\r\n  ) : (\r\n    <Tag style={{ pointerEvents: 'none', width: '100%' }} {...rest}>\r\n      {value || 'brak'}\r\n    </Tag>\r\n  );\r\n};\r\n\r\nexport const formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 8 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 16 },\r\n  },\r\n};\r\n\r\nexport default NumberField;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Button, Checkbox, Tabs } from 'antd';\r\n\r\nimport TextField from '../../../../components/CRUDs/TextField';\r\nimport NumberField from '../../../../components/CRUDs/NumberField';\r\nimport SelectField from '../../../../components/CRUDs/SelectField';\r\n\r\nimport { AppContext } from '../../../../AppDataProvider';\r\nimport { AdministrationContext } from '../../../Administration/AdministrationDataProvider';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst BuildingForm = ({\r\n  editable,\r\n  initialState,\r\n  actionLabel,\r\n  onCancel,\r\n  onAction,\r\n  removeMode = false,\r\n}) => {\r\n  const data = initialState || {\r\n    // Admin\r\n    fullName: '',\r\n    shortName: '',\r\n    street: '',\r\n    city: '',\r\n    postalCode: '',\r\n    postOffice: '',\r\n    hasMetersInstalled: true,\r\n    category: 1,\r\n    userId: 0,\r\n    // User\r\n    yearOfConstruction: 0,\r\n    modernisationDescription: '',\r\n    hasThermostaticValves: true,\r\n    area: 0,\r\n    cubature: 0,\r\n    mainElectricityHookUpPower: 0,\r\n    mainHeatHookUpPower: 0,\r\n    coolingType: 1,\r\n    lightingType: 1,\r\n    ventilationType: 1,\r\n    heatingSourceType: 1,\r\n    heatingEnergyCarrierType: 1,\r\n    renewableEnergySourceType: 1,\r\n    domesticHotWaterSourceType: 1,\r\n  };\r\n\r\n  const { enums } = useContext(AppContext);\r\n  const { users } = useContext(AdministrationContext);\r\n\r\n  const [formData, setFormData] = useState(data);\r\n\r\n  const onChange = (fieldName, e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleAction = () => {\r\n    onAction(formData);\r\n    onCancel();\r\n  };\r\n\r\n  const adminProps = { editable: false, formData };\r\n  const adminTab = (\r\n    <>\r\n      <TextField {...adminProps} name=\"fullName\" label=\"Pełna Nazwa\" />\r\n      <TextField {...adminProps} name=\"shortName\" label=\"Skrót\" />\r\n      <TextField {...adminProps} name=\"street\" label=\"Ulica\" />\r\n      <TextField {...adminProps} name=\"city\" label=\"Miejscowość\" />\r\n      <TextField {...adminProps} name=\"postalCode\" label=\"Kod pocztowy\" />\r\n      <TextField {...adminProps} name=\"postOffice\" label=\"Poczta\" />\r\n      <Checkbox checked={formData.hasMetersInstalled} disabled={false}>\r\n        Budynek opomiarowany\r\n      </Checkbox>\r\n      <SelectField\r\n        disabled\r\n        value={formData.category}\r\n        items={enums.buildingTypes}\r\n      />\r\n      <SelectField disabled value={formData.userId} items={users} />\r\n    </>\r\n  );\r\n\r\n  const handleValvesCheck = e =>\r\n    setFormData({\r\n      ...formData,\r\n      hasThermostaticValves: e.target.checked,\r\n    });\r\n\r\n  const onSelect = (fieldName, value) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: value,\r\n    });\r\n  };\r\n\r\n  const userProps = { editable, onChange: onSelect, formData };\r\n\r\n  const userTab = (\r\n    <div style={{ height: 500, overflowY: 'scroll' }}>\r\n      <NumberField\r\n        {...userProps}\r\n        name=\"yearOfConstruction\"\r\n        label=\"Rok budowy\"\r\n      />\r\n      <TextField\r\n        {...userProps}\r\n        onChange={onChange}\r\n        name=\"modernisationDescription\"\r\n        label=\"Opis modernizacji\"\r\n      />\r\n      <Checkbox\r\n        checked={formData.hasThermostaticValves}\r\n        disabled={!editable}\r\n        onChange={handleValvesCheck}\r\n      >\r\n        Posiada zawory termostatyczne\r\n      </Checkbox>\r\n      <NumberField {...userProps} name=\"area\" label=\"Powierzchnia\" />\r\n      <NumberField {...userProps} name=\"cubature\" label=\"Kubatura\" />\r\n      <NumberField\r\n        {...userProps}\r\n        name=\"mainElectricityHookUpPower\"\r\n        label=\"Moc głównego przyłącza elektrycznego\"\r\n      />\r\n      <NumberField\r\n        {...userProps}\r\n        name=\"mainHeatHookUpPower\"\r\n        label=\"Moc głównego przyłącza cieplnego\"\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ chłodzenia\"\r\n        onChange={v => onSelect('coolingType', v)}\r\n        disabled={!editable}\r\n        value={formData.coolingType}\r\n        items={enums.coolingTypes}\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ oświetlenia\"\r\n        onChange={v => onSelect('lightingType', v)}\r\n        disabled={!editable}\r\n        value={formData.lightingType}\r\n        items={enums.lightingTypes}\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ wentylacji\"\r\n        onChange={v => onSelect('ventilationType', v)}\r\n        disabled={!editable}\r\n        value={formData.ventilationType}\r\n        items={enums.ventilationTypes}\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ źródła ciepła\"\r\n        onChange={v => onSelect('heatingSourceType', v)}\r\n        disabled={!editable}\r\n        value={formData.heatingSourceType}\r\n        items={enums.heatingSourceTypes}\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ nośnika energii cieplnej\"\r\n        onChange={v => onSelect('heatingEnergyCarrierType', v)}\r\n        disabled={!editable}\r\n        value={formData.heatingEnergyCarrierType}\r\n        items={enums.heatingEnergyCarrierTypes}\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ odnawialnego źródła energii\"\r\n        onChange={v => onSelect('renewableEnergySourceType', v)}\r\n        disabled={!editable}\r\n        value={formData.renewableEnergySourceType}\r\n        items={enums.renewableEnergySourceTypes}\r\n      />\r\n      <SelectField\r\n        placeholder=\"Wybierz typ źródła ciepłej wody\"\r\n        onChange={v => onSelect('domesticHotWaterSourceType', v)}\r\n        disabled={!editable}\r\n        value={formData.domesticHotWaterSourceType}\r\n        items={enums.domesticHotWaterSourceTypes}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {removeMode ? (\r\n        <div>Czy na pewno chcesz usunąć budynek ? </div>\r\n      ) : (\r\n        <Tabs defaultActiveKey=\"userData\">\r\n          <TabPane tab=\"Dane admnistratora\" key=\"adminData\">\r\n            {adminTab}\r\n          </TabPane>\r\n          <TabPane tab=\"Dane użytkownika\" key=\"userData\">\r\n            {userTab}\r\n          </TabPane>\r\n        </Tabs>\r\n      )}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          marginTop: '20px',\r\n          padding: '0 30px',\r\n        }}\r\n      >\r\n        <Button onClick={onCancel}>Anuluj</Button>\r\n        <Button type=\"primary\" onClick={handleAction}>\r\n          {actionLabel}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BuildingForm;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Button } from 'antd';\r\n\r\nimport TextField from '../../../../components/CRUDs/TextField';\r\nimport NumberField from '../../../../components/CRUDs/NumberField';\r\nimport SelectField from '../../../../components/CRUDs/SelectField';\r\nimport { AppContext } from '../../../../AppDataProvider';\r\nimport { DbContext } from '../../DbDataProvider';\r\n\r\nconst HookUpForm = ({\r\n  editable,\r\n  initialState,\r\n  actionLabel,\r\n  onCancel,\r\n  onAction,\r\n  removeMode = false,\r\n}) => {\r\n  const data = initialState || {\r\n    name: '',\r\n    number: '',\r\n    tariff: '',\r\n    orderedPower: 0,\r\n    type: 1,\r\n    buildingId: 0,\r\n  };\r\n\r\n  const [formData, setFormData] = useState(data);\r\n\r\n  const { enums } = useContext(AppContext);\r\n  const { buildings } = useContext(DbContext);\r\n\r\n  const onChange = (fieldName, e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onChangeValue = (fieldName, value) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: value,\r\n    });\r\n  };\r\n\r\n  const handleAction = () => {\r\n    onAction(formData);\r\n    onCancel();\r\n  };\r\n\r\n  const textProps = { editable, onChange, formData };\r\n  return (\r\n    <div>\r\n      {removeMode ? (\r\n        <div>Czy na pewno chcesz usunąć przyłącze ? </div>\r\n      ) : (\r\n        <>\r\n          <TextField {...textProps} name=\"name\" label=\"Nazwa\" />\r\n          <TextField {...textProps} name=\"number\" label=\"Numer\" />\r\n          <TextField {...textProps} name=\"tariff\" label=\"Taryfa\" />\r\n          <NumberField\r\n            editable={editable}\r\n            onChange={onChangeValue}\r\n            formData={formData}\r\n            name=\"orderedPower\"\r\n            label=\"Moc zamówiona\"\r\n          />\r\n          <SelectField\r\n            placeholder=\"Wybierz typ przyłącza\"\r\n            onChange={v => onChangeValue('type', v)}\r\n            disabled={!editable}\r\n            value={formData.type}\r\n            items={enums.hookUpTypes}\r\n          />\r\n          <SelectField\r\n            placeholder=\"Wybierz budynek\"\r\n            onChange={v => onChangeValue('buildingId', v)}\r\n            disabled={!editable}\r\n            value={formData.buildingId}\r\n            items={buildings}\r\n            label=\"fullName\"\r\n          />\r\n        </>\r\n      )}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          marginTop: '20px',\r\n          padding: '0 30px',\r\n        }}\r\n      >\r\n        <Button onClick={onCancel}>Anuluj</Button>\r\n        <Button type=\"primary\" onClick={handleAction}>\r\n          {actionLabel}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HookUpForm;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Button, DatePicker } from 'antd';\r\n\r\nimport NumberField from '../../../../components/CRUDs/NumberField';\r\nimport SelectField from '../../../../components/CRUDs/SelectField';\r\nimport { DbContext } from '../../DbDataProvider';\r\n\r\nconst { MonthPicker } = DatePicker;\r\n\r\nconst InvoiceForm = ({\r\n  editable,\r\n  initialState,\r\n  actionLabel,\r\n  onCancel,\r\n  onAction,\r\n  removeMode = false,\r\n}) => {\r\n  const data = initialState || {\r\n    month: null,\r\n    monthlyUsage: 0,\r\n    hookUpId: undefined,\r\n  };\r\n\r\n  const [formData, setFormData] = useState(data);\r\n  const { hookUps } = useContext(DbContext);\r\n\r\n  const onChange = (fieldName, value) => {\r\n    setFormData({\r\n      ...formData,\r\n      [fieldName]: value,\r\n    });\r\n  };\r\n\r\n  const handleAction = () => {\r\n    onAction({\r\n      ...formData,\r\n      month: formData.month.format(),\r\n    });\r\n    onCancel();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {removeMode ? (\r\n        <div>Czy na pewno chcesz usunąć fakturę ? </div>\r\n      ) : (\r\n        <>\r\n          <MonthPicker\r\n            style={{ margin: 15 }}\r\n            format=\"MM-YYYY\"\r\n            value={formData.month}\r\n            onChange={v => onChange('month', v)}\r\n            placeholder=\"Wybierz miesiąc\"\r\n          />\r\n          <NumberField\r\n            editable={editable}\r\n            onChange={onChange}\r\n            formData={formData}\r\n            name=\"monthlyUsage\"\r\n            label=\"Zużycie\"\r\n          />\r\n          <SelectField\r\n            placeholder=\"Wybierz przyłącze\"\r\n            onChange={v => onChange('hookUpId', v)}\r\n            disabled={!editable}\r\n            value={formData.hookUpId}\r\n            items={hookUps}\r\n          />\r\n        </>\r\n      )}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-between',\r\n          marginTop: '20px',\r\n          padding: '0 30px',\r\n        }}\r\n      >\r\n        <Button onClick={onCancel}>Anuluj</Button>\r\n        <Button type=\"primary\" onClick={handleAction}>\r\n          {actionLabel}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoiceForm;\r\n","import React, { useContext } from 'react';\r\nimport { Modal } from 'antd';\r\n\r\nimport { DbContext } from '../DbDataProvider';\r\nimport BuildingForm from './Buildings/BuildingForm';\r\nimport HookUpForm from './HookUps/HookUpForm';\r\nimport InvoiceForm from './Invoices/InvoiceForm';\r\n\r\nconst CommonModal = () => {\r\n  const {\r\n    // Buildings\r\n    updateBuilding,\r\n    // HookUps\r\n    createHookUp,\r\n    updateHookUp,\r\n    deleteHookUp,\r\n    // Invoices\r\n    createInvoice,\r\n    updateInvoice,\r\n    deleteInvoice,\r\n    // Rest\r\n    currentEntry,\r\n    setMode,\r\n    setKind,\r\n    currentConfig,\r\n    setIsModalVisible,\r\n    isModalVisible,\r\n  } = useContext(DbContext);\r\n\r\n  const closeModal = () => {\r\n    setIsModalVisible(false);\r\n    setMode(undefined);\r\n    setKind(undefined);\r\n  };\r\n\r\n  const buildingModalConfigs = {\r\n    readBuildings: {\r\n      header: 'Szczegoły Obiektu',\r\n      component: () => (\r\n        <BuildingForm\r\n          actionLabel=\"Ok\"\r\n          initialState={currentEntry}\r\n          onAction={closeModal}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    updateBuildings: {\r\n      header: 'Edytuj Obiekt',\r\n      component: () => (\r\n        <BuildingForm\r\n          editable\r\n          actionLabel=\"Zapisz\"\r\n          initialState={currentEntry}\r\n          onAction={updateBuilding}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n      actionLabel: 'Zapisz',\r\n    },\r\n  };\r\n\r\n  const hookUpModalConfigs = {\r\n    createHookUps: {\r\n      header: 'Nowe przyłącze',\r\n      component: () => (\r\n        <HookUpForm\r\n          editable\r\n          actionLabel=\"Stwórz\"\r\n          onAction={createHookUp}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    readHookUps: {\r\n      header: 'Szczegoły Przyłącza',\r\n      component: () => (\r\n        <HookUpForm\r\n          actionLabel=\"Ok\"\r\n          initialState={currentEntry}\r\n          onAction={closeModal}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    updateHookUps: {\r\n      header: 'Edytuj Przyłącze',\r\n      component: () => (\r\n        <HookUpForm\r\n          editable\r\n          actionLabel=\"Zapisz\"\r\n          initialState={currentEntry}\r\n          onAction={updateHookUp}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n      actionLabel: 'Zapisz',\r\n    },\r\n    deleteHookUps: {\r\n      header: 'Usuń Przyłącze',\r\n      component: () => (\r\n        <HookUpForm\r\n          removeMode\r\n          actionLabel=\"Usuń\"\r\n          initialState={currentEntry}\r\n          onAction={deleteHookUp}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n  };\r\n\r\n  const invoiceModalConfigs = {\r\n    createInvoices: {\r\n      header: 'Nowa faktura',\r\n      component: () => (\r\n        <InvoiceForm\r\n          editable\r\n          actionLabel=\"Stwórz\"\r\n          onAction={createInvoice}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    readInvoices: {\r\n      header: 'Szczegoły Faktury',\r\n      component: () => (\r\n        <InvoiceForm\r\n          actionLabel=\"Ok\"\r\n          initialState={currentEntry}\r\n          onAction={closeModal}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n    updateInvoices: {\r\n      header: 'Edytuj Fakturę',\r\n      component: () => (\r\n        <InvoiceForm\r\n          editable\r\n          actionLabel=\"Zapisz\"\r\n          initialState={currentEntry}\r\n          onAction={updateInvoice}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n      actionLabel: 'Zapisz',\r\n    },\r\n    deleteInvoices: {\r\n      header: 'Usuń Fakturę',\r\n      component: () => (\r\n        <InvoiceForm\r\n          removeMode\r\n          actionLabel=\"Usuń\"\r\n          initialState={currentEntry}\r\n          onAction={deleteInvoice}\r\n          onCancel={closeModal}\r\n        />\r\n      ),\r\n    },\r\n  };\r\n  const modalConfigs = {\r\n    ...buildingModalConfigs,\r\n    ...hookUpModalConfigs,\r\n    ...invoiceModalConfigs,\r\n  };\r\n\r\n  const currentModalConfig = modalConfigs[currentConfig];\r\n  const ModalComponent = currentModalConfig\r\n    ? currentModalConfig.component\r\n    : null;\r\n\r\n  return currentModalConfig ? (\r\n    <Modal\r\n      title={currentModalConfig.header}\r\n      visible={isModalVisible}\r\n      footer={null}\r\n      onCancel={closeModal}\r\n      cancelText=\"Anuluj\"\r\n    >\r\n      <ModalComponent />\r\n    </Modal>\r\n  ) : null;\r\n};\r\n\r\nexport default CommonModal;\r\n","import Db from './Db';\r\n\r\nexport default Db;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { Tabs } from 'antd';\r\n\r\nimport { DbContext } from './DbDataProvider';\r\n\r\nimport BuildingsList from './scenes/Buildings/BuildingsList';\r\nimport HookUpsList from './scenes/HookUps/HookUpsList';\r\nimport InvoicesList from './scenes/Invoices/InvoicesList';\r\nimport DataExport from './scenes/DataExport/DataExport';\r\nimport CommonModal from './scenes/CommonModal';\r\n\r\nconst Db = () => {\r\n  const { fetchBuildings, fetchHookUps, fetchInvoices } = useContext(DbContext);\r\n\r\n  useEffect(() => {\r\n    fetchBuildings();\r\n  }, []);\r\n  useEffect(() => {\r\n    fetchHookUps();\r\n  }, []);\r\n  useEffect(() => {\r\n    fetchInvoices();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <Tabs defaultActiveKey=\"buildings\">\r\n        <Tabs.TabPane tab=\"Budynki\" key=\"buildings\">\r\n          <BuildingsList />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Przyłącza\" key=\"hookUps\">\r\n          <HookUpsList />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Faktury\" key=\"invoices\">\r\n          <InvoicesList />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"Eksport Danych\" key=\"dataExport\">\r\n          <DataExport\r\n            buildings={[{ id: 1, name: 'Szkoła' }, { id: 2, name: 'Szpital' }]}\r\n            buildingsDatas={[\r\n              { id: 11, name: 'Powierzchnia' },\r\n              { id: 12, name: 'Rok budowy' },\r\n            ]}\r\n            invoices={[{ id: 21, name: 'Prąd' }, { id: 22, name: 'Woda' }]}\r\n          />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n      <CommonModal />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Db;\r\n","/* eslint-disable camelcase */\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { LocaleProvider } from 'antd';\r\nimport pl_PL from 'antd/lib/locale-provider/pl_PL';\r\nimport moment from 'moment';\r\nimport 'moment/locale/pl';\r\nimport { Route, Switch, Redirect } from 'react-router';\r\n\r\nimport {\r\n  AdministrationRoute,\r\n  AlarmsRoute,\r\n  DashboardRoute,\r\n  DataAnalyticsRoute,\r\n  SignInRoute,\r\n  ReportsGeneratorRoute,\r\n  ReportsRoute,\r\n  DbRoute,\r\n} from './Routes';\r\n\r\nimport Layout from './components/Layout';\r\nimport Authentication from './components/Authentication';\r\nimport MainLoading from './components/MainLoading';\r\nimport AppDataProvider from './AppDataProvider';\r\n\r\nimport SignIn from './scenes/SignIn/SignIn';\r\nimport Administration from './scenes/Administration';\r\nimport AdministrationDataProvider from './scenes/Administration/AdministrationDataProvider';\r\nimport Analysis from './scenes/Analysis';\r\nimport AnalysisDataProvider from './scenes/Analysis/AnalysisDataProvider';\r\nimport Dashboard from './scenes/Dashboard';\r\nimport DashboardDataProvider from './scenes/Dashboard/DashboardDataProvider';\r\nimport Reports from './scenes/Reports';\r\nimport ReportsDataProvider from './scenes/Reports/ReportsDataProvider';\r\nimport ReportsGenerator from './scenes/ReportsGenerator';\r\n\r\nimport Alarms from './scenes/Alarms';\r\nimport AlarmsDataProvider from './scenes/Alarms/AlarmsDataProvider';\r\n\r\nimport Db from './scenes/Db';\r\nimport DbDataProvider from './scenes/Db/DbDataProvider';\r\n\r\nmoment.locale('pl');\r\n\r\nconst App = ({ appBaseData }) => {\r\n  return (\r\n    <StyledApp>\r\n      <LocaleProvider locale={pl_PL}>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path={`${ReportsGeneratorRoute}/:building/:year/:quarter`}\r\n            component={ReportsGenerator}\r\n          />\r\n          <Route path=\"/\">\r\n            <AppDataProvider appBaseData={appBaseData}>\r\n              <DashboardDataProvider>\r\n                <AdministrationDataProvider>\r\n                  <MainLoading />\r\n                  <Switch>\r\n                    <Route path={SignInRoute}>\r\n                      <SignIn />\r\n                    </Route>\r\n                    <Authentication>\r\n                      <Layout>\r\n                        <Switch>\r\n                          <Route exact path=\"/\">\r\n                            <Redirect from=\"/\" to={DashboardRoute} />\r\n                          </Route>\r\n                          <Route path={DashboardRoute}>\r\n                            <Dashboard />\r\n                          </Route>\r\n                          <Route path={AdministrationRoute}>\r\n                            <Administration />\r\n                          </Route>\r\n                          <Route path={DataAnalyticsRoute}>\r\n                            <AnalysisDataProvider>\r\n                              <Analysis />\r\n                            </AnalysisDataProvider>\r\n                          </Route>\r\n                          <Route path={AlarmsRoute}>\r\n                            <AlarmsDataProvider>\r\n                              <Alarms />\r\n                            </AlarmsDataProvider>\r\n                          </Route>\r\n                          <Route path={ReportsRoute}>\r\n                            <ReportsDataProvider>\r\n                              <Reports />\r\n                            </ReportsDataProvider>\r\n                          </Route>\r\n                          <Route path={DbRoute}>\r\n                            <DbDataProvider>\r\n                              <Db />\r\n                            </DbDataProvider>\r\n                          </Route>\r\n                        </Switch>\r\n                      </Layout>\r\n                    </Authentication>\r\n                  </Switch>\r\n                </AdministrationDataProvider>\r\n              </DashboardDataProvider>\r\n            </AppDataProvider>\r\n          </Route>\r\n        </Switch>\r\n      </LocaleProvider>\r\n    </StyledApp>\r\n  );\r\n};\r\n\r\nconst StyledApp = styled.div`\r\n  min-width: 1366px;\r\n  min-height: 720px;\r\n  height: 100%;\r\n`;\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport to from 'await-to-js';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport reset from 'styled-reset';\r\n\r\nimport 'antd/dist/antd.css';\r\n\r\nimport App from './App';\r\nimport { getEnums } from './scenes/SignIn/services/api';\r\nimport { getBuildings } from './scenes/Administration/services/api';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_BASE;\r\n\r\n// console.log(process.env.REACT_APP_API_BASE, 'base');\r\nconst token = localStorage.getItem('user-token');\r\nif (token) {\r\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n}\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  ${reset}\r\n`;\r\n\r\nconst getBaseData = async () => {\r\n  const [err, buildings] = await to(getBuildings());\r\n  if (err) console.err('Get buildings eroor: ', err);\r\n  const [enumErr, enums] = await to(getEnums());\r\n  if (enumErr) console.err('Get enums eroor: ', enumErr);\r\n\r\n  // FIX ME MATEUSZ MICHALEWSKI :)\r\n  buildings.data = [\r\n    {\r\n      id: 1,\r\n      name: 'SP nr 17',\r\n      measurements: [\r\n        'temperature',\r\n        'co2',\r\n        'humidity',\r\n        'electricity',\r\n        'hotWater',\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Muzeum Kultury',\r\n      measurements: ['temperature', 'co2', 'humidity'],\r\n    },\r\n    {\r\n      id: 44,\r\n      name: 'Dom seniora',\r\n      measurements: ['electricity', 'hotWater'],\r\n    },\r\n  ];\r\n\r\n  return {\r\n    enums: enums.data,\r\n    buildings: buildings.data,\r\n    appHeader: 'KAPE',\r\n  };\r\n};\r\n\r\nif (localStorage.getItem('user-token')) {\r\n  getBaseData().then(data => {\r\n    renderApp(data);\r\n  });\r\n} else {\r\n  renderApp();\r\n}\r\n\r\nfunction renderApp(data) {\r\n  const app = (\r\n    <React.Fragment>\r\n      <GlobalStyle />\r\n      <Router>\r\n        <App appBaseData={data} />\r\n      </Router>\r\n    </React.Fragment>\r\n  );\r\n\r\n  ReactDOM.render(app, document.getElementById('root'));\r\n}\r\n"],"sourceRoot":""}